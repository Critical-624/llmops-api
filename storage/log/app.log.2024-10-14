[2024-10-14 09:21:49,098.098] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:21:54,325.325] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:21:54,327.327] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:23:54,228.228] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\segment_handler.py', reloading
[2024-10-14 09:23:54,527.527] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:24:27,177.177] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:24:32,113.113] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:24:32,115.115] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:25:35,583.583] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\segment_handler.py', reloading
[2024-10-14 09:25:35,902.902] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:25:41,026.026] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:25:41,027.027] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:27:21,617.617] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:27:21,892.892] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:27:26,788.788] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:27:26,791.791] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:27:29,383.383] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:27:29,669.669] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:27:34,640.640] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:27:34,643.643] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:27:37,184.184] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:27:37,495.495] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:27:42,639.639] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:27:42,642.642] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:28:20,880.880] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:28:21,204.204] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:28:26,254.254] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:28:26,256.256] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:28:42,651.651] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:28:42,952.952] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:28:47,989.989] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:28:47,992.992] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:28:49,396.396] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:28:49,786.786] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:28:54,657.657] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:28:54,659.659] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:28:57,245.245] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:28:57,583.583] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:29:02,705.705] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:29:02,708.708] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:29:31,821.821] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:29:32,125.125] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:29:36,871.871] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:29:36,874.874] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:30:10,483.483] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:30:10,755.755] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:30:15,258.258] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:30:15,260.260] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:31:02,736.736] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:31:03,023.023] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:31:07,763.763] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:31:07,766.766] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:31:14,901.901] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:31:15,210.210] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:31:19,783.783] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:31:19,786.786] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:32:22,138.138] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:32:22,432.432] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:32:26,981.981] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:32:26,985.985] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:33:34,227.227] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:33:34,522.522] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:33:39,020.020] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:33:39,022.022] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:34:34,532.532] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:34:34,820.820] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:34:39,527.527] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:34:39,530.530] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:35:22,410.410] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\router\\router.py', reloading
[2024-10-14 09:35:22,784.784] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:35:27,344.344] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:35:27,347.347] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:35:53,587.587] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 844, in dispatch_request
    self.raise_routing_exception(req)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 453, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\werkzeug\routing\map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-14 09:35:53,613.613] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:35:53] "[35m[1mPOST /datasets/:dataset_id/documents/:document_id/segments/:segment_id HTTP/1.1[0m" 500 -
[2024-10-14 09:36:16,124.124] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-14 09:36:16,124.124] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 09:36:16,125.125] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-14 09:36:16,125.125] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 09:36:16,126.126] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-14 09:36:16,126.126] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 09:36:16,127.127] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:16,130.130] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:36:16,130.130] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:36:16,134.134] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(max(segment.position), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-14 09:36:16,134.134] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'coalesce_2': 0, 'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:36:16,137.137] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, keywords, hash, enabled, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(keywords)s, %(hash)s, %(enabled)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.hit_count, segment.error, segment.updated_at, segment.created_at
[2024-10-14 09:36:16,138.138] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00037s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'node_id': UUID('f042ed84-a9a8-4cff-b5ea-1475bf2ba831'), 'position': 62, 'content': '这是一条用于删除的测试数据，来源于慕课网', 'character_count': 20, 'token_count': 19, 'keywords': '["\\u6155\\u8bfe\\u7f51", "\\u7a0b\\u5e8f\\u5458", "\\u68a6\\u5de5\\u5382"]', 'hash': '89a7b8c68bb1af1d993de70c2b3d17ba1fb1fa85b67b3688e077bee593a1beb2', 'enabled': True, 'disabled_at': None, 'processing_started_at': datetime.datetime(2024, 10, 14, 9, 36, 16, 135098), 'indexing_completed_at': datetime.datetime(2024, 10, 14, 9, 36, 16, 135098), 'completed_at': datetime.datetime(2024, 10, 14, 9, 36, 16, 135098), 'stopped_at': None, 'status': <SegmentStatus.COMPLETED: 'completed'>}
[2024-10-14 09:36:16,138.138] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:36:16,155.155] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:16,156.156] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:36:16,156.156] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:36:16,159.159] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:36:16,159.159] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:36:16,221.221] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.character_count), %(coalesce_2)s) AS coalesce_1, coalesce(sum(segment.token_count), %(coalesce_4)s) AS coalesce_3 
FROM segment 
 LIMIT %(param_1)s
[2024-10-14 09:36:16,221.221] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'coalesce_2': 0, 'coalesce_4': 0, 'param_1': 1}
[2024-10-14 09:36:16,223.223] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET character_count=%(character_count)s, token_count=%(token_count)s WHERE document.id = %(document_id)s::UUID
[2024-10-14 09:36:16,223.223] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'character_count': 48328, 'token_count': 25431, 'document_id': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:36:16,224.224] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:36:16,226.226] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:16,226.226] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:36:16,226.226] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.07068s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:36:16,228.228] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:36:16,228.228] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.06902s ago] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:36:16,230.230] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:36:16,230.230] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:36:16,233.233] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.keywords AS segment_keywords 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-14 09:36:16,233.233] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'id_1_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:36:16,235.235] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:36:16,235.235] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00050s] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (27198 characters truncated) ... 5ddaffd244b9"], "\\u7a0b\\u5e8f\\u5458": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"], "\\u68a6\\u5de5\\u5382": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:36:16,237.237] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:36:16,257.257] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:36:16] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments HTTP/1.1" 200 -
[2024-10-14 09:36:21,699.699] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:21,699.699] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:36:21,699.699] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.569s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:36:21,702.702] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID AND segment.content ILIKE %(content_1)s ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:36:21,702.702] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'content_1': '%慕课网%', 'param_1': 20, 'param_2': 0}
[2024-10-14 09:36:21,706.706] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID AND segment.content ILIKE %(content_1)s) AS anon_1
[2024-10-14 09:36:21,706.706] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'content_1': '%慕课网%'}
[2024-10-14 09:36:21,708.708] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:36:21,709.709] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:36:21] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=1&page_size=20&search_word=慕课网 HTTP/1.1" 200 -
[2024-10-14 09:36:28,593.593] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:36:28] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments/60aa1f04-bf17-4ea9-b17a-5ddaffd244b9 HTTP/1.1" 200 -
[2024-10-14 09:36:52,603.603] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:52,604.604] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:36:52,604.604] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:36:52,605.605] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-14 09:36:52,605.605] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-14 09:36:53,099.099] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.493 seconds.
[2024-10-14 09:36:53,099.099] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-14 09:36:53,100.100] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET content=%(content)s, keywords=%(keywords)s, hash=%(hash)s WHERE segment.id = %(segment_id)s::UUID
[2024-10-14 09:36:53,101.101] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'content': '我已经被修改了，可以看看我的内容是否有变化', 'keywords': '["\\u4fee\\u6539", "\\u770b\\u770b", "\\u662f\\u5426", "\\u5185\\u5bb9", "\\u53d8\\u5316", "\\u5df2\\u7ecf"]', 'hash': '7b8fc90a4ca74f5dcf2891862b8767fb7f19cc915c2792e3d1a87bfae3993011', 'segment_id': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:36:53,102.102] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:36:53,114.114] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:53,114.114] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:36:53,114.114] base.py -> _exec_single_context line:1908 [INFO]: [cached since 36.88s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:36:53,116.116] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:36:53,116.116] base.py -> _exec_single_context line:1908 [INFO]: [cached since 36.88s ago] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (26997 characters truncated) ... , "\\u82f1\\u6587\\u5355\\u8bcd": ["7bec2cf6-db6c-4c37-91fa-b197f836c7f8"], "\\u9519\\u8bef\\u4fe1\\u606f": ["f93e4395-74b2-4420-afd8-dad834ba34b8"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:36:53,118.118] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:36:53,120.120] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:53,120.120] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:36:53,121.121] base.py -> _exec_single_context line:1908 [INFO]: [cached since 36.89s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:36:53,122.122] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.keywords AS segment_keywords 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-14 09:36:53,122.122] base.py -> _exec_single_context line:1908 [INFO]: [cached since 36.89s ago] {'id_1_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:36:53,123.123] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:36:53,123.123] base.py -> _exec_single_context line:1908 [INFO]: [cached since 36.89s ago] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (27357 characters truncated) ... f17-4ea9-b17a-5ddaffd244b9"], "\\u53d8\\u5316": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"], "\\u5df2\\u7ecf": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:36:53,125.125] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:36:53,127.127] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:53,127.127] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:36:53,128.128] base.py -> _exec_single_context line:1908 [INFO]: [cached since 36.97s ago] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:36:53,129.129] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:36:53,130.130] base.py -> _exec_single_context line:1908 [INFO]: [cached since 37s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:36:53,131.131] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.character_count), %(coalesce_2)s) AS coalesce_1, coalesce(sum(segment.token_count), %(coalesce_4)s) AS coalesce_3 
FROM segment 
 LIMIT %(param_1)s
[2024-10-14 09:36:53,131.131] base.py -> _exec_single_context line:1908 [INFO]: [cached since 36.91s ago] {'coalesce_2': 0, 'coalesce_4': 0, 'param_1': 1}
[2024-10-14 09:36:53,132.132] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:36:53,132.132] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:36:53,133.133] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:36:53,133.133] base.py -> _exec_single_context line:1908 [INFO]: [cached since 36.97s ago] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:36:55,289.289] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:36:55,290.290] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:36:55] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments/60aa1f04-bf17-4ea9-b17a-5ddaffd244b9 HTTP/1.1" 200 -
[2024-10-14 09:37:05,169.169] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:37:05,170.170] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:37:05,170.170] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.04s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:37:05,172.172] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID AND segment.content ILIKE %(content_1)s ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:37:05,172.172] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.47s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'content_1': '%慕课网%', 'param_1': 20, 'param_2': 0}
[2024-10-14 09:37:05,174.174] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID AND segment.content ILIKE %(content_1)s) AS anon_1
[2024-10-14 09:37:05,174.174] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.47s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'content_1': '%慕课网%'}
[2024-10-14 09:37:05,176.176] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:37:05,177.177] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:37:05] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=1&page_size=20&search_word=慕课网 HTTP/1.1" 200 -
[2024-10-14 09:37:11,208.208] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:37:11,209.209] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:37:11,209.209] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.08s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:37:11,211.211] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID AND segment.content ILIKE %(content_1)s ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:37:11,211.211] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.51s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'content_1': '%测试%', 'param_1': 20, 'param_2': 0}
[2024-10-14 09:37:11,213.213] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID AND segment.content ILIKE %(content_1)s) AS anon_1
[2024-10-14 09:37:11,213.213] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.51s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'content_1': '%测试%'}
[2024-10-14 09:37:11,216.216] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:37:11,216.216] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:37:11] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=1&page_size=20&search_word=测试 HTTP/1.1" 200 -
[2024-10-14 09:37:19,614.614] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:37:19,614.614] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:37:19,615.615] base.py -> _exec_single_context line:1908 [INFO]: [cached since 63.48s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:37:19,617.617] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:37:19,617.617] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'param_1': 20, 'param_2': 0}
[2024-10-14 09:37:19,620.620] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-14 09:37:19,620.620] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:37:19,623.623] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:37:19,623.623] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:37:19] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-14 09:37:26,247.247] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:37:26,248.248] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:37:26,248.248] base.py -> _exec_single_context line:1908 [INFO]: [cached since 70.12s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:37:26,250.250] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:37:26,250.250] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.633s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'param_1': 20, 'param_2': 60}
[2024-10-14 09:37:26,251.251] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-14 09:37:26,253.253] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.633s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:37:26,254.254] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:37:26,255.255] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:37:26] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=4&page_size=20 HTTP/1.1" 200 -
[2024-10-14 09:37:50,857.857] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:37:50,858.858] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:37:50,858.858] base.py -> _exec_single_context line:1908 [INFO]: [cached since 58.25s ago] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:37:50,860.860] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET keywords=%(keywords)s WHERE segment.id = %(segment_id)s::UUID
[2024-10-14 09:37:50,860.860] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'keywords': '["\\u4fee\\u6539", "\\u5185\\u5bb9"]', 'segment_id': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:37:50,861.861] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:37:50,864.864] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:37:50,864.864] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:37:50,864.864] base.py -> _exec_single_context line:1908 [INFO]: [cached since 94.63s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:37:50,866.866] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:37:50,866.866] base.py -> _exec_single_context line:1908 [INFO]: [cached since 94.63s ago] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (26997 characters truncated) ... , "\\u82f1\\u6587\\u5355\\u8bcd": ["7bec2cf6-db6c-4c37-91fa-b197f836c7f8"], "\\u9519\\u8bef\\u4fe1\\u606f": ["f93e4395-74b2-4420-afd8-dad834ba34b8"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:37:50,867.867] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:37:50,868.868] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:37:50,869.869] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:37:50,869.869] base.py -> _exec_single_context line:1908 [INFO]: [cached since 94.64s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:37:50,871.871] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.keywords AS segment_keywords 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-14 09:37:50,871.871] base.py -> _exec_single_context line:1908 [INFO]: [cached since 94.64s ago] {'id_1_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:37:50,872.872] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:37:50,872.872] base.py -> _exec_single_context line:1908 [INFO]: [cached since 94.64s ago] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (27117 characters truncated) ... 4b2-4420-afd8-dad834ba34b8"], "\\u4fee\\u6539": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"], "\\u5185\\u5bb9": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:37:50,875.875] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:37:50,898.898] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:37:50] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments/60aa1f04-bf17-4ea9-b17a-5ddaffd244b9 HTTP/1.1" 200 -
[2024-10-14 09:37:52,991.991] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:37:52,992.992] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:37:52,992.992] base.py -> _exec_single_context line:1908 [INFO]: [cached since 96.86s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:37:52,994.994] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:37:52,994.994] base.py -> _exec_single_context line:1908 [INFO]: [cached since 33.38s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'param_1': 20, 'param_2': 60}
[2024-10-14 09:37:52,995.995] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-14 09:37:52,995.995] base.py -> _exec_single_context line:1908 [INFO]: [cached since 33.38s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:37:52,996.996] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:37:52,996.996] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:37:52] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=4&page_size=20 HTTP/1.1" 200 -
[2024-10-14 09:47:57,397.397] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:47:57,716.716] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:48:02,393.393] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:48:02,396.396] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:50:39,186.186] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-14 09:50:39,553.553] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 09:50:44,304.304] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 09:50:44,307.307] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 09:54:44,898.898] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-14 09:54:44,898.898] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 09:54:44,899.899] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-14 09:54:44,899.899] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 09:54:44,899.899] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-14 09:54:44,899.899] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 09:54:44,899.899] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:54:44,901.901] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:54:44,902.902] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:54:44,906.906] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:54:44,906.906] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'param_1': 20, 'param_2': 60}
[2024-10-14 09:54:44,909.909] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-14 09:54:44,909.909] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:54:44,910.910] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:54:44,911.911] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:54:44] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=4&page_size=20 HTTP/1.1" 200 -
[2024-10-14 09:55:14,226.226] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:14,227.227] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:55:14,227.227] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:55:14,228.228] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-14 09:55:14,229.229] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-14 09:55:14,719.719] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.491 seconds.
[2024-10-14 09:55:14,720.720] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-14 09:55:14,958.958] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET content=%(content)s, character_count=%(character_count)s, token_count=%(token_count)s, keywords=%(keywords)s, hash=%(hash)s WHERE segment.id = %(segment_id)s::UUID
[2024-10-14 09:55:14,959.959] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00035s] {'content': '慕课网，程序员的梦工厂。', 'character_count': 12, 'token_count': 17, 'keywords': '["\\u68a6\\u5de5\\u5382", "\\u6155\\u8bfe", "\\u7a0b\\u5e8f\\u5458"]', 'hash': 'd52b108e68d4f681e9d691dc0e3f310ced93fad349ecb1c7e7dbe5fedaeb0320', 'segment_id': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:55:14,960.960] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:55:14,992.992] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:14,993.993] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:55:14,994.994] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:55:14,996.996] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:55:14,997.997] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00053s] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (26997 characters truncated) ... , "\\u82f1\\u6587\\u5355\\u8bcd": ["7bec2cf6-db6c-4c37-91fa-b197f836c7f8"], "\\u9519\\u8bef\\u4fe1\\u606f": ["f93e4395-74b2-4420-afd8-dad834ba34b8"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:55:14,999.999] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:55:15,007.007] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:15,007.007] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:55:15,008.008] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01393s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:55:15,010.010] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.keywords AS segment_keywords 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-14 09:55:15,010.010] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'id_1_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:55:15,011.011] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:55:15,011.011] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01492s ago] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (27191 characters truncated) ... 9-b17a-5ddaffd244b9"], "\\u6155\\u8bfe": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"], "\\u7a0b\\u5e8f\\u5458": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:55:15,013.013] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:55:15,029.029] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:15,030.030] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:55:15,030.030] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:55:15,032.032] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:55:15,032.032] base.py -> _exec_single_context line:1908 [INFO]: [cached since 30.13s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:55:15,035.035] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.character_count), %(coalesce_2)s) AS coalesce_1, coalesce(sum(segment.token_count), %(coalesce_4)s) AS coalesce_3 
FROM segment 
 LIMIT %(param_1)s
[2024-10-14 09:55:15,035.035] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'coalesce_2': 0, 'coalesce_4': 0, 'param_1': 1}
[2024-10-14 09:55:15,037.037] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET character_count=%(character_count)s, token_count=%(token_count)s WHERE document.id = %(document_id)s::UUID
[2024-10-14 09:55:15,037.037] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'character_count': 48320, 'token_count': 25429, 'document_id': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:55:15,037.037] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:55:15,038.038] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:15,039.039] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:55:15,039.039] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009814s ago] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:55:17,345.345] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:55:17,346.346] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:55:17] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments/60aa1f04-bf17-4ea9-b17a-5ddaffd244b9 HTTP/1.1" 200 -
[2024-10-14 09:55:23,085.085] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:23,085.085] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:55:23,085.085] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.18s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:55:23,088.088] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:55:23,088.088] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.18s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'param_1': 20, 'param_2': 60}
[2024-10-14 09:55:23,089.089] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-14 09:55:23,089.089] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.18s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:55:23,091.091] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:55:23,092.092] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:55:23] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=4&page_size=20 HTTP/1.1" 200 -
[2024-10-14 09:55:42,239.239] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:42,240.240] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-14 09:55:42,240.240] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.01s ago] {'pk_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:55:42,242.242] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET keywords=%(keywords)s WHERE segment.id = %(segment_id)s::UUID
[2024-10-14 09:55:42,242.242] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'keywords': '["\\u6155\\u8bfe", "\\u5de5\\u7a0b", "\\u68a6"]', 'segment_id': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:55:42,243.243] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:55:42,246.246] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:42,246.246] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:55:42,247.247] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.25s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:55:42,248.248] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:55:42,249.249] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.25s ago] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (26997 characters truncated) ... , "\\u82f1\\u6587\\u5355\\u8bcd": ["7bec2cf6-db6c-4c37-91fa-b197f836c7f8"], "\\u9519\\u8bef\\u4fe1\\u606f": ["f93e4395-74b2-4420-afd8-dad834ba34b8"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:55:42,250.250] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:55:42,252.252] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:42,253.253] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-14 09:55:42,253.253] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.26s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 09:55:42,255.255] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.keywords AS segment_keywords 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-14 09:55:42,255.255] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.25s ago] {'id_1_1': UUID('60aa1f04-bf17-4ea9-b17a-5ddaffd244b9')}
[2024-10-14 09:55:42,256.256] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-14 09:55:42,256.256] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.26s ago] {'keyword_table': '{"10": ["c81d9e46-a567-40d7-8bdb-e9abad764ca9"], "23": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "24": ["5a7ab6b7-5cf7-424a-adaa-8e181549f487"], "25" ... (27170 characters truncated) ... a1f04-bf17-4ea9-b17a-5ddaffd244b9"], "\\u5de5\\u7a0b": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"], "\\u68a6": ["60aa1f04-bf17-4ea9-b17a-5ddaffd244b9"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-14 09:55:42,258.258] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 09:55:42,261.261] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:55:42] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments/60aa1f04-bf17-4ea9-b17a-5ddaffd244b9 HTTP/1.1" 200 -
[2024-10-14 09:55:47,288.288] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 09:55:47,289.289] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 09:55:47,289.289] base.py -> _exec_single_context line:1908 [INFO]: [cached since 62.39s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:55:47,290.290] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-14 09:55:47,291.291] base.py -> _exec_single_context line:1908 [INFO]: [cached since 62.38s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8'), 'param_1': 20, 'param_2': 60}
[2024-10-14 09:55:47,292.292] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-14 09:55:47,292.292] base.py -> _exec_single_context line:1908 [INFO]: [cached since 62.38s ago] {'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-14 09:55:47,293.293] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 09:55:47,294.294] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 09:55:47] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/d4b902e3-a013-4780-93fa-6fc300ab6bf8/segments?current_page=4&page_size=20 HTTP/1.1" 200 -
[2024-10-14 14:51:16,484.484] base.py -> get_connection line:842 [INFO]: Connection <connection object at 0x0000022B18E20590; dsn: 'user=postgres password=xxx dbname=llmops host=192.168.110.240 port=5432 client_encoding=utf8', closed: 0> exceeded timeout; recycling
[2024-10-14 14:51:16,501.501] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:51:16,514.514] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-14 14:51:16,514.514] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00101s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': '项目API文档-完整.pdf', 'key': '2024/10/14/efe5d3b1-6c01-4271-9e3d-70a315c86c7b.pdf', 'size': 539196, 'extension': 'pdf', 'mime_type': 'application/pdf', 'hash': '383c77915b0e7a53a1dea67a39215dd17ba8efac3f236ff3b2511c632a76c39e'}
[2024-10-14 14:51:16,516.516] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:51:16,529.529] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:51:16,538.538] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 14:51:16,539.539] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00078s] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 14:51:16,543.543] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 14:51:16,544.544] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 14:51:16] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-14 14:51:35,840.840] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:51:35,841.841] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 14:51:35,842.842] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00035s] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 14:51:35,843.843] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 42, in create_documents
    documents, batch = self.document_service.create_documents(dataset_id, **req.data)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 53, in create_documents
    raise ForbiddenException("当前用户无该知识库权限或知识库不存在")
internal.exception.exception.ForbiddenException
[2024-10-14 14:51:35,865.865] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 14:51:35,866.866] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 14:51:35] "POST /datasets/469b99ae-5880-4b40-b087-6fb36f95911c/documents HTTP/1.1" 200 -
[2024-10-14 14:51:51,761.761] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:51:51,762.762] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 14:51:51,762.762] base.py -> _exec_single_context line:1908 [INFO]: [cached since 15.92s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 14:51:51,765.765] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 14:51:51,765.765] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00037s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 14:51:51,768.768] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 14:51:51,768.768] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 14:51:51,769.769] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:51:51,815.815] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:51:51,816.816] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 14:51:51,817.817] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 14:51:51,818.818] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 14:51:51,819.819] base.py -> _exec_single_context line:1908 [INFO]: [cached since 35.28s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 14:51:51,820.820] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 14:51:51,821.821] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('88c83cba-a77e-42ba-b662-119adcba033f')}
[2024-10-14 14:51:51,823.823] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 14:51:51,823.823] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00032s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('88c83cba-a77e-42ba-b662-119adcba033f'), 'batch': '20241014145151611612', 'name': '项目API文档-完整.pdf', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 14:51:51,824.824] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:51:51,846.846] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:51:51,848.848] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 14:51:51,848.848] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'pk_1': UUID('d3b2da88-b51b-4a38-9370-109d66a6b28c')}
[2024-10-14 14:51:51,951.951] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 14:51:51,952.952] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 14:51:51] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 14:55:24,452.452] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:55:24,453.453] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 14:55:24,453.453] base.py -> _exec_single_context line:1908 [INFO]: [cached since 228.6s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 14:55:24,454.454] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 14:55:24,454.454] base.py -> _exec_single_context line:1908 [INFO]: [cached since 212.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 14:55:24,455.455] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 14:55:24,455.455] base.py -> _exec_single_context line:1908 [INFO]: [cached since 212.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 14:55:24,456.456] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:55:24,479.479] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:55:24,479.479] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 14:55:24,479.479] base.py -> _exec_single_context line:1908 [INFO]: [cached since 212.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 14:55:24,480.480] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 14:55:24,480.480] base.py -> _exec_single_context line:1908 [INFO]: [cached since 247.9s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 14:55:24,481.481] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 14:55:24,481.481] base.py -> _exec_single_context line:1908 [INFO]: [cached since 212.7s ago] {'pk_1': UUID('3cdbc571-67e2-4262-a0ab-6c8a62742536')}
[2024-10-14 14:55:24,482.482] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 14:55:24,482.482] base.py -> _exec_single_context line:1908 [INFO]: [cached since 212.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('3cdbc571-67e2-4262-a0ab-6c8a62742536'), 'batch': '20241014145524231581', 'name': '项目API文档-完整.pdf', 'position': 3, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 14:55:24,483.483] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:55:24,484.484] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:55:24,485.485] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 14:55:24,485.485] base.py -> _exec_single_context line:1908 [INFO]: [cached since 212.6s ago] {'pk_1': UUID('3c4bd2be-345f-43f7-9415-ea4388a92165')}
[2024-10-14 14:55:24,536.536] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 14:55:24,536.536] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 14:55:24] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 14:56:13,927.927] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:56:13,927.927] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 14:56:13,927.927] base.py -> _exec_single_context line:1908 [INFO]: [cached since 278.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 14:56:13,929.929] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 14:56:13,929.929] base.py -> _exec_single_context line:1908 [INFO]: [cached since 262.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 14:56:13,930.930] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 14:56:13,930.930] base.py -> _exec_single_context line:1908 [INFO]: [cached since 262.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 14:56:13,931.931] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:56:13,952.952] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:56:13,952.952] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 14:56:13,952.952] base.py -> _exec_single_context line:1908 [INFO]: [cached since 262.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 14:56:13,953.953] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 14:56:13,954.954] base.py -> _exec_single_context line:1908 [INFO]: [cached since 297.4s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 14:56:13,954.954] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 14:56:13,954.954] base.py -> _exec_single_context line:1908 [INFO]: [cached since 262.1s ago] {'pk_1': UUID('7a82e366-45a5-4576-9fd6-e9fd61d4f0ed')}
[2024-10-14 14:56:13,955.955] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 14:56:13,955.955] base.py -> _exec_single_context line:1908 [INFO]: [cached since 262.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('7a82e366-45a5-4576-9fd6-e9fd61d4f0ed'), 'batch': '20241014145613526904', 'name': '项目API文档-完整.pdf', 'position': 4, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 14:56:13,958.958] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:56:13,959.959] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:56:13,959.959] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 14:56:13,959.959] base.py -> _exec_single_context line:1908 [INFO]: [cached since 262.1s ago] {'pk_1': UUID('0f52b4a2-f480-4a56-9357-62f7e1cba543')}
[2024-10-14 14:56:13,980.980] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 14:56:13,980.980] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 14:56:13] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 14:57:15,786.786] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:57:15,787.787] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 14:57:15,787.787] base.py -> _exec_single_context line:1908 [INFO]: [cached since 339.9s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 14:57:15,787.787] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 14:57:15,788.788] base.py -> _exec_single_context line:1908 [INFO]: [cached since 324s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 14:57:15,789.789] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 14:57:15,789.789] base.py -> _exec_single_context line:1908 [INFO]: [cached since 324s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 14:57:15,790.790] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:57:15,800.800] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:57:15,801.801] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 14:57:15,801.801] base.py -> _exec_single_context line:1908 [INFO]: [cached since 324s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 14:57:15,803.803] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 14:57:15,803.803] base.py -> _exec_single_context line:1908 [INFO]: [cached since 359.3s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 14:57:15,804.804] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 14:57:15,804.804] base.py -> _exec_single_context line:1908 [INFO]: [cached since 324s ago] {'pk_1': UUID('2c70c176-d11f-4e57-aca2-a4e84d13d033')}
[2024-10-14 14:57:15,805.805] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 14:57:15,805.805] base.py -> _exec_single_context line:1908 [INFO]: [cached since 324s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('2c70c176-d11f-4e57-aca2-a4e84d13d033'), 'batch': '20241014145715561796', 'name': '项目API文档-完整.pdf', 'position': 5, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 14:57:15,806.806] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:57:15,823.823] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:57:15,823.823] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 14:57:15,824.824] base.py -> _exec_single_context line:1908 [INFO]: [cached since 324s ago] {'pk_1': UUID('26df6e72-dcd6-4c4f-a877-b15ece8fb7f8')}
[2024-10-14 14:57:15,847.847] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 14:57:15,848.848] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 14:57:15] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 14:59:42,685.685] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:59:42,686.686] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 14:59:42,686.686] base.py -> _exec_single_context line:1908 [INFO]: [cached since 486.8s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 14:59:42,687.687] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 14:59:42,687.687] base.py -> _exec_single_context line:1908 [INFO]: [cached since 470.9s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 14:59:42,688.688] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 14:59:42,688.688] base.py -> _exec_single_context line:1908 [INFO]: [cached since 470.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 14:59:42,689.689] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:59:42,691.691] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:59:42,691.691] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 14:59:42,703.703] base.py -> _exec_single_context line:1908 [INFO]: [cached since 470.9s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 14:59:42,704.704] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 14:59:42,704.704] base.py -> _exec_single_context line:1908 [INFO]: [cached since 506.2s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 14:59:42,705.705] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 14:59:42,705.705] base.py -> _exec_single_context line:1908 [INFO]: [cached since 470.9s ago] {'pk_1': UUID('0ea7223f-e7ac-4f5b-848a-87b269c4b6a5')}
[2024-10-14 14:59:42,706.706] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 14:59:42,706.706] base.py -> _exec_single_context line:1908 [INFO]: [cached since 470.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('0ea7223f-e7ac-4f5b-848a-87b269c4b6a5'), 'batch': '20241014145942323334', 'name': '项目API文档-完整.pdf', 'position': 6, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 14:59:42,707.707] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 14:59:42,708.708] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 14:59:42,708.708] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 14:59:42,708.708] base.py -> _exec_single_context line:1908 [INFO]: [cached since 470.9s ago] {'pk_1': UUID('7cb9d869-766d-431f-9a1b-1e28cdd5ac49')}
[2024-10-14 14:59:42,738.738] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 14:59:42,739.739] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 14:59:42] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 15:00:30,066.066] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 15:00:30,067.067] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 15:00:30,067.067] base.py -> _exec_single_context line:1908 [INFO]: [cached since 534.2s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 15:00:30,068.068] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 15:00:30,068.068] base.py -> _exec_single_context line:1908 [INFO]: [cached since 518.3s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 15:00:30,069.069] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 15:00:30,069.069] base.py -> _exec_single_context line:1908 [INFO]: [cached since 518.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 15:00:30,070.070] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 15:00:30,073.073] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 15:00:30,073.073] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 15:00:30,073.073] base.py -> _exec_single_context line:1908 [INFO]: [cached since 518.3s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 15:00:30,074.074] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 15:00:30,074.074] base.py -> _exec_single_context line:1908 [INFO]: [cached since 553.5s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 15:00:30,075.075] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 15:00:30,075.075] base.py -> _exec_single_context line:1908 [INFO]: [cached since 518.3s ago] {'pk_1': UUID('5dd3056e-5dad-499f-b3ea-3b4507095124')}
[2024-10-14 15:00:30,075.075] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 15:00:30,075.075] base.py -> _exec_single_context line:1908 [INFO]: [cached since 518.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('5dd3056e-5dad-499f-b3ea-3b4507095124'), 'batch': '20241014150030878445', 'name': '项目API文档-完整.pdf', 'position': 7, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 15:00:30,076.076] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 15:00:30,077.077] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 15:00:30,079.079] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 15:00:30,079.079] base.py -> _exec_single_context line:1908 [INFO]: [cached since 518.2s ago] {'pk_1': UUID('eed9cbf7-b77d-4c53-a67e-bde0aec7fbef')}
[2024-10-14 15:00:30,097.097] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 15:00:30,098.098] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 15:00:30] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 15:04:47,704.704] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\embeddings_service.py', reloading
[2024-10-14 15:04:48,545.545] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 15:07:34,994.994] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 15:07:40,027.027] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 15:07:40,031.031] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 15:10:35,798.798] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\embeddings_service.py', reloading
[2024-10-14 15:10:36,090.090] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 17:43:34,318.318] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 17:43:39,330.330] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 17:43:39,333.333] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 17:50:53,994.994] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\model\\conversation.py', reloading
[2024-10-14 17:50:54,301.301] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 17:50:59,111.111] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 17:50:59,113.113] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 17:51:05,279.279] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\model\\conversation.py', reloading
[2024-10-14 17:51:05,596.596] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 17:51:10,526.526] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 17:51:10,528.528] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 17:51:31,622.622] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\model\\conversation.py', reloading
[2024-10-14 17:51:31,901.901] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 17:51:36,785.785] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 17:51:36,788.788] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 17:52:33,669.669] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\model\\conversation.py', reloading
[2024-10-14 17:52:33,978.978] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 17:52:38,986.986] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 17:52:38,990.990] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 17:52:40,457.457] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\model\\conversation.py', reloading
[2024-10-14 17:52:40,748.748] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 17:52:45,681.681] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 17:52:45,684.684] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 17:54:39,158.158] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\model\\conversation.py', reloading
[2024-10-14 17:54:39,478.478] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 17:54:44,535.535] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 17:54:44,538.538] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 20:21:58,962.962] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-14 20:21:58,963.963] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 20:21:58,964.964] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-14 20:21:58,965.965] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 20:21:58,965.965] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-14 20:21:58,965.965] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 20:21:58,966.966] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:21:58,969.969] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:21:58,970.970] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00038s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:21:58,974.974] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:21:58,975.975] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00036s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 20:21:58,978.978] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:21:58,978.978] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00040s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:21:58,979.979] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:21:58,986.986] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:21:58,987.987] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:21:58,987.987] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:21:58,989.989] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:21:58,989.989] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 20:21:58,991.991] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:21:58,991.991] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00032s] {'pk_1': UUID('1bfdf8d7-963b-4965-bc87-773efc63fe71')}
[2024-10-14 20:21:58,993.993] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:21:58,993.993] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('1bfdf8d7-963b-4965-bc87-773efc63fe71'), 'batch': '20241014202158876530', 'name': '项目API文档-完整.pdf', 'position': 8, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:21:58,994.994] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:21:59,009.009] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:21:59,009.009] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:21:59,010.010] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('e669ae11-f3d7-4d7f-b803-4f8f3299c718')}
[2024-10-14 20:21:59,057.057] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:21:59,058.058] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:21:59] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:21:59,567.567] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:21:59,567.567] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:21:59,567.567] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.5977s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:21:59,568.568] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:21:59,569.569] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.5942s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 20:21:59,569.569] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:21:59,570.570] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.5917s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:21:59,570.570] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:21:59,615.615] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:21:59,616.616] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:21:59,616.616] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6286s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:21:59,617.617] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:21:59,617.617] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.628s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 20:21:59,618.618] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:21:59,618.618] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6274s ago] {'pk_1': UUID('9324e971-257d-4139-975b-b5a0e67bb53a')}
[2024-10-14 20:21:59,619.619] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:21:59,619.619] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6267s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('9324e971-257d-4139-975b-b5a0e67bb53a'), 'batch': '20241014202159728521', 'name': '项目API文档-完整.pdf', 'position': 9, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:21:59,620.620] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:21:59,621.621] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:21:59,622.622] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:21:59,622.622] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6118s ago] {'pk_1': UUID('31686dae-3d94-460e-889b-dfdd6f386441')}
[2024-10-14 20:21:59,666.666] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:21:59,666.666] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:21:59] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:00,277.277] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:00,277.277] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:00,278.278] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.308s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:00,279.279] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:00,279.279] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.305s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 20:22:00,281.281] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:00,281.281] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.303s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:00,282.282] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:00,300.300] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:00,301.301] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:00,301.301] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.314s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:00,302.302] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:00,302.302] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.313s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 20:22:00,303.303] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:00,303.303] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.313s ago] {'pk_1': UUID('6051c34d-32bb-4d2b-a756-7314a4ea0431')}
[2024-10-14 20:22:00,304.304] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:00,305.305] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.312s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('6051c34d-32bb-4d2b-a756-7314a4ea0431'), 'batch': '20241014202200157984', 'name': '项目API文档-完整.pdf', 'position': 10, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:00,305.305] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:00,312.312] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:00,313.313] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:00,313.313] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.303s ago] {'pk_1': UUID('59d92400-27cf-49f7-86a6-032b72559d17')}
[2024-10-14 20:22:00,355.355] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:00,355.355] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:00] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:00,872.872] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:00,872.872] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:00,872.872] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.903s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:00,874.874] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:00,874.874] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.9s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 20:22:00,874.874] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:00,875.875] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.897s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:00,876.876] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:00,889.889] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:00,889.889] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:00,890.890] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.903s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:00,891.891] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:00,891.891] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.902s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 20:22:00,892.892] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:00,892.892] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.902s ago] {'pk_1': UUID('32b91bbf-714e-45c5-b27b-1db6f2c2ca1e')}
[2024-10-14 20:22:00,893.893] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:00,894.894] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.901s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('32b91bbf-714e-45c5-b27b-1db6f2c2ca1e'), 'batch': '20241014202200430959', 'name': '项目API文档-完整.pdf', 'position': 11, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:00,895.895] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:00,912.912] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:00,913.913] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:00,913.913] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.903s ago] {'pk_1': UUID('02f76d04-b1ef-4cd2-b45b-2d0868a76aa6')}
[2024-10-14 20:22:00,962.962] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:00,963.963] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:00] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:01,457.457] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:01,458.458] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:01,458.458] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.488s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:01,460.460] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:01,460.460] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.485s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 20:22:01,461.461] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:01,461.461] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.483s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:01,462.462] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:01,478.478] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:01,479.479] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:01,479.479] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.492s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:01,480.480] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:01,480.480] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.491s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 20:22:01,481.481] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:01,481.481] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.491s ago] {'pk_1': UUID('e70beac5-09d1-4c44-9b75-ed4ac7c7673e')}
[2024-10-14 20:22:01,482.482] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:01,482.482] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.49s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('e70beac5-09d1-4c44-9b75-ed4ac7c7673e'), 'batch': '20241014202201947507', 'name': '项目API文档-完整.pdf', 'position': 12, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:01,483.483] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:01,490.490] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:01,490.490] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:01,491.491] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.481s ago] {'pk_1': UUID('153fb64b-7061-4639-b013-4cf362d813e6')}
[2024-10-14 20:22:01,542.542] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:01,542.542] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:01] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:02,036.036] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:02,037.037] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:02,037.037] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.068s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:02,039.039] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:02,039.039] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.065s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 20:22:02,040.040] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:02,040.040] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.063s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:02,041.041] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:02,044.044] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:02,044.044] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:02,044.044] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.057s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:02,045.045] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:02,046.046] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.057s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 20:22:02,046.046] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:02,046.046] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.056s ago] {'pk_1': UUID('cdc89ef9-4449-4f57-b811-4a13bf4ee3a9')}
[2024-10-14 20:22:02,047.047] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:02,048.048] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.056s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('cdc89ef9-4449-4f57-b811-4a13bf4ee3a9'), 'batch': '20241014202202715504', 'name': '项目API文档-完整.pdf', 'position': 13, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:02,050.050] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:02,052.052] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:02,052.052] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:02,052.052] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.042s ago] {'pk_1': UUID('a0ed9aa7-b318-4468-b208-585449c0a02b')}
[2024-10-14 20:22:02,092.092] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:02,093.093] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:02,633.633] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:02,634.634] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:02,634.634] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.665s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:02,635.635] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:02,636.636] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.661s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 20:22:02,637.637] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:02,637.637] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.659s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:02,638.638] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:02,640.640] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:02,641.641] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:02,641.641] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.654s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:02,642.642] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:02,643.643] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.654s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 20:22:02,644.644] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:02,644.644] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.653s ago] {'pk_1': UUID('7571d765-00c9-4ab1-8db5-1533703c287b')}
[2024-10-14 20:22:02,645.645] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:02,645.645] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.653s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('7571d765-00c9-4ab1-8db5-1533703c287b'), 'batch': '20241014202202681483', 'name': '项目API文档-完整.pdf', 'position': 14, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:02,646.646] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:02,668.668] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:02,668.668] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:02,668.668] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.659s ago] {'pk_1': UUID('fe602bc9-fa2a-4fd1-9d5c-75bfa7c41bb7')}
[2024-10-14 20:22:02,716.716] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:02,717.717] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:03,142.142] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:03,142.142] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:03,142.142] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.172s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:03,144.144] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:03,144.144] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.169s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '469b99ae-5880-4b40-b087-6fb36f95911c'}
[2024-10-14 20:22:03,145.145] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:03,145.145] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.167s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:03,146.146] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:03,148.148] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:03,148.148] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:03,149.149] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.162s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:03,150.150] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:03,150.150] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.161s ago] {'pk_1': UUID('469b99ae-5880-4b40-b087-6fb36f95911c')}
[2024-10-14 20:22:03,151.151] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:03,151.151] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.16s ago] {'pk_1': UUID('7f3a94f2-c065-468c-981a-99df93dbbfea')}
[2024-10-14 20:22:03,152.152] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:03,152.152] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.16s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('469b99ae-5880-4b40-b087-6fb36f95911c'), 'process_rule_id': UUID('7f3a94f2-c065-468c-981a-99df93dbbfea'), 'batch': '20241014202203720868', 'name': '项目API文档-完整.pdf', 'position': 15, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:03,153.153] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:03,154.154] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:03,154.154] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:03,155.155] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.145s ago] {'pk_1': UUID('0a8906a1-1b2f-4d73-ab6c-b348b5b0eeda')}
[2024-10-14 20:22:03,198.198] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:03,199.199] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:36,884.884] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:36,885.885] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-14 20:22:36,886.886] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': 'LLMOps 项目提示词大全.md', 'key': '2024/10/14/fd663401-9703-4c60-a60b-3d1be36ecbca.md', 'size': 28749, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '6d867db429d26ea426d6b67a88fce43e74760d039e9e2925f0083b7acb1f066a'}
[2024-10-14 20:22:36,888.888] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:36,900.900] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:36,900.900] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:36,900.900] base.py -> _exec_single_context line:1908 [INFO]: [cached since 37.91s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:36,902.902] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:36,903.903] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:36] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-14 20:22:43,717.717] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:43,717.717] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:43,717.717] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.75s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:43,718.718] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:43,719.719] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.74s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:43,720.720] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:43,720.720] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.74s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:43,721.721] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:43,722.722] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:43,723.723] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:43,723.723] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.74s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:43,724.724] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:43,724.724] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.74s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:43,725.725] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:43,725.725] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.74s ago] {'pk_1': UUID('5444481f-9e93-4bad-89d1-9f61787c06ea')}
[2024-10-14 20:22:43,726.726] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:43,726.726] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.73s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('5444481f-9e93-4bad-89d1-9f61787c06ea'), 'batch': '20241014202243666409', 'name': 'LLMOps 项目提示词大全.md', 'position': 16, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:43,727.727] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:43,728.728] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:43,728.728] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:43,729.729] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.72s ago] {'pk_1': UUID('4817bfe5-30aa-4474-8a9c-771107eb1182')}
[2024-10-14 20:22:43,770.770] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:43,771.771] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:43] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:44,342.342] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:44,342.342] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:44,342.342] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.37s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:44,344.344] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:44,344.344] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.37s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:44,345.345] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:44,345.345] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.37s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:44,346.346] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:44,357.357] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:44,358.358] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:44,358.358] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.37s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:44,359.359] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:44,359.359] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.37s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:44,360.360] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:44,360.360] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.37s ago] {'pk_1': UUID('188e6674-b3b5-47f2-ad05-35729fb88e6e')}
[2024-10-14 20:22:44,361.361] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:44,361.361] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.37s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('188e6674-b3b5-47f2-ad05-35729fb88e6e'), 'batch': '20241014202244497966', 'name': 'LLMOps 项目提示词大全.md', 'position': 17, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:44,362.362] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:44,379.379] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:44,380.380] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:44,380.380] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.37s ago] {'pk_1': UUID('b7acda95-9118-47f6-bede-725f0a3b147b')}
[2024-10-14 20:22:44,422.422] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:44,422.422] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:44] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:44,901.901] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:44,901.901] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:44,901.901] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.93s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:44,903.903] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:44,903.903] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.93s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:44,904.904] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:44,904.904] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.93s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:44,905.905] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:44,907.907] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:44,907.907] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:44,907.907] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.92s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:44,909.909] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:44,909.909] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.92s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:44,910.910] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:44,910.910] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.92s ago] {'pk_1': UUID('57213748-e46f-479b-8639-433421a1b1f9')}
[2024-10-14 20:22:44,911.911] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:44,911.911] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.92s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('57213748-e46f-479b-8639-433421a1b1f9'), 'batch': '20241014202244694523', 'name': 'LLMOps 项目提示词大全.md', 'position': 18, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:44,912.912] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:44,914.914] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:44,914.914] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:44,915.915] base.py -> _exec_single_context line:1908 [INFO]: [cached since 45.91s ago] {'pk_1': UUID('61534f8e-1f9a-4376-afd9-2584ab241470')}
[2024-10-14 20:22:44,959.959] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:44,959.959] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:44] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:45,441.441] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:45,441.441] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:45,441.441] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.47s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:45,443.443] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:45,443.443] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.47s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:45,444.444] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:45,444.444] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.47s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:45,445.445] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:45,456.456] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:45,457.457] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:45,457.457] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.47s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:45,458.458] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:45,459.459] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.47s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:45,460.460] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:45,460.460] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.47s ago] {'pk_1': UUID('3bd63e48-46e7-4168-b91b-be67728bcf7f')}
[2024-10-14 20:22:45,461.461] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:45,461.461] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.47s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('3bd63e48-46e7-4168-b91b-be67728bcf7f'), 'batch': '20241014202245583348', 'name': 'LLMOps 项目提示词大全.md', 'position': 19, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:45,462.462] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:45,464.464] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:45,464.464] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:45,464.464] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.45s ago] {'pk_1': UUID('37ebe9e4-1aee-473f-b509-2bd59b488e76')}
[2024-10-14 20:22:45,514.514] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:45,515.515] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:45] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:45,982.982] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:45,982.982] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:45,982.982] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.01s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:45,983.983] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:45,983.983] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.01s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:45,984.984] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:45,985.985] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.01s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:45,986.986] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:45,988.988] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:45,989.989] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:45,989.989] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:45,991.991] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:45,991.991] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:45,992.992] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:45,992.992] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47s ago] {'pk_1': UUID('e34ba5e0-3079-4e03-b5b1-a11e055a84b3')}
[2024-10-14 20:22:45,993.993] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:45,994.994] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('e34ba5e0-3079-4e03-b5b1-a11e055a84b3'), 'batch': '20241014202245905011', 'name': 'LLMOps 项目提示词大全.md', 'position': 20, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:45,995.995] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:45,996.996] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:45,997.997] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:45,997.997] base.py -> _exec_single_context line:1908 [INFO]: [cached since 46.99s ago] {'pk_1': UUID('8e269b2c-07d0-4b7b-8820-928776902b01')}
[2024-10-14 20:22:46,054.054] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:46,054.054] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:46] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:46,444.444] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:46,445.445] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:46,445.445] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.48s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:46,446.446] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:46,447.447] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.47s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:46,448.448] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:46,448.448] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.47s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:46,449.449] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:46,470.470] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:46,471.471] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:46,471.471] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.48s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:46,472.472] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:46,472.472] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.48s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:46,473.473] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:46,474.474] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.48s ago] {'pk_1': UUID('6de2a3d4-d106-4e00-afe7-dba0de74d243')}
[2024-10-14 20:22:46,475.475] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:46,475.475] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.48s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('6de2a3d4-d106-4e00-afe7-dba0de74d243'), 'batch': '20241014202246648528', 'name': 'LLMOps 项目提示词大全.md', 'position': 21, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:46,476.476] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:46,478.478] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:46,478.478] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:46,478.478] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.47s ago] {'pk_1': UUID('1102d6b2-41e6-482e-bea5-a7225e504494')}
[2024-10-14 20:22:46,530.530] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:46,532.532] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:46] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:46,813.813] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:46,813.813] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:46,813.813] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.84s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:46,815.815] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:46,815.815] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.84s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:46,816.816] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:46,817.817] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.84s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:46,817.817] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:46,839.839] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:46,839.839] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:46,840.840] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.85s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:46,841.841] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:46,841.841] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.85s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:46,842.842] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:46,842.842] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.85s ago] {'pk_1': UUID('d4c50310-3215-4655-921b-f151faea0b37')}
[2024-10-14 20:22:46,843.843] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:46,843.843] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.85s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('d4c50310-3215-4655-921b-f151faea0b37'), 'batch': '20241014202246734432', 'name': 'LLMOps 项目提示词大全.md', 'position': 22, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:46,845.845] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:46,859.859] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:46,859.859] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:46,859.859] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.85s ago] {'pk_1': UUID('971f8db8-ea69-4d4f-91bd-e4f92d026c2d')}
[2024-10-14 20:22:46,918.918] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:46,919.919] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:46] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:47,560.560] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:47,561.561] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:47,561.561] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.59s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:47,564.564] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:47,564.564] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.59s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:47,565.565] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:47,565.565] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.59s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:47,566.566] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:47,572.572] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:47,572.572] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:47,572.572] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.59s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:47,573.573] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:47,573.573] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.58s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:47,574.574] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:47,574.574] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.58s ago] {'pk_1': UUID('23d2606a-ddfa-42b9-bd5d-60c2a30c070b')}
[2024-10-14 20:22:47,575.575] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:47,576.576] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.58s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('23d2606a-ddfa-42b9-bd5d-60c2a30c070b'), 'batch': '20241014202247143899', 'name': 'LLMOps 项目提示词大全.md', 'position': 23, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:47,577.577] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:47,588.588] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:47,589.589] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:47,589.589] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.58s ago] {'pk_1': UUID('d9780fb4-8bab-4e6b-aa07-e354aed1a374')}
[2024-10-14 20:22:47,630.630] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:47,630.630] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:47] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:48,727.727] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:48,727.727] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:48,727.727] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.76s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:48,729.729] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:48,729.729] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.75s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:48,730.730] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:48,730.730] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.75s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:48,731.731] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:48,739.739] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:48,739.739] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:48,739.739] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.75s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:48,741.741] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:48,741.741] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.75s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:48,742.742] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:48,742.742] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.75s ago] {'pk_1': UUID('529ebfeb-3780-4972-944f-225c787f520b')}
[2024-10-14 20:22:48,743.743] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:48,743.743] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.75s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('529ebfeb-3780-4972-944f-225c787f520b'), 'batch': '20241014202248974479', 'name': 'LLMOps 项目提示词大全.md', 'position': 24, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:48,744.744] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:48,761.761] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:48,761.761] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:48,761.761] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.75s ago] {'pk_1': UUID('2ca66ea3-492e-4776-bc2e-2e92310763ff')}
[2024-10-14 20:22:48,804.804] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:48,805.805] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:48] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:49,388.388] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:49,388.388] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:49,388.388] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.42s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:49,390.390] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:49,390.390] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.42s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:49,392.392] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:49,392.392] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.41s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:49,393.393] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:49,411.411] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:49,411.411] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:49,411.411] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.42s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:49,412.412] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:49,413.413] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.42s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:49,414.414] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:49,414.414] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.42s ago] {'pk_1': UUID('086df574-74eb-4960-9c72-62163ded4c86')}
[2024-10-14 20:22:49,415.415] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:49,415.415] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.42s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('086df574-74eb-4960-9c72-62163ded4c86'), 'batch': '20241014202249145294', 'name': 'LLMOps 项目提示词大全.md', 'position': 25, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:49,416.416] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:49,418.418] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:49,418.418] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:49,418.418] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.41s ago] {'pk_1': UUID('1c6ab421-773f-4324-adbd-c9e917d390b4')}
[2024-10-14 20:22:49,465.465] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:49,466.466] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:49] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:22:49,954.954] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:49,955.955] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:22:49,955.955] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.99s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:22:49,956.956] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:22:49,957.957] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.98s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:22:49,958.958] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:22:49,958.958] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.98s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:22:49,959.959] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:49,962.962] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:49,962.962] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:22:49,962.962] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.98s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:22:49,964.964] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:22:49,964.964] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.98s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:22:49,965.965] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:22:49,965.965] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.97s ago] {'pk_1': UUID('5661a991-39c0-406a-9dfa-b29dedc42ee1')}
[2024-10-14 20:22:49,966.966] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:22:49,966.966] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.97s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('5661a991-39c0-406a-9dfa-b29dedc42ee1'), 'batch': '20241014202249480685', 'name': 'LLMOps 项目提示词大全.md', 'position': 26, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:22:49,967.967] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:22:49,968.968] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:22:49,969.969] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:22:49,969.969] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.96s ago] {'pk_1': UUID('214edf94-97a3-453d-b8fd-a578c236629b')}
[2024-10-14 20:22:50,020.020] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:22:50,021.021] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:22:50] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:30:29,053.053] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:30:29,054.054] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:30:29,054.054] base.py -> _exec_single_context line:1908 [INFO]: [cached since 510.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:30:29,055.055] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:30:29,055.055] base.py -> _exec_single_context line:1908 [INFO]: [cached since 510.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:30:29,056.056] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:30:29,057.057] base.py -> _exec_single_context line:1908 [INFO]: [cached since 510.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:30:29,057.057] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:30:29,062.062] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:30:29,062.062] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:30:29,062.062] base.py -> _exec_single_context line:1908 [INFO]: [cached since 510.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:30:29,063.063] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:30:29,063.063] base.py -> _exec_single_context line:1908 [INFO]: [cached since 510.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:30:29,064.064] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:30:29,064.064] base.py -> _exec_single_context line:1908 [INFO]: [cached since 510.1s ago] {'pk_1': UUID('8c517fa2-84b4-448f-8cec-fc0b49977089')}
[2024-10-14 20:30:29,065.065] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:30:29,065.065] base.py -> _exec_single_context line:1908 [INFO]: [cached since 510.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('8c517fa2-84b4-448f-8cec-fc0b49977089'), 'batch': '20241014203029874348', 'name': 'LLMOps 项目提示词大全.md', 'position': 27, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:30:29,065.065] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:30:29,066.066] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:30:29,067.067] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:30:29,067.067] base.py -> _exec_single_context line:1908 [INFO]: [cached since 510.1s ago] {'pk_1': UUID('834206ae-94a0-4e65-ba3a-83951754009d')}
[2024-10-14 20:30:29,086.086] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:30:29,086.086] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:30:29] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:30:48,571.571] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:30:48,571.571] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:30:48,572.572] base.py -> _exec_single_context line:1908 [INFO]: [cached since 529.6s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:30:48,573.573] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:30:48,573.573] base.py -> _exec_single_context line:1908 [INFO]: [cached since 529.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:30:48,574.574] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:30:48,574.574] base.py -> _exec_single_context line:1908 [INFO]: [cached since 529.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:30:48,575.575] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:30:48,578.578] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:30:48,579.579] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:30:48,579.579] base.py -> _exec_single_context line:1908 [INFO]: [cached since 529.6s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:30:48,580.580] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:30:48,580.580] base.py -> _exec_single_context line:1908 [INFO]: [cached since 529.6s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:30:48,580.580] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:30:48,580.580] base.py -> _exec_single_context line:1908 [INFO]: [cached since 529.6s ago] {'pk_1': UUID('6acab5e4-25b0-4d22-a344-935e1ac5d496')}
[2024-10-14 20:30:48,581.581] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:30:48,581.581] base.py -> _exec_single_context line:1908 [INFO]: [cached since 529.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('6acab5e4-25b0-4d22-a344-935e1ac5d496'), 'batch': '20241014203048787659', 'name': 'LLMOps 项目提示词大全.md', 'position': 28, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:30:48,582.582] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:30:48,583.583] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:30:48,583.583] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:30:48,584.584] base.py -> _exec_single_context line:1908 [INFO]: [cached since 529.6s ago] {'pk_1': UUID('b4281513-004a-4582-bb2c-e144e37a1aa8')}
[2024-10-14 20:30:48,602.602] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:30:48,603.603] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:30:48] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:04,891.891] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:04,891.891] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:04,891.891] base.py -> _exec_single_context line:1908 [INFO]: [cached since 605.9s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:04,892.892] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:04,892.892] base.py -> _exec_single_context line:1908 [INFO]: [cached since 605.9s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:04,893.893] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:04,893.893] base.py -> _exec_single_context line:1908 [INFO]: [cached since 605.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:04,894.894] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:04,912.912] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:04,913.913] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:04,913.913] base.py -> _exec_single_context line:1908 [INFO]: [cached since 605.9s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:04,914.914] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:04,914.914] base.py -> _exec_single_context line:1908 [INFO]: [cached since 605.9s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:04,915.915] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:04,915.915] base.py -> _exec_single_context line:1908 [INFO]: [cached since 605.9s ago] {'pk_1': UUID('7d91edd1-26c9-471f-9cd5-3b7c25d30958')}
[2024-10-14 20:32:04,915.915] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:04,915.915] base.py -> _exec_single_context line:1908 [INFO]: [cached since 605.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('7d91edd1-26c9-471f-9cd5-3b7c25d30958'), 'batch': '20241014203204272842', 'name': 'LLMOps 项目提示词大全.md', 'position': 29, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:04,916.916] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:04,917.917] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:04,918.918] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:04,918.918] base.py -> _exec_single_context line:1908 [INFO]: [cached since 605.9s ago] {'pk_1': UUID('054df3a5-a56e-4f13-bf11-14b80328133d')}
[2024-10-14 20:32:04,935.935] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:04,936.936] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:04] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:10,132.132] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:10,132.132] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:10,132.132] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.2s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:10,133.133] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:10,133.133] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:10,134.134] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:10,134.134] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:10,135.135] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:10,155.155] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:10,155.155] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:10,155.155] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.2s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:10,156.156] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:10,156.156] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.2s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:10,157.157] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:10,157.157] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.2s ago] {'pk_1': UUID('abaeb68e-8ccd-450d-bd78-3df4c0ba40d3')}
[2024-10-14 20:32:10,157.157] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:10,158.158] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('abaeb68e-8ccd-450d-bd78-3df4c0ba40d3'), 'batch': '20241014203210271734', 'name': 'LLMOps 项目提示词大全.md', 'position': 30, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:10,158.158] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:10,159.159] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:10,159.159] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:10,159.159] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.2s ago] {'pk_1': UUID('cca0b8d7-df63-493d-956b-2d6a5007385c')}
[2024-10-14 20:32:10,190.190] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:10,191.191] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:10] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:10,749.749] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:10,749.749] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:10,750.750] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.8s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:10,751.751] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:10,751.751] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.8s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:10,752.752] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:10,752.752] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:10,752.752] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:10,755.755] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:10,755.755] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:10,755.755] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.8s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:10,756.756] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:10,756.756] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.8s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:10,756.756] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:10,756.756] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.8s ago] {'pk_1': UUID('54b7a16f-ff7c-4fdf-a5d8-18715ac676cd')}
[2024-10-14 20:32:10,757.757] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:10,757.757] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('54b7a16f-ff7c-4fdf-a5d8-18715ac676cd'), 'batch': '20241014203210724480', 'name': 'LLMOps 项目提示词大全.md', 'position': 31, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:10,758.758] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:10,759.759] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:10,759.759] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:10,759.759] base.py -> _exec_single_context line:1908 [INFO]: [cached since 611.7s ago] {'pk_1': UUID('d9d74fee-c8a7-49a2-b047-5c90e832c2bf')}
[2024-10-14 20:32:10,777.777] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:10,777.777] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:10] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:11,328.328] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:11,329.329] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:11,329.329] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.4s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:11,330.330] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:11,330.330] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.4s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:11,331.331] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:11,331.331] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:11,332.332] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:11,333.333] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:11,333.333] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:11,333.333] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.3s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:11,334.334] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:11,334.334] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.3s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:11,335.335] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:11,335.335] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.3s ago] {'pk_1': UUID('4c5520b9-e481-4e32-b993-7986249b8897')}
[2024-10-14 20:32:11,336.336] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:11,336.336] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('4c5520b9-e481-4e32-b993-7986249b8897'), 'batch': '20241014203211712191', 'name': 'LLMOps 项目提示词大全.md', 'position': 32, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:11,336.336] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:11,341.341] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:11,341.341] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:11,341.341] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.3s ago] {'pk_1': UUID('c4f932ca-30b9-40dd-abd0-c54aa09da503')}
[2024-10-14 20:32:11,359.359] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:11,360.360] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:11] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:11,887.887] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:11,887.887] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:11,887.887] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.9s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:11,889.889] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:11,889.889] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.9s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:11,890.890] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:11,890.890] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:11,890.890] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:11,892.892] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:11,892.892] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:11,892.892] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.9s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:11,893.893] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:11,893.893] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.9s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:11,894.894] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:11,894.894] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.9s ago] {'pk_1': UUID('18a5ce2e-2ff2-431c-aab5-6bb15fc05b44')}
[2024-10-14 20:32:11,895.895] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:11,895.895] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('18a5ce2e-2ff2-431c-aab5-6bb15fc05b44'), 'batch': '20241014203211398867', 'name': 'LLMOps 项目提示词大全.md', 'position': 33, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:11,896.896] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:11,898.898] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:11,898.898] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:11,898.898] base.py -> _exec_single_context line:1908 [INFO]: [cached since 612.9s ago] {'pk_1': UUID('107bc987-9223-49cf-8951-739d202254ab')}
[2024-10-14 20:32:11,918.918] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:11,919.919] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:11] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:12,408.408] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:12,408.408] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:12,408.408] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.4s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:12,410.410] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:12,410.410] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.4s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:12,410.410] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:12,411.411] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:12,411.411] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:12,429.429] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:12,429.429] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:12,429.429] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.4s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:12,430.430] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:12,431.431] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.4s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:12,431.431] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:12,431.431] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.4s ago] {'pk_1': UUID('0e9ba7fc-0c92-46b2-a8e9-92d5fe895f3b')}
[2024-10-14 20:32:12,432.432] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:12,432.432] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('0e9ba7fc-0c92-46b2-a8e9-92d5fe895f3b'), 'batch': '20241014203212720739', 'name': 'LLMOps 项目提示词大全.md', 'position': 34, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:12,433.433] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:12,434.434] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:12,435.435] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:12,435.435] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.4s ago] {'pk_1': UUID('5dd806e5-b466-4208-a1bf-a044507517fa')}
[2024-10-14 20:32:12,454.454] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:12,454.454] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:12] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:12,925.925] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:12,925.925] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:12,925.925] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:12,927.927] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:12,927.927] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:12,928.928] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:12,928.928] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:12,928.928] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:12,931.931] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:12,931.931] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:12,931.931] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.9s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:12,932.932] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:12,932.932] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.9s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:12,933.933] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:12,933.933] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.9s ago] {'pk_1': UUID('6c3511b6-74d5-47a2-851f-bfad8778df2e')}
[2024-10-14 20:32:12,934.934] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:12,934.934] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('6c3511b6-74d5-47a2-851f-bfad8778df2e'), 'batch': '20241014203212190722', 'name': 'LLMOps 项目提示词大全.md', 'position': 35, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:12,935.935] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:12,936.936] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:12,936.936] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:12,936.936] base.py -> _exec_single_context line:1908 [INFO]: [cached since 613.9s ago] {'pk_1': UUID('d2ab9557-7bd6-4204-9453-229fa09f52bf')}
[2024-10-14 20:32:12,955.955] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:12,956.956] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:12] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:13,447.447] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:13,448.448] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:13,448.448] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614.5s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:13,449.449] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:13,449.449] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614.5s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:13,449.449] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:13,449.449] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614.5s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:13,450.450] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:13,451.451] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:13,451.451] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:13,451.451] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614.5s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:13,453.453] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:13,453.453] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614.5s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:13,453.453] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:13,454.454] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614.5s ago] {'pk_1': UUID('5a878f5d-0100-40d7-84b5-5a95663f7997')}
[2024-10-14 20:32:13,454.454] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:13,455.455] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614.5s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('5a878f5d-0100-40d7-84b5-5a95663f7997'), 'batch': '20241014203213725380', 'name': 'LLMOps 项目提示词大全.md', 'position': 36, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:13,455.455] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:13,457.457] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:13,457.457] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:13,457.457] base.py -> _exec_single_context line:1908 [INFO]: [cached since 614.4s ago] {'pk_1': UUID('ce9feff2-387a-4f77-a97b-acf70e9bb844')}
[2024-10-14 20:32:13,477.477] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:13,478.478] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:13] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:13,948.948] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:13,949.949] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:13,949.949] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:13,950.950] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:13,951.951] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:13,952.952] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:13,952.952] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:13,953.953] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:13,955.955] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:13,955.955] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:13,955.955] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:13,956.956] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:13,957.957] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:13,957.957] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:13,957.957] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615s ago] {'pk_1': UUID('ee6eab94-4ede-47da-b660-98d63c47d563')}
[2024-10-14 20:32:13,958.958] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:13,958.958] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('ee6eab94-4ede-47da-b660-98d63c47d563'), 'batch': '20241014203213768184', 'name': 'LLMOps 项目提示词大全.md', 'position': 37, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:13,959.959] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:13,960.960] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:13,960.960] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:13,960.960] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615s ago] {'pk_1': UUID('44796214-55df-4471-9cca-cf2726a6540d')}
[2024-10-14 20:32:13,984.984] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:13,984.984] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:13] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:14,475.475] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:14,476.476] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:14,476.476] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615.5s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:14,477.477] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:14,477.477] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615.5s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:14,478.478] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:14,478.478] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615.5s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:14,480.480] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:14,483.483] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:14,483.483] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:14,483.483] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615.5s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:14,485.485] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:14,485.485] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615.5s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:14,486.486] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:14,486.486] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615.5s ago] {'pk_1': UUID('26f22453-a23d-42e2-bc28-35c866777a7e')}
[2024-10-14 20:32:14,487.487] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:14,488.488] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615.5s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('26f22453-a23d-42e2-bc28-35c866777a7e'), 'batch': '20241014203214310602', 'name': 'LLMOps 项目提示词大全.md', 'position': 38, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:14,489.489] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:14,491.491] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:14,491.491] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:14,492.492] base.py -> _exec_single_context line:1908 [INFO]: [cached since 615.5s ago] {'pk_1': UUID('e2b9f717-9e07-4656-a49f-583c8dc34457')}
[2024-10-14 20:32:14,540.540] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:14,541.541] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:14] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:14,999.999] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:14,999.999] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:14,999.999] base.py -> _exec_single_context line:1908 [INFO]: [cached since 616s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:15,001.001] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:15,001.001] base.py -> _exec_single_context line:1908 [INFO]: [cached since 616s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:15,002.002] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:15,003.003] base.py -> _exec_single_context line:1908 [INFO]: [cached since 616s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:15,003.003] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:15,010.010] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:15,011.011] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:15,011.011] base.py -> _exec_single_context line:1908 [INFO]: [cached since 616s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:15,012.012] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:15,012.012] base.py -> _exec_single_context line:1908 [INFO]: [cached since 616s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:15,013.013] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:15,013.013] base.py -> _exec_single_context line:1908 [INFO]: [cached since 616s ago] {'pk_1': UUID('930c3908-8fc3-464d-be48-49e50d25cde6')}
[2024-10-14 20:32:15,013.013] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:15,014.014] base.py -> _exec_single_context line:1908 [INFO]: [cached since 616s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('930c3908-8fc3-464d-be48-49e50d25cde6'), 'batch': '20241014203215994701', 'name': 'LLMOps 项目提示词大全.md', 'position': 39, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:15,014.014] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:15,016.016] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:15,016.016] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:15,016.016] base.py -> _exec_single_context line:1908 [INFO]: [cached since 616s ago] {'pk_1': UUID('c6fe77f0-6998-4014-ad86-83c9d2484e99')}
[2024-10-14 20:32:15,066.066] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:15,066.066] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:15] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:33,055.055] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:33,055.055] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:33,055.055] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:33,056.056] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:33,056.056] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:33,057.057] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:33,057.057] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:33,058.058] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:33,060.060] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:33,060.060] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:33,060.060] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:33,062.062] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:33,062.062] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:33,063.063] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:33,063.063] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.1s ago] {'pk_1': UUID('d4e3f11f-993f-4fd9-9f2f-8de5d6bd8a26')}
[2024-10-14 20:32:33,064.064] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:33,064.064] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('d4e3f11f-993f-4fd9-9f2f-8de5d6bd8a26'), 'batch': '20241014203233375201', 'name': 'LLMOps 项目提示词大全.md', 'position': 40, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:33,064.064] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:33,066.066] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:33,066.066] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:33,066.066] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.1s ago] {'pk_1': UUID('78058a6d-9d29-44c6-8343-6a108c7bc21c')}
[2024-10-14 20:32:33,084.084] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:33,085.085] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:33] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:33,640.640] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:33,640.640] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:33,640.640] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:33,641.641] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:33,642.642] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:33,642.642] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:33,642.642] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:33,644.644] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:33,669.669] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:33,669.669] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:33,669.669] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:33,670.670] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:33,670.670] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.7s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:33,671.671] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:33,671.671] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.7s ago] {'pk_1': UUID('2b51c122-d783-4159-9744-99b7ff725312')}
[2024-10-14 20:32:33,672.672] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:33,672.672] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('2b51c122-d783-4159-9744-99b7ff725312'), 'batch': '20241014203233223582', 'name': 'LLMOps 项目提示词大全.md', 'position': 41, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:33,672.672] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:33,673.673] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:33,673.673] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:33,673.673] base.py -> _exec_single_context line:1908 [INFO]: [cached since 634.7s ago] {'pk_1': UUID('610eb357-ffb5-471a-ae9e-8f83b112f34d')}
[2024-10-14 20:32:33,694.694] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:33,694.694] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:33] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:34,171.171] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:34,171.171] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:34,171.171] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.2s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:34,172.172] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:34,173.173] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:34,173.173] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:34,173.173] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:34,174.174] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:34,175.175] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:34,176.176] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:34,176.176] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.2s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:34,177.177] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:34,177.177] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.2s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:34,178.178] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:34,178.178] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.2s ago] {'pk_1': UUID('0ecfef27-65e8-49c0-8da0-1279ba0d1e7e')}
[2024-10-14 20:32:34,179.179] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:34,179.179] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('0ecfef27-65e8-49c0-8da0-1279ba0d1e7e'), 'batch': '20241014203234165606', 'name': 'LLMOps 项目提示词大全.md', 'position': 42, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:34,180.180] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:34,206.206] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:34,206.206] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:34,206.206] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.2s ago] {'pk_1': UUID('7ca4670b-4f73-4c0c-b47c-9c4b7fc515f9')}
[2024-10-14 20:32:34,226.226] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:34,227.227] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:34] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:34,656.656] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:34,656.656] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:34,656.656] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:34,658.658] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:34,658.658] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:34,658.658] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:34,658.658] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:34,659.659] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:34,679.679] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:34,679.679] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:34,679.679] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:34,680.680] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:34,680.680] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.7s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:34,681.681] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:34,681.681] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.7s ago] {'pk_1': UUID('2417ae8d-49ce-4ec6-b57a-ebf54706910b')}
[2024-10-14 20:32:34,682.682] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:34,682.682] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('2417ae8d-49ce-4ec6-b57a-ebf54706910b'), 'batch': '20241014203234179859', 'name': 'LLMOps 项目提示词大全.md', 'position': 43, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:34,683.683] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:34,684.684] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:34,684.684] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:34,684.684] base.py -> _exec_single_context line:1908 [INFO]: [cached since 635.7s ago] {'pk_1': UUID('974af3a8-0081-45b1-9559-cb4c6ef8a02a')}
[2024-10-14 20:32:34,702.702] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:34,702.702] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:34] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:35,119.119] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:35,119.119] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:35,120.120] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:35,121.121] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:35,121.121] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:35,122.122] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:35,122.122] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:35,122.122] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:35,143.143] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:35,143.143] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:35,143.143] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.2s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:35,147.147] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:35,147.147] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.2s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:35,148.148] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:35,148.148] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.2s ago] {'pk_1': UUID('e14b50e5-c20d-4d34-b920-44884c055ee5')}
[2024-10-14 20:32:35,149.149] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:35,149.149] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('e14b50e5-c20d-4d34-b920-44884c055ee5'), 'batch': '20241014203235280403', 'name': 'LLMOps 项目提示词大全.md', 'position': 44, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:35,149.149] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:35,150.150] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:35,151.151] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:35,151.151] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.1s ago] {'pk_1': UUID('9091899d-af43-4fb6-93fd-0345d8a5f1d4')}
[2024-10-14 20:32:35,172.172] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:35,172.172] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:35] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:35,579.579] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:35,579.579] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:35,579.579] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.6s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:35,581.581] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:35,581.581] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:35,582.582] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:35,582.582] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:35,583.583] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:35,595.595] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:35,595.595] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:35,595.595] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.6s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:35,596.596] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:35,596.596] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.6s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:35,597.597] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:35,597.597] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.6s ago] {'pk_1': UUID('296f38cc-86ba-4d45-8a8a-290c95a4cb75')}
[2024-10-14 20:32:35,598.598] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:35,598.598] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('296f38cc-86ba-4d45-8a8a-290c95a4cb75'), 'batch': '20241014203235924239', 'name': 'LLMOps 项目提示词大全.md', 'position': 45, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:35,599.599] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:35,600.600] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:35,600.600] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:35,601.601] base.py -> _exec_single_context line:1908 [INFO]: [cached since 636.6s ago] {'pk_1': UUID('e357cda4-2569-4082-b214-ec6415074421')}
[2024-10-14 20:32:35,632.632] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:35,632.632] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:35] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:36,263.263] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:36,263.263] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:36,263.263] base.py -> _exec_single_context line:1908 [INFO]: [cached since 637.3s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:36,265.265] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:36,265.265] base.py -> _exec_single_context line:1908 [INFO]: [cached since 637.3s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:36,266.266] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:36,266.266] base.py -> _exec_single_context line:1908 [INFO]: [cached since 637.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:36,267.267] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:36,284.284] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:36,285.285] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:36,285.285] base.py -> _exec_single_context line:1908 [INFO]: [cached since 637.3s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:36,286.286] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:36,286.286] base.py -> _exec_single_context line:1908 [INFO]: [cached since 637.3s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:36,287.287] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:36,287.287] base.py -> _exec_single_context line:1908 [INFO]: [cached since 637.3s ago] {'pk_1': UUID('fc04d00f-158f-4b4f-b8bf-4404a60f7270')}
[2024-10-14 20:32:36,287.287] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:36,288.288] base.py -> _exec_single_context line:1908 [INFO]: [cached since 637.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('fc04d00f-158f-4b4f-b8bf-4404a60f7270'), 'batch': '20241014203236796685', 'name': 'LLMOps 项目提示词大全.md', 'position': 46, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:36,288.288] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:36,290.290] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:36,290.290] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:36,290.290] base.py -> _exec_single_context line:1908 [INFO]: [cached since 637.3s ago] {'pk_1': UUID('77fc2ca4-c432-472b-9f96-597630f19096')}
[2024-10-14 20:32:36,311.311] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:36,311.311] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:36] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:54,093.093] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:54,094.094] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:54,094.094] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:54,095.095] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:54,095.095] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:54,096.096] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:54,096.096] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:54,096.096] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:54,105.105] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:54,106.106] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:54,106.106] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:54,107.107] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:54,107.107] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:54,107.107] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:54,107.107] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.1s ago] {'pk_1': UUID('bcb37290-c2b3-42fa-8ecb-221d9bd36854')}
[2024-10-14 20:32:54,109.109] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:54,109.109] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('bcb37290-c2b3-42fa-8ecb-221d9bd36854'), 'batch': '20241014203254523316', 'name': 'LLMOps 项目提示词大全.md', 'position': 47, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:54,112.112] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:54,113.113] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:54,113.113] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:54,114.114] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.1s ago] {'pk_1': UUID('5ffaa676-08b7-4ac9-ac32-86e95e72ba3e')}
[2024-10-14 20:32:54,133.133] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:54,133.133] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:54] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:54,542.542] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:54,543.543] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:54,543.543] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.6s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:54,544.544] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:54,544.544] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:54,545.545] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:54,545.545] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:54,546.546] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:54,555.555] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:54,555.555] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:54,556.556] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.6s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:54,557.557] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:54,557.557] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.6s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:54,557.557] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:54,557.557] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.6s ago] {'pk_1': UUID('4cede600-cbb2-4f87-9330-8a62b23c965f')}
[2024-10-14 20:32:54,558.558] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:54,558.558] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('4cede600-cbb2-4f87-9330-8a62b23c965f'), 'batch': '20241014203254219262', 'name': 'LLMOps 项目提示词大全.md', 'position': 48, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:54,561.561] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:54,587.587] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:54,587.587] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:54,587.587] base.py -> _exec_single_context line:1908 [INFO]: [cached since 655.6s ago] {'pk_1': UUID('ed9baa50-0662-49fd-993a-9bdb3c34a009')}
[2024-10-14 20:32:54,618.618] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:54,618.618] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:54] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:55,072.072] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:55,072.072] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:55,072.072] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:55,073.073] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:55,073.073] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:55,074.074] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:55,074.074] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:55,075.075] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:55,081.081] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:55,082.082] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:55,082.082] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:55,083.083] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:55,083.083] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:55,084.084] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:55,084.084] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.1s ago] {'pk_1': UUID('cbda65ec-75e4-4271-8161-0030c1a2b3af')}
[2024-10-14 20:32:55,085.085] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:55,085.085] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('cbda65ec-75e4-4271-8161-0030c1a2b3af'), 'batch': '20241014203255632046', 'name': 'LLMOps 项目提示词大全.md', 'position': 49, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:55,085.085] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:55,110.110] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:55,110.110] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:55,110.110] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.1s ago] {'pk_1': UUID('74487251-b773-422b-9268-74d1cf6f1b97')}
[2024-10-14 20:32:55,134.134] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:55,134.134] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:55] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:55,623.623] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:55,624.624] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:55,624.624] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:55,625.625] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:55,625.625] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:55,626.626] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:55,626.626] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:55,627.627] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:55,630.630] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:55,630.630] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:55,630.630] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.6s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:55,631.631] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:55,631.631] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.6s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:55,632.632] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:55,632.632] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.6s ago] {'pk_1': UUID('b9728869-056b-4210-ba4a-8e18f0d413fd')}
[2024-10-14 20:32:55,633.633] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:55,633.633] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('b9728869-056b-4210-ba4a-8e18f0d413fd'), 'batch': '20241014203255372015', 'name': 'LLMOps 项目提示词大全.md', 'position': 50, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:55,634.634] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:55,635.635] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:55,636.636] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:55,636.636] base.py -> _exec_single_context line:1908 [INFO]: [cached since 656.6s ago] {'pk_1': UUID('241bfe2b-3973-4247-864b-cdc413a18d35')}
[2024-10-14 20:32:55,655.655] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:55,656.656] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:55] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:56,045.045] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:56,045.045] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:56,045.045] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:56,047.047] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:56,047.047] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:56,047.047] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:56,048.048] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:56,048.048] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:56,050.050] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:56,050.050] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:56,050.050] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:56,051.051] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:56,051.051] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:56,052.052] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:56,052.052] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.1s ago] {'pk_1': UUID('8107d2b2-36e2-4efc-b676-ab3b4ab6d084')}
[2024-10-14 20:32:56,053.053] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:56,053.053] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('8107d2b2-36e2-4efc-b676-ab3b4ab6d084'), 'batch': '20241014203256426859', 'name': 'LLMOps 项目提示词大全.md', 'position': 51, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:56,053.053] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:56,054.054] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:56,055.055] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:56,055.055] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657s ago] {'pk_1': UUID('499feada-db04-43ee-a0b6-08df64034aac')}
[2024-10-14 20:32:56,074.074] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:56,074.074] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:56] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:32:56,385.385] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:56,385.385] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:32:56,385.385] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.4s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:32:56,387.387] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:32:56,387.387] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.4s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:32:56,387.387] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:32:56,388.388] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:32:56,388.388] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:56,400.400] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:56,400.400] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:32:56,400.400] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.4s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:32:56,401.401] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:32:56,402.402] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.4s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:32:56,402.402] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:32:56,402.402] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.4s ago] {'pk_1': UUID('e0fa9b78-19c2-4fd0-9565-abf55a1ec28f')}
[2024-10-14 20:32:56,403.403] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:32:56,403.403] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('e0fa9b78-19c2-4fd0-9565-abf55a1ec28f'), 'batch': '20241014203256547228', 'name': 'LLMOps 项目提示词大全.md', 'position': 52, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:32:56,405.405] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:32:56,406.406] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:32:56,406.406] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:32:56,406.406] base.py -> _exec_single_context line:1908 [INFO]: [cached since 657.4s ago] {'pk_1': UUID('4897fd93-89fe-4f39-928b-12c74686313f')}
[2024-10-14 20:32:56,426.426] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:32:56,426.426] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:32:56] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:33:21,627.627] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:21,627.627] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:33:21,627.627] base.py -> _exec_single_context line:1908 [INFO]: [cached since 682.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:33:21,629.629] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:33:21,629.629] base.py -> _exec_single_context line:1908 [INFO]: [cached since 682.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:33:21,629.629] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:33:21,629.629] base.py -> _exec_single_context line:1908 [INFO]: [cached since 682.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:33:21,629.629] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:21,633.633] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:21,633.633] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:33:21,633.633] base.py -> _exec_single_context line:1908 [INFO]: [cached since 682.6s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:33:21,634.634] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:33:21,634.634] base.py -> _exec_single_context line:1908 [INFO]: [cached since 682.6s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:33:21,634.634] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:33:21,634.634] base.py -> _exec_single_context line:1908 [INFO]: [cached since 682.6s ago] {'pk_1': UUID('adbd3d5d-10f0-42b5-9487-6d8ae2bfeb68')}
[2024-10-14 20:33:21,635.635] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:33:21,635.635] base.py -> _exec_single_context line:1908 [INFO]: [cached since 682.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('adbd3d5d-10f0-42b5-9487-6d8ae2bfeb68'), 'batch': '20241014203321214624', 'name': 'LLMOps 项目提示词大全.md', 'position': 53, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:33:21,636.636] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:21,637.637] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:21,637.637] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:33:21,637.637] base.py -> _exec_single_context line:1908 [INFO]: [cached since 682.6s ago] {'pk_1': UUID('074dc6dc-38cb-456f-a6d1-e79f33f700cb')}
[2024-10-14 20:33:21,660.660] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:33:21,661.661] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:33:21] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:33:47,393.393] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:47,393.393] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:33:47,393.393] base.py -> _exec_single_context line:1908 [INFO]: [cached since 708.4s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:33:47,394.394] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:33:47,394.394] base.py -> _exec_single_context line:1908 [INFO]: [cached since 708.4s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:33:47,395.395] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:33:47,395.395] base.py -> _exec_single_context line:1908 [INFO]: [cached since 708.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:33:47,396.396] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:47,398.398] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:47,398.398] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:33:47,399.399] base.py -> _exec_single_context line:1908 [INFO]: [cached since 708.4s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:33:47,399.399] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:33:47,399.399] base.py -> _exec_single_context line:1908 [INFO]: [cached since 708.4s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:33:47,400.400] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:33:47,400.400] base.py -> _exec_single_context line:1908 [INFO]: [cached since 708.4s ago] {'pk_1': UUID('336b1509-778d-421f-a0b8-cf005c8539b7')}
[2024-10-14 20:33:47,401.401] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:33:47,401.401] base.py -> _exec_single_context line:1908 [INFO]: [cached since 708.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('336b1509-778d-421f-a0b8-cf005c8539b7'), 'batch': '20241014203347286199', 'name': 'LLMOps 项目提示词大全.md', 'position': 54, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:33:47,402.402] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:47,403.403] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:47,403.403] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:33:47,403.403] base.py -> _exec_single_context line:1908 [INFO]: [cached since 708.4s ago] {'pk_1': UUID('96948d5f-40f7-4aec-940f-32c0b32dcc7b')}
[2024-10-14 20:33:47,432.432] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:33:47,432.432] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:33:47] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:33:48,039.039] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:48,039.039] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:33:48,039.039] base.py -> _exec_single_context line:1908 [INFO]: [cached since 709.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:33:48,040.040] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:33:48,040.040] base.py -> _exec_single_context line:1908 [INFO]: [cached since 709.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:33:48,041.041] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:33:48,041.041] base.py -> _exec_single_context line:1908 [INFO]: [cached since 709.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:33:48,042.042] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:48,044.044] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:48,044.044] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:33:48,044.044] base.py -> _exec_single_context line:1908 [INFO]: [cached since 709.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:33:48,045.045] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:33:48,046.046] base.py -> _exec_single_context line:1908 [INFO]: [cached since 709.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:33:48,046.046] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:33:48,046.046] base.py -> _exec_single_context line:1908 [INFO]: [cached since 709.1s ago] {'pk_1': UUID('fdfe5099-8414-4059-ac7d-d010676c2a73')}
[2024-10-14 20:33:48,047.047] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:33:48,047.047] base.py -> _exec_single_context line:1908 [INFO]: [cached since 709.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('fdfe5099-8414-4059-ac7d-d010676c2a73'), 'batch': '20241014203348555891', 'name': 'LLMOps 项目提示词大全.md', 'position': 55, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:33:48,048.048] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:48,073.073] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:48,073.073] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:33:48,073.073] base.py -> _exec_single_context line:1908 [INFO]: [cached since 709.1s ago] {'pk_1': UUID('95c83c72-7247-4b54-8eca-07cc60dd13f7')}
[2024-10-14 20:33:48,093.093] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:33:48,095.095] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:33:48] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:33:49,094.094] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:49,095.095] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:33:49,095.095] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:33:49,096.096] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:33:49,096.096] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:33:49,097.097] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:33:49,097.097] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:33:49,097.097] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:49,099.099] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:49,099.099] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:33:49,099.099] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:33:49,100.100] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:33:49,100.100] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:33:49,101.101] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:33:49,101.101] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.1s ago] {'pk_1': UUID('2197213a-6861-4d9a-95bf-247fcca25583')}
[2024-10-14 20:33:49,102.102] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:33:49,102.102] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('2197213a-6861-4d9a-95bf-247fcca25583'), 'batch': '20241014203349950341', 'name': 'LLMOps 项目提示词大全.md', 'position': 56, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:33:49,102.102] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:49,105.105] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:49,105.105] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:33:49,105.105] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.1s ago] {'pk_1': UUID('e72e646b-5e25-441a-baf3-75c24be7248f')}
[2024-10-14 20:33:49,126.126] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:33:49,127.127] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:33:49] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:33:49,689.689] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:49,689.689] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:33:49,689.689] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:33:49,691.691] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:33:49,691.691] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:33:49,692.692] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:33:49,692.692] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:33:49,692.692] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:49,695.695] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:49,695.695] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:33:49,695.695] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:33:49,696.696] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:33:49,696.696] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.7s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:33:49,697.697] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:33:49,697.697] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.7s ago] {'pk_1': UUID('32605313-3e9e-419a-8427-6ccd1991234f')}
[2024-10-14 20:33:49,698.698] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:33:49,698.698] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('32605313-3e9e-419a-8427-6ccd1991234f'), 'batch': '20241014203349707160', 'name': 'LLMOps 项目提示词大全.md', 'position': 57, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:33:49,699.699] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:33:49,700.700] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:33:49,700.700] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:33:49,700.700] base.py -> _exec_single_context line:1908 [INFO]: [cached since 710.7s ago] {'pk_1': UUID('755b47df-ecbc-4cc1-a359-62f5f9c092c5')}
[2024-10-14 20:33:49,719.719] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:33:49,720.720] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:33:49] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:36:36,986.986] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:36,986.986] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:36:36,986.986] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:36:36,988.988] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:36:36,988.988] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:36:36,989.989] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:36:36,989.989] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:36:36,990.990] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:36:36,991.991] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:36,992.992] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:36:36,992.992] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:36:36,993.993] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:36:36,993.993] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:36:36,993.993] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:36:36,993.993] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878s ago] {'pk_1': UUID('e134cc5b-1d11-4d9e-a5f2-271de407c873')}
[2024-10-14 20:36:36,994.994] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:36:36,994.994] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('e134cc5b-1d11-4d9e-a5f2-271de407c873'), 'batch': '20241014203636192445', 'name': 'LLMOps 项目提示词大全.md', 'position': 58, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:36:36,995.995] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:36:36,998.998] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:36,998.998] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:36:36,998.998] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878s ago] {'pk_1': UUID('79cbfa87-6f28-4c68-a755-1db62e5a3b84')}
[2024-10-14 20:36:37,035.035] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:36:37,035.035] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:36:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:36:37,641.641] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:37,642.642] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:36:37,642.642] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:36:37,643.643] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:36:37,643.643] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:36:37,644.644] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:36:37,644.644] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:36:37,645.645] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:36:37,651.651] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:37,651.651] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:36:37,651.651] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:36:37,652.652] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:36:37,652.652] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878.7s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:36:37,653.653] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:36:37,654.654] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878.7s ago] {'pk_1': UUID('d01f89d6-238d-4990-87cf-a89808c56ab0')}
[2024-10-14 20:36:37,655.655] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:36:37,655.655] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('d01f89d6-238d-4990-87cf-a89808c56ab0'), 'batch': '20241014203637378916', 'name': 'LLMOps 项目提示词大全.md', 'position': 59, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:36:37,655.655] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:36:37,657.657] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:37,657.657] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:36:37,657.657] base.py -> _exec_single_context line:1908 [INFO]: [cached since 878.6s ago] {'pk_1': UUID('bd700ff8-1811-4d04-920f-2a96072d3a1b')}
[2024-10-14 20:36:37,687.687] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:36:37,687.687] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:36:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:36:38,208.208] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:38,208.208] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:36:38,208.208] base.py -> _exec_single_context line:1908 [INFO]: [cached since 879.2s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:36:38,215.215] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:36:38,215.215] base.py -> _exec_single_context line:1908 [INFO]: [cached since 879.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:36:38,216.216] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:36:38,216.216] base.py -> _exec_single_context line:1908 [INFO]: [cached since 879.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:36:38,217.217] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:36:38,235.235] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:38,236.236] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:36:38,236.236] base.py -> _exec_single_context line:1908 [INFO]: [cached since 879.2s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:36:38,238.238] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:36:38,239.239] base.py -> _exec_single_context line:1908 [INFO]: [cached since 879.3s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:36:38,240.240] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:36:38,241.241] base.py -> _exec_single_context line:1908 [INFO]: [cached since 879.3s ago] {'pk_1': UUID('ecb20a50-f2b9-4cd2-b4ce-3ad76200073c')}
[2024-10-14 20:36:38,241.241] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:36:38,242.242] base.py -> _exec_single_context line:1908 [INFO]: [cached since 879.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('ecb20a50-f2b9-4cd2-b4ce-3ad76200073c'), 'batch': '20241014203638939487', 'name': 'LLMOps 项目提示词大全.md', 'position': 60, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:36:38,242.242] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:36:38,243.243] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:36:38,244.244] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:36:38,244.244] base.py -> _exec_single_context line:1908 [INFO]: [cached since 879.2s ago] {'pk_1': UUID('b0de182d-de69-404a-b3f5-ec185cc793f6')}
[2024-10-14 20:36:38,262.262] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:36:38,262.262] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:36:38] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 20:40:08,239.239] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:40:08,239.239] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 20:40:08,239.239] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1089s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 20:40:08,241.241] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 20:40:08,241.241] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1089s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 20:40:08,241.241] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 20:40:08,241.241] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1089s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 20:40:08,241.241] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:40:08,249.249] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:40:08,250.250] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 20:40:08,250.250] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1089s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 20:40:08,251.251] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 20:40:08,251.251] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1089s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 20:40:08,252.252] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 20:40:08,252.252] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1089s ago] {'pk_1': UUID('d20b6fa4-42b7-4913-9cb1-392f2eb7940a')}
[2024-10-14 20:40:08,253.253] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 20:40:08,253.253] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1089s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('d20b6fa4-42b7-4913-9cb1-392f2eb7940a'), 'batch': '20241014204008206356', 'name': 'LLMOps 项目提示词大全.md', 'position': 61, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 20:40:08,254.254] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 20:40:08,255.255] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 20:40:08,255.255] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 20:40:08,255.255] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1089s ago] {'pk_1': UUID('66c9118c-173d-4b8b-8df9-d8ac447fef4c')}
[2024-10-14 20:40:08,274.274] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 20:40:08,275.275] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 20:40:08] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:45:19,588.588] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\venv\\lib\\site-packages\\weaviate\\collections\\queries\\bm25\\__init__.py', reloading
[2024-10-14 22:45:20,386.386] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 22:45:26,092.092] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 22:45:26,095.095] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 22:46:34,258.258] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-14 22:46:34,258.258] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 22:46:34,259.259] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-14 22:46:34,259.259] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 22:46:34,260.260] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-14 22:46:34,260.260] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 22:46:34,261.261] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:34,263.263] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:34,263.263] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:34,266.266] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:34,266.266] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:34,268.268] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:34,268.268] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:34,269.269] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:34,272.272] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:34,274.274] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:34,274.274] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:34,276.276] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:34,276.276] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:34,277.277] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:34,277.277] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('e43a6b10-44bf-4ed7-8fa7-20ab11df7e32')}
[2024-10-14 22:46:34,279.279] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:34,279.279] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('e43a6b10-44bf-4ed7-8fa7-20ab11df7e32'), 'batch': '20241014224634416536', 'name': 'LLMOps 项目提示词大全.md', 'position': 62, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:34,280.280] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:34,283.283] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:34,283.283] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:34,283.283] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('ccda2b9e-73bd-4ad2-81ec-94e637fffaaf')}
[2024-10-14 22:46:34,328.328] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:34,329.329] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:34] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:34,910.910] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:34,910.910] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:34,910.910] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6473s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:34,915.915] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:34,915.915] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6488s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:34,916.916] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:34,916.916] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.648s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:34,917.917] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:34,922.922] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:34,922.922] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:34,922.922] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6485s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:34,923.923] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:34,923.923] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6477s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:34,924.924] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:34,924.924] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6468s ago] {'pk_1': UUID('5dc5d24d-4f12-42dc-87cb-ecae9be28cc1')}
[2024-10-14 22:46:34,924.924] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:34,925.925] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6461s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('5dc5d24d-4f12-42dc-87cb-ecae9be28cc1'), 'batch': '20241014224634583758', 'name': 'LLMOps 项目提示词大全.md', 'position': 63, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:34,925.925] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:34,926.926] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:34,926.926] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:34,926.926] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.643s ago] {'pk_1': UUID('d4a1ee3d-fed3-460a-af1a-a66b1fa41a24')}
[2024-10-14 22:46:34,946.946] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:34,946.946] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:34] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:35,492.492] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:35,492.492] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:35,492.492] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.229s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:35,494.494] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:35,494.494] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.228s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:35,495.495] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:35,496.496] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.228s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:35,497.497] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:35,498.498] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:35,499.499] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:35,499.499] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.226s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:35,500.500] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:35,501.501] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.226s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:35,502.502] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:35,502.502] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.226s ago] {'pk_1': UUID('d44e7b38-14f5-4029-aaf7-9af404d2bc7c')}
[2024-10-14 22:46:35,503.503] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:35,503.503] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.225s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('d44e7b38-14f5-4029-aaf7-9af404d2bc7c'), 'batch': '20241014224635127093', 'name': 'LLMOps 项目提示词大全.md', 'position': 64, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:35,504.504] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:35,529.529] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:35,529.529] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:35,529.529] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.245s ago] {'pk_1': UUID('f701366a-9e80-468b-91ad-21a4c5049b3d')}
[2024-10-14 22:46:35,591.591] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:35,592.592] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:35] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:36,074.074] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:36,074.074] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:36,074.074] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.811s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:36,076.076] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:36,076.076] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.81s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:36,077.077] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:36,077.077] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.81s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:36,078.078] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:36,103.103] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:36,103.103] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:36,103.103] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.83s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:36,105.105] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:36,105.105] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.83s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:36,106.106] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:36,106.106] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.83s ago] {'pk_1': UUID('fecb9a99-8ca4-44fb-a88f-2fe84c01a959')}
[2024-10-14 22:46:36,107.107] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:36,107.107] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.83s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('fecb9a99-8ca4-44fb-a88f-2fe84c01a959'), 'batch': '20241014224636629275', 'name': 'LLMOps 项目提示词大全.md', 'position': 65, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:36,109.109] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:36,111.111] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:36,111.111] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:36,112.112] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.828s ago] {'pk_1': UUID('4b4dbd64-4737-4c66-9a45-c6d9463e6e53')}
[2024-10-14 22:46:36,157.157] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:36,158.158] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:36] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:36,680.680] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:36,680.680] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:36,680.680] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.417s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:36,681.681] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:36,682.682] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.416s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:36,683.683] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:36,683.683] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.415s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:36,684.684] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:36,685.685] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:36,686.686] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:36,686.686] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.413s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:36,688.688] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:36,688.688] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.413s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:36,689.689] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:36,689.689] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.413s ago] {'pk_1': UUID('392b8b79-893a-486f-8404-f0640061885d')}
[2024-10-14 22:46:36,703.703] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:36,703.703] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.424s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('392b8b79-893a-486f-8404-f0640061885d'), 'batch': '20241014224636564243', 'name': 'LLMOps 项目提示词大全.md', 'position': 66, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:36,703.703] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:36,714.714] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:36,715.715] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:36,715.715] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.431s ago] {'pk_1': UUID('5752b684-e06d-496a-8692-42ab8d2623e9')}
[2024-10-14 22:46:36,762.762] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:36,762.762] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:36] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:37,243.243] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:37,243.243] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:37,244.244] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.981s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:37,245.245] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:37,246.246] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.98s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:37,247.247] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:37,247.247] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.979s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:37,248.248] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:37,250.250] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:37,250.250] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:37,250.250] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.977s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:37,252.252] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:37,252.252] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.977s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:37,253.253] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:37,254.254] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.977s ago] {'pk_1': UUID('9c716261-c596-476f-94d4-01f1d59e4e91')}
[2024-10-14 22:46:37,255.255] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:37,255.255] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.977s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('9c716261-c596-476f-94d4-01f1d59e4e91'), 'batch': '20241014224637139903', 'name': 'LLMOps 项目提示词大全.md', 'position': 67, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:37,256.256] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:37,258.258] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:37,258.258] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:37,258.258] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.974s ago] {'pk_1': UUID('0bfada2d-5167-4217-8918-50b5b46939b3')}
[2024-10-14 22:46:37,315.315] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:37,315.315] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:37,849.849] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:37,849.849] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:37,849.849] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.586s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:37,851.851] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:37,851.851] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.585s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:37,852.852] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:37,852.852] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.584s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:37,853.853] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:37,855.855] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:37,855.855] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:37,855.855] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.581s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:37,856.856] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:37,856.856] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.581s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:37,857.857] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:37,858.858] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.581s ago] {'pk_1': UUID('4b8316e3-65d9-4991-b25b-0a1dc507c265')}
[2024-10-14 22:46:37,859.859] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:37,859.859] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.58s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('4b8316e3-65d9-4991-b25b-0a1dc507c265'), 'batch': '20241014224637857698', 'name': 'LLMOps 项目提示词大全.md', 'position': 68, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:37,860.860] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:37,862.862] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:37,862.862] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:37,863.863] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.579s ago] {'pk_1': UUID('c7749b2a-5eb5-46ec-a8d1-13c1ac44cbc8')}
[2024-10-14 22:46:37,908.908] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:37,908.908] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:38,448.448] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:38,448.448] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:38,449.449] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.186s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:38,450.450] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:38,450.450] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.184s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:38,451.451] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:38,452.452] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.184s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:38,452.452] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:38,455.455] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:38,455.455] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:38,455.455] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.182s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:38,457.457] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:38,457.457] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.182s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:38,458.458] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:38,458.458] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.182s ago] {'pk_1': UUID('36698159-5316-487e-96ac-f178c1c932af')}
[2024-10-14 22:46:38,460.460] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:38,460.460] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.182s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('36698159-5316-487e-96ac-f178c1c932af'), 'batch': '20241014224638197079', 'name': 'LLMOps 项目提示词大全.md', 'position': 69, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:38,461.461] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:38,474.474] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:38,474.474] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:38,475.475] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.19s ago] {'pk_1': UUID('b82defc6-c957-478e-b6ff-c0da574542a2')}
[2024-10-14 22:46:38,528.528] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:38,529.529] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:38] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:39,010.010] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:39,010.010] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:39,011.011] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.747s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:39,012.012] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:39,012.012] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.746s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:39,013.013] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:39,013.013] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.745s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:39,014.014] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:39,017.017] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:39,018.018] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:39,018.018] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.744s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:39,019.019] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:39,020.020] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.744s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:39,021.021] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:39,022.022] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.745s ago] {'pk_1': UUID('b4ac16f7-06cf-40a6-ba1b-236a3794d8f7')}
[2024-10-14 22:46:39,024.024] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:39,024.024] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.745s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('b4ac16f7-06cf-40a6-ba1b-236a3794d8f7'), 'batch': '20241014224639382524', 'name': 'LLMOps 项目提示词大全.md', 'position': 70, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:39,025.025] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:39,037.037] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:39,037.037] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:39,037.037] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.754s ago] {'pk_1': UUID('10cfdc34-ac93-426e-b727-8d0f65218f2e')}
[2024-10-14 22:46:39,082.082] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:39,083.083] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:39] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:46:39,576.576] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:39,577.577] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:46:39,577.577] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.314s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:46:39,578.578] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:46:39,579.579] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.313s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:46:39,580.580] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:46:39,580.580] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.312s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:46:39,581.581] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:39,583.583] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:39,583.583] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:46:39,584.584] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.311s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:46:39,585.585] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:46:39,585.585] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.31s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:46:39,587.587] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:46:39,587.587] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.311s ago] {'pk_1': UUID('73fc253f-0b8b-443a-b81f-6fe590e41e37')}
[2024-10-14 22:46:39,589.589] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:46:39,589.589] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.311s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('73fc253f-0b8b-443a-b81f-6fe590e41e37'), 'batch': '20241014224639297721', 'name': 'LLMOps 项目提示词大全.md', 'position': 71, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:46:39,590.590] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:46:39,591.591] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:46:39,592.592] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:46:39,592.592] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.308s ago] {'pk_1': UUID('f224f15e-074e-4a47-b89d-acfed58255a8')}
[2024-10-14 22:46:39,643.643] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:46:39,643.643] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:46:39] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:47:12,349.349] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:12,349.349] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:47:12,349.349] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.09s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:47:12,351.351] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:47:12,351.351] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.09s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:47:12,352.352] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:47:12,352.352] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.08s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:47:12,353.353] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:12,390.390] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:12,391.391] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:47:12,391.391] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.12s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:47:12,392.392] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:47:12,392.392] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.12s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:47:12,392.392] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:47:12,392.392] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.12s ago] {'pk_1': UUID('7f21d87a-5fac-43c0-99a8-6521cd16c29f')}
[2024-10-14 22:47:12,393.393] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:47:12,393.393] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.12s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('7f21d87a-5fac-43c0-99a8-6521cd16c29f'), 'batch': '20241014224712621447', 'name': 'LLMOps 项目提示词大全.md', 'position': 72, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:47:12,394.394] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:12,395.395] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:12,395.395] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:47:12,395.395] base.py -> _exec_single_context line:1908 [INFO]: [cached since 38.11s ago] {'pk_1': UUID('b8700406-ef01-4c1a-b269-734441b55ec3')}
[2024-10-14 22:47:12,414.414] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:47:12,414.414] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:47:12] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:47:17,285.285] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:17,285.285] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:47:17,285.285] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.02s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:47:17,286.286] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:47:17,287.287] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.02s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:47:17,287.287] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:47:17,287.287] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.02s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:47:17,288.288] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:17,293.293] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:17,293.293] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:47:17,293.293] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.02s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:47:17,294.294] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:47:17,294.294] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.02s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:47:17,295.295] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:47:17,295.295] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.02s ago] {'pk_1': UUID('cb921e84-cb05-415c-8fc8-21b21c093b25')}
[2024-10-14 22:47:17,296.296] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:47:17,296.296] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.02s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('cb921e84-cb05-415c-8fc8-21b21c093b25'), 'batch': '20241014224717773582', 'name': 'LLMOps 项目提示词大全.md', 'position': 73, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:47:17,297.297] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:17,298.298] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:17,298.298] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:47:17,298.298] base.py -> _exec_single_context line:1908 [INFO]: [cached since 43.01s ago] {'pk_1': UUID('1d2efc18-a7c2-47ff-b421-7cb5db1ef7fc')}
[2024-10-14 22:47:17,326.326] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:47:17,326.326] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:47:17] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:47:28,122.122] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:28,123.123] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:47:28,123.123] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.86s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:47:28,124.124] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:47:28,124.124] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.86s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:47:28,125.125] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:47:28,125.125] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.86s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:47:28,126.126] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:28,130.130] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:28,130.130] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:47:28,130.130] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.86s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:47:28,131.131] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:47:28,131.131] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.86s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:47:28,132.132] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:47:28,132.132] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.85s ago] {'pk_1': UUID('f6fe5296-407f-4e48-9dde-ce296b70dc20')}
[2024-10-14 22:47:28,132.132] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:47:28,132.132] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.85s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('f6fe5296-407f-4e48-9dde-ce296b70dc20'), 'batch': '20241014224728208503', 'name': 'LLMOps 项目提示词大全.md', 'position': 74, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:47:28,135.135] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:28,137.137] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:28,137.137] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:47:28,137.137] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.85s ago] {'pk_1': UUID('a10f8912-df08-404d-8ad8-22ba10e8ac5f')}
[2024-10-14 22:47:28,167.167] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:47:28,167.167] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:47:28] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:47:28,804.804] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:28,805.805] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:47:28,805.805] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.54s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:47:28,806.806] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:47:28,807.807] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.54s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:47:28,807.807] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:47:28,807.807] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.54s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:47:28,808.808] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:28,810.810] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:28,810.810] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:47:28,810.810] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.54s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:47:28,811.811] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:47:28,811.811] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.54s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:47:28,811.811] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:47:28,812.812] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.53s ago] {'pk_1': UUID('53b8bb0f-023c-4fb2-8c30-7a51726ff2bc')}
[2024-10-14 22:47:28,812.812] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:47:28,812.812] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.53s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('53b8bb0f-023c-4fb2-8c30-7a51726ff2bc'), 'batch': '20241014224728632664', 'name': 'LLMOps 项目提示词大全.md', 'position': 75, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:47:28,813.813] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:28,814.814] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:28,814.814] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:47:28,814.814] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.53s ago] {'pk_1': UUID('6571029d-92e3-4c1f-93b5-37237c280a5a')}
[2024-10-14 22:47:28,833.833] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:47:28,833.833] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:47:28] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:47:29,427.427] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:29,427.427] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:47:29,427.427] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.16s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:47:29,428.428] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:47:29,428.428] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.16s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:47:29,429.429] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:47:29,429.429] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.16s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:47:29,430.430] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:29,433.433] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:29,433.433] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:47:29,433.433] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.16s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:47:29,434.434] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:47:29,434.434] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.16s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:47:29,435.435] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:47:29,435.435] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.16s ago] {'pk_1': UUID('da0b2431-9e78-4133-9f9b-98ad5b7997ba')}
[2024-10-14 22:47:29,436.436] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:47:29,436.436] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.16s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('da0b2431-9e78-4133-9f9b-98ad5b7997ba'), 'batch': '20241014224729524125', 'name': 'LLMOps 项目提示词大全.md', 'position': 76, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:47:29,436.436] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:29,439.439] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:29,439.439] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:47:29,439.439] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.16s ago] {'pk_1': UUID('b7c1168f-881f-433f-b8b7-42fc2a17e92a')}
[2024-10-14 22:47:29,458.458] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:47:29,459.459] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:47:29] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:47:30,019.019] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:30,019.019] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:47:30,019.019] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.76s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:47:30,020.020] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:47:30,020.020] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.75s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:47:30,021.021] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:47:30,021.021] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.75s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:47:30,022.022] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:30,023.023] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:30,023.023] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:47:30,023.023] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.75s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:47:30,024.024] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:47:30,024.024] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.75s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:47:30,025.025] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:47:30,025.025] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.75s ago] {'pk_1': UUID('a492845c-edec-4030-8166-74c582a9f9c3')}
[2024-10-14 22:47:30,026.026] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:47:30,026.026] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.75s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('a492845c-edec-4030-8166-74c582a9f9c3'), 'batch': '20241014224730857948', 'name': 'LLMOps 项目提示词大全.md', 'position': 77, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:47:30,026.026] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:47:30,027.027] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:47:30,028.028] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:47:30,028.028] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.74s ago] {'pk_1': UUID('30ef60dd-960e-45bb-a658-02ac732d578f')}
[2024-10-14 22:47:30,056.056] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:47:30,057.057] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:47:30] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:49:01,450.450] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:01,451.451] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:49:01,451.451] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.2s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:49:01,452.452] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:49:01,452.452] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:49:01,453.453] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:49:01,453.453] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:49:01,454.454] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:01,458.458] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:01,458.458] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:49:01,458.458] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.2s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:49:01,459.459] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:49:01,459.459] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.2s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:49:01,460.460] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:49:01,460.460] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.2s ago] {'pk_1': UUID('1849c0e7-d2d4-4bf9-9bd1-41dce6893c05')}
[2024-10-14 22:49:01,461.461] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:49:01,461.461] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('1849c0e7-d2d4-4bf9-9bd1-41dce6893c05'), 'batch': '20241014224901880208', 'name': 'LLMOps 项目提示词大全.md', 'position': 78, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:49:01,466.466] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:01,467.467] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:01,468.468] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:49:01,468.468] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.2s ago] {'pk_1': UUID('77bac6d0-5e32-4d10-98c0-e49b975768d6')}
[2024-10-14 22:49:01,485.485] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:49:01,485.485] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:49:01] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:49:01,888.888] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:01,889.889] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:49:01,889.889] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.6s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:49:01,891.891] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:49:01,891.891] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:49:01,891.891] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:49:01,891.891] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:49:01,892.892] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:01,895.895] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:01,895.895] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:49:01,895.895] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.6s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:49:01,897.897] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:49:01,911.911] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.6s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:49:01,913.913] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:49:01,913.913] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.6s ago] {'pk_1': UUID('7837fefc-cb4b-4be4-86ef-22b048c927a9')}
[2024-10-14 22:49:01,914.914] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:49:01,914.914] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('7837fefc-cb4b-4be4-86ef-22b048c927a9'), 'batch': '20241014224901258029', 'name': 'LLMOps 项目提示词大全.md', 'position': 79, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:49:01,915.915] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:01,930.930] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:01,930.930] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:49:01,930.930] base.py -> _exec_single_context line:1908 [INFO]: [cached since 147.6s ago] {'pk_1': UUID('22c908d6-7497-4fe0-b145-f21eb0e63859')}
[2024-10-14 22:49:01,953.953] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:49:01,955.955] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:49:01] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:49:02,351.351] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:02,351.351] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:49:02,351.351] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:49:02,352.352] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:49:02,352.352] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:49:02,353.353] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:49:02,353.353] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:49:02,354.354] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:02,356.356] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:02,356.356] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:49:02,356.356] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:49:02,357.357] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:49:02,357.357] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:49:02,358.358] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:49:02,358.358] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.1s ago] {'pk_1': UUID('bb8bfda7-cf3f-4393-9bae-ad610c087b49')}
[2024-10-14 22:49:02,359.359] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:49:02,359.359] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('bb8bfda7-cf3f-4393-9bae-ad610c087b49'), 'batch': '20241014224902645067', 'name': 'LLMOps 项目提示词大全.md', 'position': 80, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:49:02,359.359] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:02,360.360] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:02,360.360] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:49:02,360.360] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.1s ago] {'pk_1': UUID('0fd329cf-8832-43f0-acd3-00c5db0f8efa')}
[2024-10-14 22:49:02,391.391] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:49:02,392.392] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:49:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:49:02,811.811] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:02,812.812] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:49:02,812.812] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.5s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:49:02,813.813] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:49:02,813.813] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.5s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:49:02,814.814] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:49:02,814.814] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.5s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:49:02,815.815] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:02,817.817] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:02,817.817] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:49:02,817.817] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.5s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:49:02,818.818] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:49:02,818.818] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.5s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:49:02,819.819] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:49:02,819.819] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.5s ago] {'pk_1': UUID('9a6456de-5dbb-41ab-a090-e205e5bb61c5')}
[2024-10-14 22:49:02,820.820] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:49:02,820.820] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.5s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('9a6456de-5dbb-41ab-a090-e205e5bb61c5'), 'batch': '20241014224902342098', 'name': 'LLMOps 项目提示词大全.md', 'position': 81, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:49:02,821.821] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:02,822.822] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:02,822.822] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:49:02,822.822] base.py -> _exec_single_context line:1908 [INFO]: [cached since 148.5s ago] {'pk_1': UUID('1a5d12cc-5517-4a4a-9416-cb1f6a616fc6')}
[2024-10-14 22:49:02,841.841] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:49:02,842.842] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:49:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:49:03,234.234] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:03,234.234] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:49:03,234.234] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:49:03,235.235] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:49:03,236.236] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:49:03,236.236] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:49:03,236.236] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:49:03,237.237] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:03,242.242] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:03,242.242] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:49:03,242.242] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:49:03,243.243] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:49:03,243.243] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:49:03,244.244] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:49:03,244.244] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149s ago] {'pk_1': UUID('c46be956-9b4a-4237-a9d1-b67d7b2c42c4')}
[2024-10-14 22:49:03,245.245] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:49:03,245.245] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('c46be956-9b4a-4237-a9d1-b67d7b2c42c4'), 'batch': '20241014224903703982', 'name': 'LLMOps 项目提示词大全.md', 'position': 82, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:49:03,248.248] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:03,250.250] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:03,250.250] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:49:03,250.250] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149s ago] {'pk_1': UUID('41633e6f-c351-4aa3-bd14-6032948af9d2')}
[2024-10-14 22:49:03,269.269] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:49:03,270.270] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:49:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:49:03,861.861] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:03,861.861] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:49:03,861.861] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.6s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:49:03,863.863] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:49:03,863.863] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:49:03,864.864] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:49:03,864.864] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:49:03,864.864] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:03,867.867] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:03,867.867] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:49:03,867.867] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.6s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:49:03,868.868] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:49:03,868.868] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.6s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:49:03,869.869] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:49:03,869.869] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.6s ago] {'pk_1': UUID('fd99b16f-13c8-4564-9ded-9d7e44c6d9e2')}
[2024-10-14 22:49:03,870.870] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:49:03,870.870] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('fd99b16f-13c8-4564-9ded-9d7e44c6d9e2'), 'batch': '20241014224903603684', 'name': 'LLMOps 项目提示词大全.md', 'position': 83, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:49:03,871.871] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:03,872.872] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:03,872.872] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:49:03,872.872] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.6s ago] {'pk_1': UUID('08190130-9878-4af5-9f10-5be7630852ed')}
[2024-10-14 22:49:03,894.894] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:49:03,894.894] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:49:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:49:04,199.199] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:04,199.199] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:49:04,199.199] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.9s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:49:04,200.200] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:49:04,200.200] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.9s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:49:04,201.201] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:49:04,201.201] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:49:04,202.202] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:04,204.204] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:04,204.204] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:49:04,204.204] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.9s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:49:04,206.206] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:49:04,206.206] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.9s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:49:04,207.207] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:49:04,207.207] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.9s ago] {'pk_1': UUID('00a9f3fb-761a-4314-b092-722643fc8d29')}
[2024-10-14 22:49:04,208.208] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:49:04,209.209] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('00a9f3fb-761a-4314-b092-722643fc8d29'), 'batch': '20241014224904376162', 'name': 'LLMOps 项目提示词大全.md', 'position': 84, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:49:04,209.209] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:49:04,211.211] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:49:04,211.211] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:49:04,211.211] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.9s ago] {'pk_1': UUID('a7b87329-ff70-4dc0-9475-19edc8102591')}
[2024-10-14 22:49:04,230.230] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:49:04,231.231] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:49:04] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:50:25,308.308] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:25,308.308] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:50:25,308.308] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:50:25,309.309] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:50:25,310.310] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:50:25,310.310] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:50:25,310.310] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:50:25,311.311] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:25,313.313] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:25,313.313] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:50:25,313.313] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:50:25,314.314] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:50:25,314.314] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:50:25,315.315] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:50:25,315.315] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231s ago] {'pk_1': UUID('c8afdf29-a031-406d-ac0b-c4983dd05957')}
[2024-10-14 22:50:25,316.316] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:50:25,316.316] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('c8afdf29-a031-406d-ac0b-c4983dd05957'), 'batch': '20241014225025483218', 'name': 'LLMOps 项目提示词大全.md', 'position': 85, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:50:25,317.317] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:25,318.318] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:25,318.318] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:50:25,318.318] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231s ago] {'pk_1': UUID('403c617b-705b-4dee-b16b-a13d1839f84c')}
[2024-10-14 22:50:25,346.346] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:50:25,346.346] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:50:25] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:50:25,722.722] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:25,723.723] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:50:25,723.723] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231.5s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:50:25,724.724] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:50:25,724.724] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231.5s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:50:25,725.725] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:50:25,725.725] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231.5s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:50:25,726.726] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:25,732.732] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:25,732.732] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:50:25,733.733] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231.5s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:50:25,734.734] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:50:25,734.734] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231.5s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:50:25,735.735] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:50:25,735.735] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231.5s ago] {'pk_1': UUID('ab07fbe9-a35a-4d01-82c2-dfa37713d4b3')}
[2024-10-14 22:50:25,736.736] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:50:25,736.736] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231.5s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('ab07fbe9-a35a-4d01-82c2-dfa37713d4b3'), 'batch': '20241014225025184767', 'name': 'LLMOps 项目提示词大全.md', 'position': 86, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:50:25,737.737] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:25,768.768] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:25,769.769] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:50:25,769.769] base.py -> _exec_single_context line:1908 [INFO]: [cached since 231.5s ago] {'pk_1': UUID('279a8256-5299-4b36-9ddb-eb7eb164e9f9')}
[2024-10-14 22:50:25,790.790] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:50:25,791.791] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:50:25] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:50:26,412.412] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:26,412.412] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:50:26,412.412] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:50:26,413.413] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:50:26,413.413] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:50:26,414.414] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:50:26,414.414] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:50:26,415.415] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:26,418.418] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:26,418.418] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:50:26,418.418] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:50:26,419.419] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:50:26,419.419] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:50:26,419.419] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:50:26,419.419] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.1s ago] {'pk_1': UUID('71ab32ec-e316-440f-8c1c-02bedcf47ef1')}
[2024-10-14 22:50:26,420.420] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:50:26,420.420] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('71ab32ec-e316-440f-8c1c-02bedcf47ef1'), 'batch': '20241014225026140915', 'name': 'LLMOps 项目提示词大全.md', 'position': 87, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:50:26,421.421] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:26,447.447] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:26,447.447] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:50:26,447.447] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.2s ago] {'pk_1': UUID('8ee1bcc5-d8b8-426e-96b1-361a1113a426')}
[2024-10-14 22:50:26,466.466] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:50:26,467.467] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:50:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:50:27,010.010] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:27,010.010] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:50:27,010.010] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:50:27,011.011] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:50:27,012.012] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:50:27,012.012] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:50:27,012.012] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:50:27,013.013] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:27,016.016] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:27,016.016] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:50:27,016.016] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:50:27,017.017] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:50:27,017.017] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.7s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:50:27,018.018] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:50:27,018.018] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.7s ago] {'pk_1': UUID('b8ef8064-f4eb-49a9-a0c7-49cb3c668604')}
[2024-10-14 22:50:27,019.019] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:50:27,019.019] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('b8ef8064-f4eb-49a9-a0c7-49cb3c668604'), 'batch': '20241014225027895879', 'name': 'LLMOps 项目提示词大全.md', 'position': 88, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:50:27,019.019] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:27,021.021] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:27,021.021] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:50:27,021.021] base.py -> _exec_single_context line:1908 [INFO]: [cached since 232.7s ago] {'pk_1': UUID('688d1214-f276-4eaf-9fb5-1f067594db51')}
[2024-10-14 22:50:27,041.041] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:50:27,041.041] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:50:27] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:50:27,606.606] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:27,606.606] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:50:27,606.606] base.py -> _exec_single_context line:1908 [INFO]: [cached since 233.3s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:50:27,607.607] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:50:27,607.607] base.py -> _exec_single_context line:1908 [INFO]: [cached since 233.3s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:50:27,608.608] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:50:27,608.608] base.py -> _exec_single_context line:1908 [INFO]: [cached since 233.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:50:27,609.609] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:27,611.611] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:27,611.611] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:50:27,611.611] base.py -> _exec_single_context line:1908 [INFO]: [cached since 233.3s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:50:27,612.612] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:50:27,612.612] base.py -> _exec_single_context line:1908 [INFO]: [cached since 233.3s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:50:27,613.613] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:50:27,613.613] base.py -> _exec_single_context line:1908 [INFO]: [cached since 233.3s ago] {'pk_1': UUID('58ef5b94-61ac-417d-aaea-bbe99873b352')}
[2024-10-14 22:50:27,614.614] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:50:27,614.614] base.py -> _exec_single_context line:1908 [INFO]: [cached since 233.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('58ef5b94-61ac-417d-aaea-bbe99873b352'), 'batch': '20241014225027428092', 'name': 'LLMOps 项目提示词大全.md', 'position': 89, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:50:27,625.625] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:27,636.636] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:27,636.636] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:50:27,636.636] base.py -> _exec_single_context line:1908 [INFO]: [cached since 233.4s ago] {'pk_1': UUID('c3761169-a61c-4702-946a-abe46531a0dc')}
[2024-10-14 22:50:27,666.666] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:50:27,666.666] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:50:27] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:50:28,318.318] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:28,318.318] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:50:28,318.318] base.py -> _exec_single_context line:1908 [INFO]: [cached since 234.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:50:28,319.319] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:50:28,319.319] base.py -> _exec_single_context line:1908 [INFO]: [cached since 234.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:50:28,320.320] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:50:28,320.320] base.py -> _exec_single_context line:1908 [INFO]: [cached since 234.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:50:28,321.321] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:28,323.323] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:28,323.323] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:50:28,324.324] base.py -> _exec_single_context line:1908 [INFO]: [cached since 234.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:50:28,325.325] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:50:28,325.325] base.py -> _exec_single_context line:1908 [INFO]: [cached since 234s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:50:28,326.326] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:50:28,326.326] base.py -> _exec_single_context line:1908 [INFO]: [cached since 234s ago] {'pk_1': UUID('1237aa2a-de4b-4d94-8c8e-47f7539c0389')}
[2024-10-14 22:50:28,326.326] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:50:28,326.326] base.py -> _exec_single_context line:1908 [INFO]: [cached since 234s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('1237aa2a-de4b-4d94-8c8e-47f7539c0389'), 'batch': '20241014225028958353', 'name': 'LLMOps 项目提示词大全.md', 'position': 90, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:50:28,327.327] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:50:28,328.328] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:50:28,328.328] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:50:28,328.328] base.py -> _exec_single_context line:1908 [INFO]: [cached since 234s ago] {'pk_1': UUID('718b7afa-50be-4e77-aaac-145c412fcc68')}
[2024-10-14 22:50:28,348.348] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:50:28,348.348] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:50:28] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:38,250.250] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:38,251.251] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:38,251.251] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:38,252.252] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:38,252.252] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:38,253.253] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:38,253.253] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:38,254.254] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:38,259.259] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:38,260.260] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:38,260.260] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:38,261.261] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:38,261.261] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:38,262.262] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:38,262.262] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304s ago] {'pk_1': UUID('0476ddc5-6395-449c-922b-f35560446878')}
[2024-10-14 22:51:38,263.263] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:38,263.263] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('0476ddc5-6395-449c-922b-f35560446878'), 'batch': '20241014225138112470', 'name': 'LLMOps 项目提示词大全.md', 'position': 91, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:38,264.264] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:38,265.265] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:38,265.265] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:38,265.265] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304s ago] {'pk_1': UUID('742816c9-9d24-4ab7-af85-76a5769ade29')}
[2024-10-14 22:51:38,284.284] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:38,285.285] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:38] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:38,914.914] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:38,914.914] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:38,914.914] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:38,916.916] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:38,916.916] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:38,917.917] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:38,917.917] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:38,917.917] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:38,928.928] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:38,928.928] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:38,928.928] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:38,930.930] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:38,930.930] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304.7s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:38,930.930] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:38,931.931] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304.7s ago] {'pk_1': UUID('f9045c80-828d-4889-9e95-522b700ccfd9')}
[2024-10-14 22:51:38,931.931] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:38,931.931] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('f9045c80-828d-4889-9e95-522b700ccfd9'), 'batch': '20241014225138578114', 'name': 'LLMOps 项目提示词大全.md', 'position': 92, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:38,932.932] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:38,934.934] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:38,935.935] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:38,935.935] base.py -> _exec_single_context line:1908 [INFO]: [cached since 304.7s ago] {'pk_1': UUID('57a1bcf7-6315-44d0-93fc-93936e0646c3')}
[2024-10-14 22:51:38,958.958] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:38,959.959] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:38] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:39,321.321] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:39,321.321] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:39,321.321] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:39,322.322] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:39,323.323] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:39,323.323] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:39,323.323] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:39,324.324] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:39,326.326] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:39,326.326] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:39,326.326] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:39,328.328] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:39,328.328] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.1s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:39,328.328] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:39,328.328] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.1s ago] {'pk_1': UUID('fdbbba5d-89b3-4386-b4d6-cf7b56ce28d5')}
[2024-10-14 22:51:39,329.329] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:39,329.329] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('fdbbba5d-89b3-4386-b4d6-cf7b56ce28d5'), 'batch': '20241014225139451206', 'name': 'LLMOps 项目提示词大全.md', 'position': 93, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:39,330.330] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:39,331.331] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:39,331.331] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:39,331.331] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305s ago] {'pk_1': UUID('ffa45e3b-9a29-4484-929f-6eb23679ad75')}
[2024-10-14 22:51:39,361.361] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:39,361.361] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:39] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:39,937.937] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:39,938.938] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:39,938.938] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:39,939.939] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:39,939.939] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:39,940.940] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:39,940.940] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:39,941.941] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:39,954.954] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:39,955.955] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:39,955.955] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:39,956.956] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:39,956.956] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.7s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:39,956.956] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:39,956.956] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.7s ago] {'pk_1': UUID('a52d1006-a4b4-4a6b-b571-46636dab3e52')}
[2024-10-14 22:51:39,957.957] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:39,957.957] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('a52d1006-a4b4-4a6b-b571-46636dab3e52'), 'batch': '20241014225139257727', 'name': 'LLMOps 项目提示词大全.md', 'position': 94, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:39,958.958] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:39,980.980] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:39,980.980] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:39,980.980] base.py -> _exec_single_context line:1908 [INFO]: [cached since 305.7s ago] {'pk_1': UUID('36c5f5e4-1595-4cde-ad65-8f7b59b19ff0')}
[2024-10-14 22:51:40,009.009] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:40,010.010] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:40] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:40,466.466] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:40,466.466] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:40,467.467] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.2s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:40,468.468] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:40,468.468] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:40,468.468] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:40,469.469] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:40,469.469] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:40,476.476] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:40,476.476] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:40,476.476] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.2s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:40,477.477] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:40,477.477] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.2s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:40,478.478] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:40,478.478] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.2s ago] {'pk_1': UUID('0de18dc6-b1fb-44c5-b734-7fe1bdb028e6')}
[2024-10-14 22:51:40,479.479] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:40,479.479] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('0de18dc6-b1fb-44c5-b734-7fe1bdb028e6'), 'batch': '20241014225140685750', 'name': 'LLMOps 项目提示词大全.md', 'position': 95, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:40,480.480] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:40,481.481] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:40,481.481] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:40,482.482] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.2s ago] {'pk_1': UUID('dffec445-6e65-4c87-9134-b2684f645efa')}
[2024-10-14 22:51:40,510.510] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:40,510.510] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:40] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:40,998.998] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:40,998.998] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:40,998.998] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:40,999.999] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:40,999.999] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:41,000.000] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:41,000.000] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:41,000.000] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:41,002.002] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:41,002.002] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:41,002.002] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:41,005.005] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:41,005.005] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.7s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:41,006.006] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:41,006.006] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.7s ago] {'pk_1': UUID('a66bb8d0-efb9-4668-89d9-5df578d54f26')}
[2024-10-14 22:51:41,007.007] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:41,007.007] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('a66bb8d0-efb9-4668-89d9-5df578d54f26'), 'batch': '20241014225140108886', 'name': 'LLMOps 项目提示词大全.md', 'position': 96, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:41,008.008] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:41,010.010] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:41,010.010] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:41,010.010] base.py -> _exec_single_context line:1908 [INFO]: [cached since 306.7s ago] {'pk_1': UUID('066bef7f-5761-45ca-bff9-7f9c8fb85d57')}
[2024-10-14 22:51:41,031.031] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:41,032.032] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:41] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:41,561.561] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:41,562.562] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:41,562.562] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.3s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:41,563.563] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:41,563.563] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.3s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:41,564.564] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:41,564.564] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:41,565.565] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:41,575.575] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:41,576.576] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:41,576.576] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.3s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:41,577.577] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:41,577.577] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.3s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:41,578.578] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:41,578.578] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.3s ago] {'pk_1': UUID('1b1aeaef-7335-4752-b7b5-21705268d914')}
[2024-10-14 22:51:41,579.579] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:41,579.579] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('1b1aeaef-7335-4752-b7b5-21705268d914'), 'batch': '20241014225141377384', 'name': 'LLMOps 项目提示词大全.md', 'position': 97, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:41,581.581] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:41,584.584] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:41,584.584] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:41,584.584] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.3s ago] {'pk_1': UUID('289e0b6e-4254-4a65-a3b3-6461c1f60cab')}
[2024-10-14 22:51:41,604.604] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:41,606.606] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:41] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:42,069.069] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:42,069.069] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:42,069.069] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.8s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:42,071.071] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:42,071.071] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.8s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:42,072.072] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:42,072.072] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:42,072.072] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:42,085.085] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:42,085.085] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:42,085.085] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.8s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:42,086.086] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:42,086.086] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.8s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:42,087.087] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:42,087.087] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.8s ago] {'pk_1': UUID('bf1cb766-ffcb-45af-b57d-9a2938beded6')}
[2024-10-14 22:51:42,088.088] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:42,088.088] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('bf1cb766-ffcb-45af-b57d-9a2938beded6'), 'batch': '20241014225142961864', 'name': 'LLMOps 项目提示词大全.md', 'position': 98, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:42,089.089] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:42,090.090] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:42,091.091] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:42,091.091] base.py -> _exec_single_context line:1908 [INFO]: [cached since 307.8s ago] {'pk_1': UUID('6467db66-133e-43ec-94c1-ee63366e239b')}
[2024-10-14 22:51:42,113.113] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:42,114.114] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:42] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:42,633.633] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:42,633.633] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:42,634.634] base.py -> _exec_single_context line:1908 [INFO]: [cached since 308.4s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:42,635.635] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:42,635.635] base.py -> _exec_single_context line:1908 [INFO]: [cached since 308.4s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:42,636.636] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:42,636.636] base.py -> _exec_single_context line:1908 [INFO]: [cached since 308.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:42,637.637] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:42,649.649] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:42,649.649] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:42,649.649] base.py -> _exec_single_context line:1908 [INFO]: [cached since 308.4s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:42,651.651] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:42,651.651] base.py -> _exec_single_context line:1908 [INFO]: [cached since 308.4s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:42,652.652] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:42,652.652] base.py -> _exec_single_context line:1908 [INFO]: [cached since 308.4s ago] {'pk_1': UUID('acae1c95-e23a-4d18-904a-4d3c1825750a')}
[2024-10-14 22:51:42,653.653] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:42,653.653] base.py -> _exec_single_context line:1908 [INFO]: [cached since 308.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('acae1c95-e23a-4d18-904a-4d3c1825750a'), 'batch': '20241014225142243611', 'name': 'LLMOps 项目提示词大全.md', 'position': 99, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:42,654.654] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:42,656.656] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:42,656.656] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:42,656.656] base.py -> _exec_single_context line:1908 [INFO]: [cached since 308.4s ago] {'pk_1': UUID('3d2d28e7-8784-4fe4-90ab-229c37038473')}
[2024-10-14 22:51:42,709.709] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:42,710.710] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:42] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:43,586.586] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:43,587.587] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:43,587.587] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.3s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:43,589.589] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:43,589.589] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.3s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:43,590.590] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:43,590.590] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:43,592.592] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:43,594.594] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:43,595.595] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:43,595.595] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.3s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:43,597.597] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:43,597.597] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.3s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:43,598.598] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:43,598.598] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.3s ago] {'pk_1': UUID('aea155a0-4f4e-4b5a-84bf-bfdf415505c3')}
[2024-10-14 22:51:43,599.599] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:43,599.599] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('aea155a0-4f4e-4b5a-84bf-bfdf415505c3'), 'batch': '20241014225143704265', 'name': 'LLMOps 项目提示词大全.md', 'position': 100, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:43,600.600] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:43,601.601] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:43,601.601] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:43,602.602] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.3s ago] {'pk_1': UUID('fa35ed97-1b3e-4388-af22-834a901d333b')}
[2024-10-14 22:51:43,655.655] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:43,655.655] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:43] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:51:44,081.081] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:44,081.081] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:51:44,082.082] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.8s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:51:44,084.084] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:51:44,084.084] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.8s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:51:44,085.085] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:51:44,085.085] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:51:44,087.087] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:44,090.090] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:44,090.090] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:51:44,090.090] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.8s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:51:44,092.092] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:51:44,093.093] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.8s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:51:44,093.093] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:51:44,093.093] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.8s ago] {'pk_1': UUID('7cd9c835-f7c5-42a3-a80c-2b5ea5de7bc6')}
[2024-10-14 22:51:44,095.095] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:51:44,095.095] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('7cd9c835-f7c5-42a3-a80c-2b5ea5de7bc6'), 'batch': '20241014225144580361', 'name': 'LLMOps 项目提示词大全.md', 'position': 101, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:51:44,096.096] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:51:44,097.097] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:51:44,098.098] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:51:44,098.098] base.py -> _exec_single_context line:1908 [INFO]: [cached since 309.8s ago] {'pk_1': UUID('798bfdb4-f52c-44d1-b6fa-63189495e665')}
[2024-10-14 22:51:44,171.171] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:51:44,171.171] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:51:44] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:54:45,216.216] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:54:45,216.216] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 22:54:45,216.216] base.py -> _exec_single_context line:1908 [INFO]: [cached since 491s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 22:54:45,217.217] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 22:54:45,218.218] base.py -> _exec_single_context line:1908 [INFO]: [cached since 491s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 22:54:45,219.219] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 22:54:45,219.219] base.py -> _exec_single_context line:1908 [INFO]: [cached since 491s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 22:54:45,219.219] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:54:45,222.222] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:54:45,223.223] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 22:54:45,223.223] base.py -> _exec_single_context line:1908 [INFO]: [cached since 490.9s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 22:54:45,224.224] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 22:54:45,225.225] base.py -> _exec_single_context line:1908 [INFO]: [cached since 490.9s ago] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 22:54:45,225.225] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 22:54:45,226.226] base.py -> _exec_single_context line:1908 [INFO]: [cached since 490.9s ago] {'pk_1': UUID('f7b364e7-1f73-4b0a-a8ce-13f7af1dc929')}
[2024-10-14 22:54:45,226.226] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 22:54:45,227.227] base.py -> _exec_single_context line:1908 [INFO]: [cached since 490.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('f7b364e7-1f73-4b0a-a8ce-13f7af1dc929'), 'batch': '20241014225445246987', 'name': 'LLMOps 项目提示词大全.md', 'position': 102, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 22:54:45,227.227] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 22:54:45,255.255] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 22:54:45,255.255] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 22:54:45,256.256] base.py -> _exec_single_context line:1908 [INFO]: [cached since 491s ago] {'pk_1': UUID('5e005a63-74bb-4ab0-926a-0e8005dea503')}
[2024-10-14 22:54:45,282.282] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 22:54:45,283.283] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 22:54:45] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-14 22:56:03,162.162] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\vector_database_service.py', reloading
[2024-10-14 22:56:03,507.507] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-14 22:56:08,179.179] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-14 22:56:08,182.182] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-14 23:20:07,400.400] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-14 23:20:07,400.400] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 23:20:07,400.400] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-14 23:20:07,401.401] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 23:20:07,401.401] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-14 23:20:07,401.401] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-14 23:20:07,402.402] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 23:20:07,403.403] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-14 23:20:07,403.403] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-14 23:20:07,406.406] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-14 23:20:07,406.406] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1f913c05-8783-4de4-a2c7-c551fa17d0f6'}
[2024-10-14 23:20:07,406.406] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-14 23:20:07,406.406] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-14 23:20:07,407.407] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 23:20:07,441.441] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 23:20:07,443.443] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-14 23:20:07,443.443] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-14 23:20:07,444.444] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-14 23:20:07,445.445] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6')}
[2024-10-14 23:20:07,446.446] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-14 23:20:07,446.446] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('a6f1d38f-68e1-4251-b93a-56b524ed2c3d')}
[2024-10-14 23:20:07,447.447] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-14 23:20:07,447.447] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1f913c05-8783-4de4-a2c7-c551fa17d0f6'), 'process_rule_id': UUID('a6f1d38f-68e1-4251-b93a-56b524ed2c3d'), 'batch': '20241014232007960626', 'name': 'LLMOps 项目提示词大全.md', 'position': 103, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-14 23:20:07,448.448] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-14 23:20:07,452.452] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-14 23:20:07,453.453] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-14 23:20:07,453.453] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('b51c9ef6-be4b-4593-877e-e12e5bbea2ac')}
[2024-10-14 23:20:07,497.497] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-14 23:20:07,498.498] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [14/Oct/2024 23:20:07] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
