[2024-10-04 09:40:08,820.820] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 09:40:25,805.805] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 09:40:25,807.807] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 09:40:45,783.783] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\__init__.py', reloading
[2024-10-04 09:40:46,416.416] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 09:41:01,971.971] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 09:41:01,974.974] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 09:46:49,035.035] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 09:46:49,653.653] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 09:47:05,682.682] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 09:47:05,685.685] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 09:47:25,472.472] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 09:47:26,103.103] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 09:47:43,036.036] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 09:47:43,038.038] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 09:53:42,620.620] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 09:53:42,620.620] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 09:53:42,621.621] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 09:53:42,621.621] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 09:53:42,622.622] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 09:53:42,622.622] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 09:53:42,622.622] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 09:53:42,624.624] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 09:53:42,624.624] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 09:53:42,627.627] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 09:53:42,627.627] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 09:53:42,750.750] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 09:53:42,750.750] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 09:53:42] "GET /ping HTTP/1.1" 200 -
[2024-10-04 09:53:44,873.873] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 09:53:44,873.873] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 09:53:44,873.873] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.25s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 09:53:44,875.875] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 09:53:44,875.875] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.248s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 09:53:44,966.966] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 09:53:44,967.967] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 09:53:44] "GET /ping HTTP/1.1" 200 -
[2024-10-04 09:54:02,599.599] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 09:54:02,599.599] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 09:54:02,599.599] base.py -> _exec_single_context line:1908 [INFO]: [cached since 19.98s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 09:54:02,601.601] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 09:54:02,601.601] base.py -> _exec_single_context line:1908 [INFO]: [cached since 19.97s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 09:54:02,688.688] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 09:54:02,688.688] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 09:54:02] "GET /ping HTTP/1.1" 200 -
[2024-10-04 09:54:02,958.958] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 09:54:02,959.959] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 09:54:02,959.959] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.33s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 09:54:02,960.960] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 09:54:02,960.960] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.33s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 09:54:03,044.044] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 09:54:03,044.044] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 09:54:03] "GET /ping HTTP/1.1" 200 -
[2024-10-04 09:54:03,326.326] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 09:54:03,326.326] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 09:54:03,326.326] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.7s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 09:54:03,327.327] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 09:54:03,327.327] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.7s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 09:54:03,406.406] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 09:54:03,406.406] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 09:54:03] "GET /ping HTTP/1.1" 200 -
[2024-10-04 09:54:03,690.690] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 09:54:03,691.691] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 09:54:03,691.691] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.07s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 09:54:03,692.692] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 09:54:03,692.692] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.07s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 09:54:03,765.765] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 09:54:03,766.766] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 09:54:03] "GET /ping HTTP/1.1" 200 -
[2024-10-04 09:54:04,082.082] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 09:54:04,082.082] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 09:54:04,082.082] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.46s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 09:54:04,084.084] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 09:54:04,084.084] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.46s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 09:54:04,163.163] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 09:54:04,163.163] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 09:54:04] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:12:12,384.384] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 10:12:12,384.384] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 10:12:12,385.385] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 10:12:28,631.631] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 10:12:28,633.633] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 10:13:17,652.652] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 10:13:17,652.652] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:13:17,681.681] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 10:13:17,681.681] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:13:17,683.683] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 10:13:17,683.683] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:13:17,683.683] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:17,685.685] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:17,685.685] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:17,920.920] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:17,920.920] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:18,208.208] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:18,208.208] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:18] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:20,332.332] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:20,332.332] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:20,332.332] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.648s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:20,333.333] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:20,333.333] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.413s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:20,404.404] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:20,405.405] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:20] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:20,995.995] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:20,995.995] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:20,995.995] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.311s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:20,998.998] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:20,998.998] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.077s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:21,065.065] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:21,065.065] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:21] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:21,368.368] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:21,368.368] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:21,368.368] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.684s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:21,369.369] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:21,370.370] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.45s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:21,466.466] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:21,466.466] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:21] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:21,746.746] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:21,747.747] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:21,747.747] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.062s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:21,748.748] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:21,748.748] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.828s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:21,829.829] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:21,829.829] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:21] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:22,092.092] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:22,092.092] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:22,092.092] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.408s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:22,094.094] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:22,094.094] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.174s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:22,172.172] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:22,172.172] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:22] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:22,426.426] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:22,426.426] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:22,426.426] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.742s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:22,427.427] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:22,427.427] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.507s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:22,508.508] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:22,509.509] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:22] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:37,497.497] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:37,497.497] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:37,497.497] base.py -> _exec_single_context line:1908 [INFO]: [cached since 19.81s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:37,498.498] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:37,498.498] base.py -> _exec_single_context line:1908 [INFO]: [cached since 19.58s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:37,580.580] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:37,580.580] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:37] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:38,082.082] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:38,082.082] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:38,082.082] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.4s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:38,082.082] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:38,082.082] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.16s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:38,166.166] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:38,167.167] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:38] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:13:38,562.562] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:13:38,562.562] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:13:38,562.562] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.88s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:13:38,563.563] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:13:38,563.563] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.64s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:13:38,643.643] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:13:38,644.644] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:13:38] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:14:04,281.281] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:04,282.282] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:14:04,282.282] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:14:04,362.362] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:14:04,362.362] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00034s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:14:04,419.419] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:14:04,419.419] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00038s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:14:04,537.537] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:04,562.562] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:04,566.566] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:14:04,566.566] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:14:04,569.569] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:14:04,569.569] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00060s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:14:04,572.572] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:14:04,572.572] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'pk_1': UUID('bf3e1e19-e60c-45b3-bd8c-05efd7e4fcad')}
[2024-10-04 10:14:04,574.574] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:14:04,574.574] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('bf3e1e19-e60c-45b3-bd8c-05efd7e4fcad'), 'batch': '20241004101404354578', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:14:04,597.597] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:04,598.598] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:04,600.600] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:14:04,600.600] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'pk_1': UUID('8db5942c-13ab-4fac-8233-f2bb5a13db0d')}
[2024-10-04 10:14:04,639.639] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:14:04,639.639] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:14:04] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:14:05,342.342] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:05,342.342] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:14:05,342.342] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.061s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:14:05,344.344] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:14:05,344.344] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.9827s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:14:05,345.345] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:14:05,345.345] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.9267s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:14:05,347.347] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:05,350.350] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:05,350.350] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:14:05,350.350] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.7841s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:14:05,351.351] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:14:05,351.351] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.7826s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:14:05,352.352] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:14:05,352.352] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.7808s ago] {'pk_1': UUID('68a55951-8d72-4d47-a7c0-4275121b8f09')}
[2024-10-04 10:14:05,353.353] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:14:05,354.354] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.7799s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('68a55951-8d72-4d47-a7c0-4275121b8f09'), 'batch': '20241004101405889485', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:14:05,355.355] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:05,356.356] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:05,356.356] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:14:05,356.356] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.757s ago] {'pk_1': UUID('453096ea-c67d-45ad-aca3-d7067a7ebe22')}
[2024-10-04 10:14:05,391.391] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:14:05,392.392] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:14:05] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:14:05,922.922] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:05,923.923] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:14:05,923.923] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.641s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:14:05,924.924] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:14:05,925.925] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.563s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:14:05,926.926] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:14:05,926.926] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.507s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:14:05,926.926] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:05,929.929] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:05,929.929] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:14:05,929.929] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.363s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:14:05,930.930] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:14:05,930.930] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.361s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:14:05,931.931] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:14:05,931.931] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.359s ago] {'pk_1': UUID('4d7d2e0d-9243-4099-83a1-e2ccfb64e48c')}
[2024-10-04 10:14:05,932.932] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:14:05,932.932] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.358s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('4d7d2e0d-9243-4099-83a1-e2ccfb64e48c'), 'batch': '20241004101405549845', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 3, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:14:05,935.935] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:05,937.937] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:05,937.937] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:14:05,937.937] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.337s ago] {'pk_1': UUID('91598608-89f7-4bc2-ace8-27b66612f791')}
[2024-10-04 10:14:05,975.975] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:14:05,976.976] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:14:05] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:14:06,507.507] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:06,507.507] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:14:06,507.507] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.225s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:14:06,508.508] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:14:06,509.509] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.147s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:14:06,510.510] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:14:06,510.510] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.091s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:14:06,510.510] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:06,513.513] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:06,513.513] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:14:06,513.513] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.947s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:14:06,514.514] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:14:06,515.515] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.946s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:14:06,515.515] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:14:06,516.516] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.944s ago] {'pk_1': UUID('38671ee0-eacc-4578-a2fb-a06f752f351f')}
[2024-10-04 10:14:06,516.516] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:14:06,517.517] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.942s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('38671ee0-eacc-4578-a2fb-a06f752f351f'), 'batch': '20241004101406231494', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 4, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:14:06,517.517] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:06,519.519] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:06,519.519] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:14:06,519.519] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.919s ago] {'pk_1': UUID('59920ff8-8a24-4c67-b377-ab0a91463bc5')}
[2024-10-04 10:14:06,555.555] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:14:06,555.555] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:14:06] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:14:07,076.076] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:07,076.076] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:14:07,076.076] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.795s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:14:07,078.078] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:14:07,079.079] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.717s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:14:07,079.079] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:14:07,079.079] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.661s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:14:07,080.080] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:07,083.083] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:07,083.083] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:14:07,083.083] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.517s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:14:07,084.084] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:14:07,084.084] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.515s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:14:07,085.085] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:14:07,085.085] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.513s ago] {'pk_1': UUID('3441339a-6865-45b5-baaa-f4c898f14a1d')}
[2024-10-04 10:14:07,086.086] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:14:07,086.086] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.512s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('3441339a-6865-45b5-baaa-f4c898f14a1d'), 'batch': '20241004101407689690', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 5, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:14:07,087.087] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:14:07,088.088] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:14:07,088.088] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:14:07,089.089] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.489s ago] {'pk_1': UUID('fcf3d548-ba6b-4509-a5ce-6902650c2d24')}
[2024-10-04 10:14:07,124.124] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:14:07,124.124] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:14:07] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:20:24,357.357] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:24,358.358] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:20:24,358.358] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:20:24,359.359] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:20:24,359.359] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:20:24,360.360] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:20:24,361.361] base.py -> _exec_single_context line:1908 [INFO]: [cached since 379.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:20:24,361.361] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:24,364.364] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:24,364.364] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:20:24,364.364] base.py -> _exec_single_context line:1908 [INFO]: [cached since 379.8s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:20:24,365.365] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:20:24,365.365] base.py -> _exec_single_context line:1908 [INFO]: [cached since 379.8s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:20:24,366.366] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:20:24,366.366] base.py -> _exec_single_context line:1908 [INFO]: [cached since 379.8s ago] {'pk_1': UUID('21e707dc-c162-499f-9f6e-ef02258c69f0')}
[2024-10-04 10:20:24,367.367] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:20:24,368.368] base.py -> _exec_single_context line:1908 [INFO]: [cached since 379.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('21e707dc-c162-499f-9f6e-ef02258c69f0'), 'batch': '20241004102024214058', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 6, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:20:24,370.370] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:24,371.371] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:24,371.371] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:20:24,371.371] base.py -> _exec_single_context line:1908 [INFO]: [cached since 379.8s ago] {'pk_1': UUID('f58c463a-4da1-43dd-8ca6-8acc4b610c30')}
[2024-10-04 10:20:24,395.395] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:20:24,395.395] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:20:24] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:20:24,702.702] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:24,702.702] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:20:24,702.702] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.4s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:20:24,703.703] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:20:24,703.703] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.3s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:20:24,704.704] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:20:24,704.704] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:20:24,705.705] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:24,706.706] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:24,706.706] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:20:24,706.706] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:20:24,707.707] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:20:24,707.707] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.1s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:20:24,707.707] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:20:24,707.707] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.1s ago] {'pk_1': UUID('3ad517b4-5f51-4b89-95e7-a3b221fbeba4')}
[2024-10-04 10:20:24,708.708] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:20:24,708.708] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('3ad517b4-5f51-4b89-95e7-a3b221fbeba4'), 'batch': '20241004102024316011', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 7, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:20:24,708.708] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:24,709.709] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:24,710.710] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:20:24,710.710] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.1s ago] {'pk_1': UUID('6b1bdefa-f570-48f0-a613-96cda338e26d')}
[2024-10-04 10:20:24,727.727] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:20:24,727.727] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:20:24] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:20:25,218.218] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:25,219.219] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:20:25,219.219] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.9s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:20:25,219.219] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:20:25,219.219] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.9s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:20:25,219.219] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:20:25,219.219] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:20:25,220.220] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:25,222.222] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:25,222.222] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:20:25,222.222] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:20:25,223.223] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:20:25,223.223] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.7s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:20:25,224.224] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:20:25,224.224] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.7s ago] {'pk_1': UUID('807dbe7d-8676-4d13-b034-6b47fe70faad')}
[2024-10-04 10:20:25,224.224] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:20:25,225.225] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('807dbe7d-8676-4d13-b034-6b47fe70faad'), 'batch': '20241004102025256910', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 8, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:20:25,225.225] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:25,226.226] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:25,226.226] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:20:25,226.226] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.6s ago] {'pk_1': UUID('ac2e7468-b5c9-4997-90a5-a98084363d11')}
[2024-10-04 10:20:25,253.253] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:20:25,254.254] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:20:25] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:20:25,729.729] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:25,729.729] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:20:25,729.729] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.4s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:20:25,731.731] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:20:25,731.731] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.4s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:20:25,732.732] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:20:25,732.732] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:20:25,732.732] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:25,734.734] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:25,734.734] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:20:25,734.734] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.2s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:20:25,735.735] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:20:25,735.735] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.2s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:20:25,736.736] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:20:25,736.736] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.2s ago] {'pk_1': UUID('cd559997-8df0-4415-bbd1-7e84d3336bef')}
[2024-10-04 10:20:25,737.737] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:20:25,737.737] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('cd559997-8df0-4415-bbd1-7e84d3336bef'), 'batch': '20241004102025994504', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 9, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:20:25,737.737] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:25,739.739] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:25,739.739] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:20:25,739.739] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.1s ago] {'pk_1': UUID('008f5de6-60de-4012-9b29-4a2e51e3a6f1')}
[2024-10-04 10:20:25,759.759] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:20:25,760.760] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:20:25] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:20:26,144.144] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:26,144.144] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:20:26,144.144] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.9s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:20:26,146.146] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:20:26,146.146] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.8s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:20:26,146.146] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:20:26,146.146] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:20:26,147.147] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:26,149.149] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:26,150.150] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:20:26,150.150] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.6s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:20:26,151.151] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:20:26,151.151] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.6s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:20:26,151.151] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:20:26,151.151] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.6s ago] {'pk_1': UUID('c80810d9-b7a4-446f-bd90-3ac6152b390d')}
[2024-10-04 10:20:26,152.152] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:20:26,152.152] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.6s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('c80810d9-b7a4-446f-bd90-3ac6152b390d'), 'batch': '20241004102026603221', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 10, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:20:26,156.156] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:20:26,166.166] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:20:26,166.166] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:20:26,166.166] base.py -> _exec_single_context line:1908 [INFO]: [cached since 381.6s ago] {'pk_1': UUID('d50a70c1-5e6d-41a9-ae06-0b5c6c8c343f')}
[2024-10-04 10:20:26,182.182] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:20:26,183.183] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:20:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:12,210.210] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:12,210.210] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:12,210.210] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:12,212.212] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:12,212.212] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:12,213.213] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:12,213.213] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:12,214.214] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:12,216.216] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:12,216.216] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:12,216.216] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:12,218.218] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:12,218.218] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:12,218.218] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:12,218.218] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'pk_1': UUID('b331fe93-37a9-4174-9ac3-17580c6e446d')}
[2024-10-04 10:35:12,219.219] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:12,219.219] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('b331fe93-37a9-4174-9ac3-17580c6e446d'), 'batch': '20241004103512348977', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:12,220.220] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:12,221.221] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:12,221.221] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:12,221.221] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'pk_1': UUID('4579e341-85c3-4435-8eab-c9eb9200cee2')}
[2024-10-04 10:35:12,250.250] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:12,251.251] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:12] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:12,887.887] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:12,887.887] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:12,887.887] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:12,888.888] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:12,889.889] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:12,889.889] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:12,889.889] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:12,890.890] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:12,892.892] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:12,892.892] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:12,892.892] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:12,893.893] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:12,893.893] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:12,894.894] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:12,894.894] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'pk_1': UUID('905c17ed-ad5b-4121-b988-26e7a7817feb')}
[2024-10-04 10:35:12,895.895] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:12,895.895] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('905c17ed-ad5b-4121-b988-26e7a7817feb'), 'batch': '20241004103512721954', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:12,895.895] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:12,897.897] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:12,897.897] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:12,897.897] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1268s ago] {'pk_1': UUID('85987dd0-297c-4c20-8e55-e83e565e67df')}
[2024-10-04 10:35:12,914.914] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:12,914.914] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:12] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:13,433.433] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:13,433.433] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:13,433.433] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:13,434.434] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:13,434.434] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:13,435.435] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:13,435.435] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:13,436.436] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:13,438.438] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:13,439.439] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:13,439.439] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:13,439.439] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:13,439.439] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:13,440.440] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:13,440.440] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'pk_1': UUID('8c9d3b2c-e67a-4ace-ba46-be726dec114f')}
[2024-10-04 10:35:13,441.441] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:13,441.441] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('8c9d3b2c-e67a-4ace-ba46-be726dec114f'), 'batch': '20241004103513959516', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 3, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:13,441.441] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:13,442.442] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:13,443.443] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:13,443.443] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'pk_1': UUID('61d9029d-1b6d-43c8-87d1-1b71643dac35')}
[2024-10-04 10:35:13,459.459] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:13,459.459] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:13] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:13,982.982] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:13,982.982] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:13,982.982] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:13,983.983] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:13,983.983] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:13,984.984] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:13,984.984] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:13,985.985] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:13,987.987] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:13,987.987] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:13,987.987] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:13,988.988] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:13,988.988] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:13,988.988] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:13,989.989] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'pk_1': UUID('440538b7-bfbc-4862-bf57-0a6aaf3fc375')}
[2024-10-04 10:35:13,989.989] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:13,989.989] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('440538b7-bfbc-4862-bf57-0a6aaf3fc375'), 'batch': '20241004103513411147', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 4, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:13,990.990] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:13,991.991] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:13,991.991] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:13,991.991] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1269s ago] {'pk_1': UUID('55551297-df30-4ab5-a8c1-fdccf64ed20e')}
[2024-10-04 10:35:14,018.018] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:14,019.019] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:14] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:14,485.485] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:14,485.485] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:14,485.485] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:14,486.486] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:14,486.486] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:14,487.487] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:14,487.487] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:14,488.488] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:14,490.490] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:14,490.490] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:14,490.490] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:14,491.491] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:14,491.491] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:14,492.492] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:14,492.492] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'pk_1': UUID('59d1d154-cc1c-494d-af61-69bab31cb6d4')}
[2024-10-04 10:35:14,493.493] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:14,493.493] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('59d1d154-cc1c-494d-af61-69bab31cb6d4'), 'batch': '20241004103514318440', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 5, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:14,494.494] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:14,495.495] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:14,495.495] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:14,495.495] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'pk_1': UUID('cd949de7-3f2f-44ab-9280-549f781ec975')}
[2024-10-04 10:35:14,511.511] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:14,512.512] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:14] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:14,995.995] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:14,996.996] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:14,996.996] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:14,997.997] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:14,997.997] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:14,998.998] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:14,998.998] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:14,998.998] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:15,001.001] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:15,001.001] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:15,001.001] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:15,002.002] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:15,002.002] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:15,002.002] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:15,003.003] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'pk_1': UUID('78bd5dab-7d5b-4290-8744-815040b153f0')}
[2024-10-04 10:35:15,003.003] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:15,003.003] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('78bd5dab-7d5b-4290-8744-815040b153f0'), 'batch': '20241004103514487453', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 6, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:15,004.004] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:15,005.005] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:15,005.005] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:15,005.005] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1270s ago] {'pk_1': UUID('3861bdc7-8db8-4a19-b8ec-97963890b787')}
[2024-10-04 10:35:15,035.035] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:15,036.036] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:15] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:15,486.486] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:15,487.487] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:15,487.487] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:15,488.488] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:15,489.489] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:15,490.490] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:15,490.490] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:15,490.490] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:15,492.492] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:15,492.492] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:15,492.492] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:15,493.493] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:15,493.493] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:15,494.494] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:15,494.494] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'pk_1': UUID('2703303b-594e-4799-bba5-68f5977f5e1d')}
[2024-10-04 10:35:15,495.495] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:15,495.495] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('2703303b-594e-4799-bba5-68f5977f5e1d'), 'batch': '20241004103515657490', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 7, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:15,495.495] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:15,497.497] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:15,497.497] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:15,497.497] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'pk_1': UUID('8018c2c3-daa2-4f8b-b88a-b8fddad29c2f')}
[2024-10-04 10:35:15,533.533] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:15,533.533] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:15] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:15,992.992] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:15,992.992] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:15,992.992] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:15,994.994] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:15,994.994] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:15,995.995] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:15,995.995] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:15,996.996] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:15,999.999] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:15,999.999] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:15,999.999] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:16,000.000] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:16,000.000] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:16,011.011] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:16,012.012] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'pk_1': UUID('f3015b32-fcf9-4cbc-9f79-8cd8b99628fa')}
[2024-10-04 10:35:16,013.013] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:16,013.013] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('f3015b32-fcf9-4cbc-9f79-8cd8b99628fa'), 'batch': '20241004103515619218', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 8, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:16,014.014] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:16,017.017] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:16,018.018] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:16,018.018] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1271s ago] {'pk_1': UUID('de42adbe-e733-4bea-b866-35c6ad0fb597')}
[2024-10-04 10:35:16,053.053] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:16,054.054] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:16] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:16,479.479] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:16,479.479] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:16,479.479] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:16,481.481] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:16,481.481] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:16,482.482] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:16,482.482] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:16,483.483] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:16,486.486] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:16,486.486] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:16,486.486] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:16,487.487] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:16,487.487] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:16,488.488] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:16,488.488] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'pk_1': UUID('2822461d-8885-4c22-bfbf-2d6acaf0991d')}
[2024-10-04 10:35:16,489.489] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:16,489.489] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('2822461d-8885-4c22-bfbf-2d6acaf0991d'), 'batch': '20241004103516897883', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 9, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:16,491.491] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:16,493.493] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:16,493.493] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:16,493.493] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1272s ago] {'pk_1': UUID('9105a91d-5de4-4937-9478-895d15dee53a')}
[2024-10-04 10:35:16,533.533] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:16,534.534] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:16] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:17,151.151] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:17,152.152] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:17,152.152] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:17,154.154] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:17,154.154] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:17,155.155] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:17,155.155] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:17,156.156] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:17,158.158] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:17,158.158] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:17,159.159] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:17,160.160] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:17,160.160] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:17,162.162] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:17,162.162] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'pk_1': UUID('d9235d0c-cac5-4ac0-ae28-95a77db0cef7')}
[2024-10-04 10:35:17,163.163] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:17,164.164] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('d9235d0c-cac5-4ac0-ae28-95a77db0cef7'), 'batch': '20241004103517585994', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 10, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:17,176.176] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:17,355.355] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:17,355.355] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:17,356.356] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'pk_1': UUID('bddfb1e6-fc8c-4188-80d2-7ca54a54408c')}
[2024-10-04 10:35:17,390.390] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:17,391.391] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:17] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:17,633.633] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:17,634.634] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:17,634.634] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:17,635.635] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:17,635.635] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:17,636.636] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:17,637.637] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:17,637.637] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:17,640.640] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:17,640.640] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:17,641.641] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:17,642.642] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:17,642.642] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:17,643.643] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:17,643.643] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'pk_1': UUID('ecb7953d-a535-490c-bdad-b854a73d9422')}
[2024-10-04 10:35:17,644.644] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:17,644.644] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('ecb7953d-a535-490c-bdad-b854a73d9422'), 'batch': '20241004103517674266', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 11, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:17,645.645] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:17,647.647] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:17,647.647] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:17,647.647] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1273s ago] {'pk_1': UUID('487dfa4e-c3b0-48d9-a4d9-3f0233aaf777')}
[2024-10-04 10:35:17,683.683] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:17,684.684] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:17] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:18,223.223] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:18,224.224] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:18,224.224] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:18,226.226] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:18,226.226] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:18,227.227] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:18,227.227] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:18,228.228] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:18,231.231] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:18,231.231] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:18,231.231] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:18,232.232] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:18,232.232] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:18,233.233] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:18,233.233] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'pk_1': UUID('3d47e1cd-9d80-4e6d-af05-16d5fcb37ae2')}
[2024-10-04 10:35:18,234.234] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:18,234.234] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('3d47e1cd-9d80-4e6d-af05-16d5fcb37ae2'), 'batch': '20241004103518132771', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 12, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:18,237.237] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:18,238.238] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:18,239.239] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:18,239.239] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'pk_1': UUID('afd29818-6b43-4252-b894-8b94a895ed64')}
[2024-10-04 10:35:18,278.278] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:18,279.279] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:18] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:35:18,813.813] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:18,813.813] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:35:18,814.814] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1275s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:35:18,815.815] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:35:18,815.815] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:35:18,816.816] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:35:18,816.816] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:35:18,817.817] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:18,819.819] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:18,820.820] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:35:18,820.820] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:35:18,821.821] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:35:18,821.821] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:35:18,822.822] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:35:18,822.822] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'pk_1': UUID('1843baac-f4ff-49fe-9ea5-49ad72bed888')}
[2024-10-04 10:35:18,823.823] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:35:18,823.823] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('1843baac-f4ff-49fe-9ea5-49ad72bed888'), 'batch': '20241004103518236492', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 13, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:35:18,826.826] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:35:18,839.839] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:35:18,840.840] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:35:18,840.840] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1274s ago] {'pk_1': UUID('3bafcd8d-ca32-471b-a1e8-ffc3da638948')}
[2024-10-04 10:35:18,876.876] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:35:18,876.876] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:35:18] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:44:46,120.120] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:46,121.121] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:46,121.121] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1888s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:46,122.122] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:46,122.122] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1888s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:46,216.216] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:46,217.217] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:46] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:46,463.463] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:46,463.463] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:46,463.463] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1889s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:46,471.471] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:46,472.472] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1889s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:46,571.571] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:46,573.573] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:46] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:46,825.825] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:46,825.825] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:46,826.826] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1889s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:46,827.827] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:46,827.827] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1889s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:46,945.945] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:46,945.945] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:46] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:47,208.208] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:47,209.209] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:47,209.209] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1890s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:47,210.210] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:47,210.210] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1889s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:47,325.325] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:47,326.326] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:47] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:47,582.582] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:47,582.582] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:47,582.582] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1890s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:47,584.584] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:47,584.584] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1890s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:47,662.662] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:47,662.662] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:47] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:48,323.323] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:48,323.323] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:48,323.323] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1891s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:48,325.325] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:48,325.325] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1890s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:48,408.408] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:48,409.409] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:48] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:48,700.700] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:48,701.701] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:48,701.701] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1891s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:48,702.702] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:48,702.702] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1891s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:48,776.776] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:48,777.777] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:48] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:49,031.031] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:49,032.032] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:49,032.032] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1891s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:49,033.033] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:49,033.033] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1891s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:49,106.106] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:49,106.106] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:49] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:49,406.406] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:49,406.406] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:49,406.406] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1892s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:49,407.407] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:49,407.407] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1891s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:49,488.488] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:49,488.488] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:49] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:49,746.746] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:49,747.747] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:49,747.747] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1892s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:49,748.748] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:49,748.748] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1892s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:49,835.835] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:49,835.835] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:49] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:50,106.106] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:50,106.106] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:50,106.106] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1892s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:50,107.107] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:50,107.107] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1892s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:50,193.193] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:50,193.193] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:50] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:50,490.490] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:50,491.491] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:50,491.491] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1893s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:50,492.492] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:50,492.492] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1893s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:50,571.571] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:50,571.571] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:50] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:44:50,874.874] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:44:50,874.874] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:44:50,874.874] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1893s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:44:50,875.875] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:44:50,876.876] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1893s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:44:50,952.952] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:44:50,952.952] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:44:50] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:12,114.114] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:12,114.114] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:12,114.114] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1914s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:12,125.125] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:12,125.125] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1914s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:12,219.219] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:12,219.219] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:12] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:12,669.669] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:12,669.669] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:12,669.669] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1915s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:12,670.670] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:12,671.671] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1915s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:12,766.766] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:12,767.767] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:12] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:13,183.183] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:13,183.183] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:13,183.183] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1915s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:13,185.185] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:13,185.185] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1915s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:13,281.281] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:13,281.281] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:13] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:13,629.629] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:13,629.629] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:13,630.630] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1916s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:13,631.631] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:13,631.631] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1916s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:13,708.708] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:13,709.709] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:13] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:14,123.123] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:14,123.123] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:14,124.124] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1916s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:14,125.125] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:14,125.125] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1916s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:14,239.239] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:14,239.239] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:14] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:14,531.531] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:14,531.531] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:14,531.531] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1917s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:14,532.532] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:14,532.532] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1917s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:14,612.612] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:14,612.612] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:14] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:17,047.047] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:17,047.047] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:17,047.047] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:17,049.049] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:17,050.050] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:17,127.127] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:17,128.128] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:17] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:17,130.130] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:17,130.130] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:17,130.130] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:17,132.132] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:17,132.132] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:17,143.143] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:17,144.144] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:17,144.144] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:17,145.145] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:17,145.145] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:17,145.145] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:17,147.147] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:17,148.148] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:17,148.148] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:17,148.148] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:17,148.148] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:17,148.148] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:17,149.149] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:17,153.153] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:17,154.154] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:17,163.163] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:17,163.163] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:17,163.163] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:17,165.165] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:17,165.165] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:17,169.169] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:45:17,169.169] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:45:17,169.169] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:45:17,172.172] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:45:17,172.172] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1919s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:45:17,207.207] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:17,208.208] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:17] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:17,240.240] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:17,240.240] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:17] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:17,248.248] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:17,250.250] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:17] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:17,251.251] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:17,252.252] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:17,252.252] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:17] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:17,252.252] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:17] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:45:17,265.265] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:45:17,265.265] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:45:17] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:56:48,881.881] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 10:56:50,415.415] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 10:57:07,214.214] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 10:57:07,216.216] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 10:57:16,290.290] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 10:57:16,290.290] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:57:16,291.291] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 10:57:16,291.291] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:57:16,291.291] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 10:57:16,291.291] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:57:16,292.292] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:57:16,294.294] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 10:57:16,294.294] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 10:57:16,297.297] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 10:57:16,297.297] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 10:57:16,398.398] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:57:16,398.398] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:57:16] "GET /ping HTTP/1.1" 200 -
[2024-10-04 10:57:20,706.706] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:57:20,706.706] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:57:20,706.706] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:57:20,708.708] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:57:20,708.708] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:57:20,710.710] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:57:20,710.710] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:57:20,711.711] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:57:20,743.743] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:57:20,745.745] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:57:20,745.745] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:57:20,747.747] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:57:20,747.747] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:57:20,748.748] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:57:20,748.748] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('1b4401b1-a690-4df4-a962-a2fbacb59b8f')}
[2024-10-04 10:57:20,751.751] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:57:20,751.751] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('1b4401b1-a690-4df4-a962-a2fbacb59b8f'), 'batch': '20241004105720875250', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 14, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:57:20,752.752] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:57:20,766.766] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:57:20,766.766] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:57:20,767.767] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('2ccebb48-153e-4a38-9c7e-775c4894e0b8')}
[2024-10-04 10:57:20,783.783] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:57:20,784.784] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:57:20] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:57:21,427.427] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:57:21,427.427] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:57:21,428.428] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.7208s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:57:21,429.429] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:57:21,429.429] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.7202s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:57:21,430.430] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:57:21,430.430] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.7194s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:57:21,431.431] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:57:21,433.433] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:57:21,433.433] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:57:21,433.433] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6878s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:57:21,434.434] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:57:21,434.434] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6868s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:57:21,435.435] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:57:21,435.435] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6861s ago] {'pk_1': UUID('e46485e9-e466-422d-89d5-b4f9aa9b6c2b')}
[2024-10-04 10:57:21,436.436] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:57:21,436.436] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6845s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('e46485e9-e466-422d-89d5-b4f9aa9b6c2b'), 'batch': '20241004105721573178', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 15, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:57:21,436.436] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:57:21,438.438] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:57:21,438.438] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:57:21,438.438] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6712s ago] {'pk_1': UUID('038385cd-273f-4db8-a6a8-a0f5f0cb429a')}
[2024-10-04 10:57:21,455.455] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:57:21,455.455] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:57:21] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:58:00,541.541] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 10:58:01,204.204] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 10:58:17,798.798] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 10:58:17,800.800] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 10:58:35,932.932] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 10:58:35,932.932] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:58:35,932.932] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 10:58:35,933.933] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:58:35,933.933] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 10:58:35,933.933] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 10:58:35,934.934] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:35,935.935] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:58:35,935.935] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:58:35,937.937] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:58:35,937.937] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:58:35,939.939] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:58:35,939.939] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:58:35,940.940] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:58:35,942.942] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:35,944.944] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:58:35,944.944] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:58:35,946.946] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:58:35,946.946] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:58:35,947.947] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:58:35,947.947] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('787c1b9b-9df9-41f0-a0ab-65250b1a6a14')}
[2024-10-04 10:58:35,948.948] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:58:35,948.948] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('787c1b9b-9df9-41f0-a0ab-65250b1a6a14'), 'batch': '20241004105835463545', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 16, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:58:35,949.949] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:58:35,983.983] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:35,984.984] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:58:35,984.984] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('fde66cf0-8c09-4b89-b59b-5bacfe6902df')}
[2024-10-04 10:58:36,013.013] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:58:36,014.014] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:58:36] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:58:36,557.557] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:36,557.557] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:58:36,557.557] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6218s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:58:36,559.559] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:58:36,559.559] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.621s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:58:36,559.559] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:58:36,559.559] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.62s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:58:36,560.560] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:58:36,562.562] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:36,562.562] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:58:36,562.562] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6177s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:58:36,562.562] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:58:36,562.562] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.617s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:58:36,563.563] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:58:36,563.563] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6165s ago] {'pk_1': UUID('9fba3501-7627-4cbe-b7a0-cc3797f7eb30')}
[2024-10-04 10:58:36,564.564] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:58:36,564.564] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.6159s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('9fba3501-7627-4cbe-b7a0-cc3797f7eb30'), 'batch': '20241004105836145943', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 17, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:58:36,564.564] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:58:36,565.565] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:36,566.566] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:58:36,566.566] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.5824s ago] {'pk_1': UUID('191293c6-ed98-4e40-8252-ee821bc9adb7')}
[2024-10-04 10:58:36,583.583] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:58:36,584.584] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:58:36] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:58:37,300.300] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:37,300.300] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:58:37,300.300] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.365s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:58:37,301.301] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:58:37,301.301] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.364s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:58:37,302.302] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:58:37,302.302] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.363s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:58:37,303.303] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:58:37,305.305] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:37,305.305] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:58:37,305.305] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.361s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:58:37,306.306] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:58:37,306.306] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.36s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:58:37,307.307] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:58:37,307.307] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.36s ago] {'pk_1': UUID('da8c06c1-83f5-4449-9884-1473998795d5')}
[2024-10-04 10:58:37,307.307] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:58:37,307.307] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.359s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('da8c06c1-83f5-4449-9884-1473998795d5'), 'batch': '20241004105837174398', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 18, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:58:37,308.308] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:58:37,337.337] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:37,337.337] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:58:37,337.337] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.353s ago] {'pk_1': UUID('0d94c702-9282-438e-a451-4ba8525ad054')}
[2024-10-04 10:58:37,357.357] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:58:37,357.357] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:58:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 10:58:37,871.871] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:37,871.871] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 10:58:37,871.871] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.936s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 10:58:37,872.872] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 10:58:37,872.872] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.935s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 10:58:37,873.873] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 10:58:37,874.874] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.934s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 10:58:37,874.874] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:58:37,876.876] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:37,877.877] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 10:58:37,877.877] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.932s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 10:58:37,877.877] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 10:58:37,878.878] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.931s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 10:58:37,878.878] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 10:58:37,878.878] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.931s ago] {'pk_1': UUID('22b5885c-8257-4cf4-868d-79a998b713c9')}
[2024-10-04 10:58:37,879.879] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 10:58:37,879.879] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.93s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('22b5885c-8257-4cf4-868d-79a998b713c9'), 'batch': '20241004105837810312', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 19, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 10:58:37,879.879] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 10:58:37,881.881] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 10:58:37,881.881] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 10:58:37,881.881] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.897s ago] {'pk_1': UUID('298b807a-186e-4c53-a940-904aa30f94fa')}
[2024-10-04 10:58:37,897.897] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 10:58:37,897.897] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 10:58:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:01:07,215.215] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:01:07,215.215] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:01:07,216.216] base.py -> _exec_single_context line:1908 [INFO]: [cached since 151.3s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:01:07,217.217] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:01:07,217.217] base.py -> _exec_single_context line:1908 [INFO]: [cached since 151.3s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:01:07,218.218] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:01:07,218.218] base.py -> _exec_single_context line:1908 [INFO]: [cached since 151.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:01:07,218.218] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:01:07,231.231] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:01:07,232.232] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:01:07,232.232] base.py -> _exec_single_context line:1908 [INFO]: [cached since 151.3s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:01:07,233.233] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:01:07,233.233] base.py -> _exec_single_context line:1908 [INFO]: [cached since 151.3s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:01:07,234.234] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:01:07,234.234] base.py -> _exec_single_context line:1908 [INFO]: [cached since 151.3s ago] {'pk_1': UUID('541001bc-f440-40f5-9fa6-c50fe90dc6a3')}
[2024-10-04 11:01:07,235.235] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:01:07,235.235] base.py -> _exec_single_context line:1908 [INFO]: [cached since 151.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('541001bc-f440-40f5-9fa6-c50fe90dc6a3'), 'batch': '20241004110107258843', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 20, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:01:07,238.238] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:01:07,255.255] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:01:07,256.256] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:01:07,256.256] base.py -> _exec_single_context line:1908 [INFO]: [cached since 151.3s ago] {'pk_1': UUID('2289f66c-a84c-4802-a311-7d72e1809220')}
[2024-10-04 11:01:07,277.277] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:01:07,278.278] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:01:07] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:10:48,056.056] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 11:10:48,701.701] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:11:08,638.638] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:11:24,812.812] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:11:24,815.815] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:12:41,965.965] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 11:12:41,965.965] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:12:41,966.966] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 11:12:41,966.966] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:12:41,966.966] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 11:12:41,966.966] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:12:41,967.967] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:12:41,968.968] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 11:12:41,968.968] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 11:12:41,971.971] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 11:12:41,971.971] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 11:12:42,072.072] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:12:42,073.073] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:12:42] "GET /ping HTTP/1.1" 200 -
[2024-10-04 11:13:22,673.673] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:13:22,674.674] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:13:22,674.674] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:13:22,676.676] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:13:22,676.676] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:13:22,677.677] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:13:22,678.678] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:13:22,678.678] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:13:22,694.694] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:13:22,695.695] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:13:22,695.695] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:13:22,697.697] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:13:22,697.697] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:13:22,698.698] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:13:22,698.698] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00011s] {'pk_1': UUID('6ce1667e-4aff-4e6e-ab87-a9a6dbe636d7')}
[2024-10-04 11:13:22,700.700] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:13:22,700.700] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('6ce1667e-4aff-4e6e-ab87-a9a6dbe636d7'), 'batch': '20241004111322252318', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:13:22,701.701] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:13:22,718.718] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:13:22,720.720] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:13:22,720.720] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('ad191040-9df4-4e66-a517-d654b2054fd0')}
[2024-10-04 11:13:22,737.737] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:13:22,738.738] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:13:22] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:20:11,839.839] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 11:20:12,434.434] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:20:29,657.657] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:20:29,662.662] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:20:49,702.702] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\embeddings_service.py', reloading
[2024-10-04 11:20:50,299.299] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:21:06,817.817] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:21:06,822.822] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:22:26,826.826] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 11:22:26,826.826] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:22:26,827.827] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 11:22:26,827.827] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:22:26,827.827] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 11:22:26,827.827] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:22:26,828.828] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:22:26,829.829] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:22:26,829.829] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:22:26,832.832] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:22:26,832.832] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:22:26,833.833] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:22:26,833.833] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:22:26,834.834] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:22:26,850.850] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:22:26,851.851] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:22:26,851.851] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:22:26,853.853] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:22:26,853.853] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:22:26,857.857] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:22:26,857.857] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('1295b13f-8886-4eb6-96db-3fe94a54bb49')}
[2024-10-04 11:22:26,858.858] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:22:26,858.858] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('1295b13f-8886-4eb6-96db-3fe94a54bb49'), 'batch': '20241004112226393282', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:22:26,859.859] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:22:26,876.876] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:22:26,877.877] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:22:26,877.877] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('3d3f2aef-017f-4354-a6b1-d2152f49df9d')}
[2024-10-04 11:22:26,910.910] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:22:26,910.910] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:22:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:26:38,285.285] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\embeddings_service.py', reloading
[2024-10-04 11:26:38,942.942] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:26:50,939.939] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:26:50,944.944] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:27:12,156.156] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 11:27:12,157.157] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:27:12,158.158] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 11:27:12,158.158] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:27:12,159.159] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 11:27:12,159.159] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:27:12,159.159] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:27:12,160.160] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:27:12,160.160] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:27:12,162.162] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:27:12,163.163] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:27:12,164.164] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:27:12,164.164] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:27:12,165.165] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:27:12,177.177] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:27:12,178.178] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:27:12,178.178] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:27:12,180.180] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:27:12,180.180] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:27:12,181.181] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:27:12,181.181] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('73d3cc1c-0932-4501-b142-888febc08fc5')}
[2024-10-04 11:27:12,183.183] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:27:12,183.183] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('73d3cc1c-0932-4501-b142-888febc08fc5'), 'batch': '20241004112712253307', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 3, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:27:12,183.183] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:27:12,188.188] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:27:12,188.188] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:27:12,189.189] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('be0afb4c-36a4-4e68-9584-243b386c3ad3')}
[2024-10-04 11:27:12,223.223] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:27:12,223.223] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:27:12] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:28:40,813.813] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:28:40,813.813] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:28:40,813.813] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.65s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:28:40,815.815] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:28:40,815.815] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.65s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:28:40,815.815] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:28:40,816.816] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.65s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:28:40,818.818] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:28:40,826.826] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:28:40,827.827] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:28:40,827.827] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.65s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:28:40,828.828] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:28:40,828.828] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.65s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:28:40,829.829] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:28:40,829.829] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.65s ago] {'pk_1': UUID('3d6c815a-2897-4f04-b270-9c05b5334b3a')}
[2024-10-04 11:28:40,829.829] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:28:40,830.830] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.65s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('3d6c815a-2897-4f04-b270-9c05b5334b3a'), 'batch': '20241004112840274328', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 4, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:28:40,830.830] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:28:40,831.831] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:28:40,832.832] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:28:40,832.832] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.64s ago] {'pk_1': UUID('965d61f5-443f-4208-9af0-2ada3913d4a3')}
[2024-10-04 11:28:40,849.849] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:28:40,849.849] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:28:40] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:30:03,646.646] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 11:30:04,202.202] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:30:17,385.385] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:30:17,390.390] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:31:10,192.192] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 11:31:10,768.768] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:31:22,067.067] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:31:22,073.073] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:31:52,506.506] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\切片.py', reloading
[2024-10-04 11:31:53,155.155] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:32:04,060.060] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:32:04,064.064] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:32:17,924.924] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 11:32:17,924.924] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 11:32:17,925.925] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:32:29,539.539] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:32:29,545.545] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:32:47,078.078] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 11:32:47,078.078] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:32:47,079.079] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 11:32:47,079.079] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:32:47,085.085] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 11:32:47,085.085] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:32:47,086.086] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:32:47,087.087] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:32:47,087.087] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:32:47,089.089] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:32:47,089.089] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:32:47,091.091] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:32:47,091.091] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:32:47,092.092] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:32:47,151.151] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:32:47,153.153] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:32:47,153.153] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:32:47,155.155] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:32:47,155.155] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:32:47,156.156] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:32:47,156.156] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('869b9cea-e2b6-4d4a-9547-02ae33720c4f')}
[2024-10-04 11:32:47,158.158] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:32:47,158.158] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('869b9cea-e2b6-4d4a-9547-02ae33720c4f'), 'batch': '20241004113247304367', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 5, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:32:47,159.159] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:32:47,163.163] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:32:47,163.163] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:32:47,163.163] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('56d5ef87-c385-4cea-9c7f-c296525cffe5')}
[2024-10-04 11:32:47,194.194] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:32:47,195.195] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:32:47] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:33:08,200.200] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:33:08,200.200] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:33:08,200.200] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.11s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:33:08,201.201] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:33:08,201.201] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.11s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:33:08,203.203] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:33:08,203.203] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.11s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:33:08,204.204] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:33:08,206.206] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:33:08,206.206] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:33:08,206.206] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.05s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:33:08,207.207] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:33:08,208.208] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.05s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:33:08,208.208] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:33:08,208.208] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.05s ago] {'pk_1': UUID('6bc0bd46-d62f-49dc-a10a-5969679b07d2')}
[2024-10-04 11:33:08,209.209] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:33:08,209.209] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.05s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('6bc0bd46-d62f-49dc-a10a-5969679b07d2'), 'batch': '20241004113308381129', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 6, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:33:08,210.210] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:33:08,211.211] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:33:08,211.211] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:33:08,211.211] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.05s ago] {'pk_1': UUID('5bca1a07-99f8-4486-bbd4-5e171abd8d84')}
[2024-10-04 11:33:08,230.230] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:33:08,230.230] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:33:08] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:36:43,285.285] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 11:36:43,843.843] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:37:02,510.510] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 11:37:02,511.511] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 11:37:02,512.512] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:37:14,096.096] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:37:14,100.100] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:37:25,397.397] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 11:37:25,397.397] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:37:25,398.398] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 11:37:25,398.398] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:37:25,398.398] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 11:37:25,398.398] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:37:25,399.399] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:37:25,400.400] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:37:25,400.400] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:37:25,403.403] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:37:25,403.403] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:37:25,405.405] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:37:25,405.405] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:37:25,406.406] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:37:25,423.423] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:37:25,424.424] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:37:25,424.424] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:37:25,427.427] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:37:25,427.427] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:37:25,429.429] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:37:25,429.429] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('b2d81c11-e66d-41f4-8a04-270d38ace881')}
[2024-10-04 11:37:25,430.430] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:37:25,430.430] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('b2d81c11-e66d-41f4-8a04-270d38ace881'), 'batch': '20241004113725756928', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 7, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:37:25,431.431] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:37:25,440.440] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:37:25,440.440] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:37:25,440.440] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('7813bdb8-e86a-492a-a4f9-2996512ae848')}
[2024-10-04 11:37:25,472.472] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:37:25,473.473] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:37:25] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:43:00,096.096] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:43:00,096.096] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:43:00,096.096] base.py -> _exec_single_context line:1908 [INFO]: [cached since 334.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:43:00,097.097] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:43:00,098.098] base.py -> _exec_single_context line:1908 [INFO]: [cached since 334.7s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:43:00,098.098] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:43:00,098.098] base.py -> _exec_single_context line:1908 [INFO]: [cached since 334.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:43:00,102.102] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:43:00,119.119] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:43:00,120.120] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:43:00,120.120] base.py -> _exec_single_context line:1908 [INFO]: [cached since 334.7s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:43:00,121.121] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:43:00,121.121] base.py -> _exec_single_context line:1908 [INFO]: [cached since 334.7s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:43:00,123.123] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:43:00,123.123] base.py -> _exec_single_context line:1908 [INFO]: [cached since 334.7s ago] {'pk_1': UUID('1c58c283-d2e1-45e5-a039-14678b226fea')}
[2024-10-04 11:43:00,124.124] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:43:00,124.124] base.py -> _exec_single_context line:1908 [INFO]: [cached since 334.7s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('1c58c283-d2e1-45e5-a039-14678b226fea'), 'batch': '20241004114300205204', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 8, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:43:00,125.125] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:43:00,135.135] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:43:00,136.136] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:43:00,136.136] base.py -> _exec_single_context line:1908 [INFO]: [cached since 334.7s ago] {'pk_1': UUID('0269aacc-cbdd-4fdf-81ca-16bee3b9473e')}
[2024-10-04 11:43:00,155.155] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:43:00,155.155] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:43:00] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:43:45,562.562] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:43:45,563.563] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 11:43:45,563.563] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.2s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 11:43:45,564.564] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 11:43:45,564.564] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 11:43:45,565.565] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 11:43:45,565.565] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 11:43:45,568.568] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:43:45,589.589] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:43:45,590.590] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 11:43:45,590.590] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.2s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 11:43:45,591.591] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 11:43:45,591.591] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.2s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 11:43:45,595.595] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 11:43:45,595.595] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.2s ago] {'pk_1': UUID('a996e556-e084-4daa-b426-357a2e7c554c')}
[2024-10-04 11:43:45,596.596] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 11:43:45,596.596] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.2s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('a996e556-e084-4daa-b426-357a2e7c554c'), 'batch': '20241004114345739674', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 9, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 11:43:45,597.597] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 11:43:45,598.598] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:43:45,598.598] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 11:43:45,598.598] base.py -> _exec_single_context line:1908 [INFO]: [cached since 380.2s ago] {'pk_1': UUID('c2bd3839-d17a-476c-a22a-c4e2146dcd74')}
[2024-10-04 11:43:45,616.616] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:43:45,616.616] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:43:45] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 11:47:19,573.573] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 11:47:19,573.573] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 11:47:19,574.574] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 11:47:30,174.174] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 11:47:30,179.179] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 11:47:30,780.780] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 11:47:30,780.780] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:47:30,781.781] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 11:47:30,781.781] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:47:30,781.781] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 11:47:30,781.781] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 11:47:30,782.782] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:47:30,783.783] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 11:47:30,783.783] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 11:47:30,786.786] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 11:47:30,786.786] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 11:47:30,894.894] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:47:30,894.894] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:47:30] "GET /ping HTTP/1.1" 200 -
[2024-10-04 11:47:37,270.270] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:47:37,270.270] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 11:47:37,270.270] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.487s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 11:47:37,275.275] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 11:47:37,276.276] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.49s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 11:47:37,361.361] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:47:37,362.362] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:47:37] "GET /ping HTTP/1.1" 200 -
[2024-10-04 11:47:38,083.083] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:47:38,084.084] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 11:47:38,084.084] base.py -> _exec_single_context line:1908 [INFO]: [cached since 7.301s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 11:47:38,085.085] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 11:47:38,085.085] base.py -> _exec_single_context line:1908 [INFO]: [cached since 7.299s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 11:47:38,437.437] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:47:38,437.437] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:47:38] "GET /ping HTTP/1.1" 200 -
[2024-10-04 11:47:38,745.745] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:47:38,745.745] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 11:47:38,745.745] base.py -> _exec_single_context line:1908 [INFO]: [cached since 7.962s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 11:47:38,746.746] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 11:47:38,746.746] base.py -> _exec_single_context line:1908 [INFO]: [cached since 7.961s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 11:47:38,912.912] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:47:38,913.913] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:47:38] "GET /ping HTTP/1.1" 200 -
[2024-10-04 11:47:39,725.725] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:47:39,725.725] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 11:47:39,725.725] base.py -> _exec_single_context line:1908 [INFO]: [cached since 8.942s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 11:47:39,726.726] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 11:47:39,726.726] base.py -> _exec_single_context line:1908 [INFO]: [cached since 8.94s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 11:47:39,817.817] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:47:39,818.818] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:47:39] "GET /ping HTTP/1.1" 200 -
[2024-10-04 11:47:40,063.063] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 11:47:40,063.063] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 11:47:40,063.063] base.py -> _exec_single_context line:1908 [INFO]: [cached since 9.28s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 11:47:40,064.064] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 11:47:40,064.064] base.py -> _exec_single_context line:1908 [INFO]: [cached since 9.278s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 11:47:40,141.141] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 11:47:40,141.141] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 11:47:40] "GET /ping HTTP/1.1" 200 -
[2024-10-04 12:22:15,483.483] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 12:22:15,484.484] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 12:22:15,484.484] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2085s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 12:22:15,485.485] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 12:22:15,485.485] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2085s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 12:22:15,596.596] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 12:22:15,596.596] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 12:22:15] "GET /ping HTTP/1.1" 200 -
[2024-10-04 12:22:15,986.986] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 12:22:15,987.987] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 12:22:15,987.987] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2085s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 12:22:15,988.988] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 12:22:15,988.988] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2085s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 12:22:16,070.070] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 12:22:16,070.070] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 12:22:16] "GET /ping HTTP/1.1" 200 -
[2024-10-04 12:22:16,766.766] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 12:22:16,766.766] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 12:22:16,766.766] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2086s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 12:22:16,767.767] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 12:22:16,767.767] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2086s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 12:22:16,846.846] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 12:22:16,846.846] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 12:22:16] "GET /ping HTTP/1.1" 200 -
[2024-10-04 12:22:17,297.297] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 12:22:17,297.297] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 12:22:17,297.297] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2087s ago] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 12:22:17,298.298] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 12:22:17,298.298] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2087s ago] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 12:22:17,378.378] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 12:22:17,378.378] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 12:22:17] "GET /ping HTTP/1.1" 200 -
[2024-10-04 14:23:08,938.938] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 14:23:09,586.586] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 14:23:21,881.881] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 14:23:21,886.886] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 14:34:06,117.117] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 14:34:06,699.699] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 14:34:18,309.309] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 14:34:18,314.314] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 14:39:50,308.308] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 14:39:50,308.308] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 14:39:50,309.309] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 14:39:50,309.309] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 14:39:50,309.309] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 14:39:50,310.310] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 14:39:50,310.310] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:39:50,311.311] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 14:39:50,312.312] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 14:39:50,314.314] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 14:39:50,314.314] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 14:39:50,315.315] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 14:39:50,315.315] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 14:39:50,316.316] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 14:39:50,319.319] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:39:50,320.320] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 14:39:50,320.320] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 14:39:50,322.322] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 14:39:50,323.323] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 14:39:50,324.324] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 14:39:50,324.324] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('9285db32-29a9-4ed8-b372-36a40aa92e6f')}
[2024-10-04 14:39:50,325.325] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 14:39:50,325.325] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00040s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('9285db32-29a9-4ed8-b372-36a40aa92e6f'), 'batch': '20241004143950163060', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 10, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 14:39:50,326.326] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 14:39:50,329.329] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:39:50,330.330] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 14:39:50,330.330] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('e13c8d80-487a-40fd-9849-e851880ddbff')}
[2024-10-04 14:39:50,363.363] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 14:39:50,363.363] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 14:39:50] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 14:40:45,273.273] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:40:45,273.273] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 14:40:45,273.273] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.96s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 14:40:45,274.274] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 14:40:45,275.275] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.96s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 14:40:45,275.275] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 14:40:45,275.275] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.96s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 14:40:45,276.276] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 14:40:45,278.278] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:40:45,279.279] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 14:40:45,279.279] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.96s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 14:40:45,280.280] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 14:40:45,280.280] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.96s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 14:40:45,280.280] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 14:40:45,280.280] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.96s ago] {'pk_1': UUID('11edde6d-0287-4988-951d-20067d0973a2')}
[2024-10-04 14:40:45,281.281] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 14:40:45,281.281] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.96s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('11edde6d-0287-4988-951d-20067d0973a2'), 'batch': '20241004144045151343', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 11, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 14:40:45,282.282] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 14:40:45,305.305] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:40:45,305.305] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 14:40:45,305.305] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.97s ago] {'pk_1': UUID('a6daf41f-da7e-4637-9027-8d0bafb6cb42')}
[2024-10-04 14:40:45,323.323] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 14:40:45,324.324] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 14:40:45] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 14:40:45,836.836] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:40:45,836.836] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 14:40:45,836.836] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.52s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 14:40:45,838.838] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 14:40:45,838.838] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.52s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 14:40:45,839.839] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 14:40:45,839.839] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.52s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 14:40:45,842.842] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 14:40:45,843.843] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:40:45,843.843] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 14:40:45,844.844] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.52s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 14:40:45,844.844] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 14:40:45,844.844] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.52s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 14:40:45,845.845] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 14:40:45,845.845] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.52s ago] {'pk_1': UUID('712f8ca0-ef18-4e8b-8b36-43ca74e4fc06')}
[2024-10-04 14:40:45,846.846] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 14:40:45,846.846] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.52s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('712f8ca0-ef18-4e8b-8b36-43ca74e4fc06'), 'batch': '20241004144045602886', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 12, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 14:40:45,853.853] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 14:40:45,872.872] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:40:45,873.873] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 14:40:45,873.873] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.54s ago] {'pk_1': UUID('135b0114-83bb-401a-b28a-0fb7da8e7e0e')}
[2024-10-04 14:40:45,890.890] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 14:40:45,891.891] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 14:40:45] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 14:43:01,103.103] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:43:01,103.103] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 14:43:01,104.104] base.py -> _exec_single_context line:1908 [INFO]: [cached since 190.8s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 14:43:01,105.105] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 14:43:01,105.105] base.py -> _exec_single_context line:1908 [INFO]: [cached since 190.8s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 14:43:01,106.106] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 14:43:01,106.106] base.py -> _exec_single_context line:1908 [INFO]: [cached since 190.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 14:43:01,107.107] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 14:43:01,110.110] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:43:01,110.110] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 14:43:01,110.110] base.py -> _exec_single_context line:1908 [INFO]: [cached since 190.8s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 14:43:01,111.111] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 14:43:01,111.111] base.py -> _exec_single_context line:1908 [INFO]: [cached since 190.8s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 14:43:01,112.112] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 14:43:01,112.112] base.py -> _exec_single_context line:1908 [INFO]: [cached since 190.8s ago] {'pk_1': UUID('e8e4c1da-0f3a-402d-84c6-237588e36c5e')}
[2024-10-04 14:43:01,113.113] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 14:43:01,113.113] base.py -> _exec_single_context line:1908 [INFO]: [cached since 190.8s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('e8e4c1da-0f3a-402d-84c6-237588e36c5e'), 'batch': '20241004144301541224', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 13, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 14:43:01,113.113] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 14:43:01,116.116] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 14:43:01,116.116] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 14:43:01,116.116] base.py -> _exec_single_context line:1908 [INFO]: [cached since 190.8s ago] {'pk_1': UUID('34602246-9282-419d-99ac-e5496cce76d6')}
[2024-10-04 14:43:01,232.232] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 14:43:01,232.232] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 14:43:01] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 15:33:40,431.431] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\venv\\lib\\site-packages\\gevent\\_gevent_c_waiter.cp310-win_amd64.pyd', reloading
[2024-10-04 15:33:41,025.025] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:33:53,992.992] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 15:33:53,997.997] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 15:35:27,668.668] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 15:35:27,669.669] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 15:35:27,670.670] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:35:39,374.374] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 15:35:39,379.379] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 15:37:42,929.929] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\vector_database_service.py', reloading
[2024-10-04 15:37:43,488.488] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:38:04,479.479] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:38:53,202.202] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:39:04,676.676] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 15:39:04,680.680] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 15:39:05,335.335] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 15:39:05,336.336] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 15:39:05,337.337] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:39:17,250.250] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 15:39:17,255.255] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 15:40:12,054.054] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 15:40:12,054.054] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:40:12,055.055] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 15:40:12,055.055] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:40:12,055.055] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 15:40:12,055.055] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:40:12,056.056] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:40:12,057.057] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 15:40:12,057.057] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 15:40:12,059.059] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 15:40:12,060.060] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 15:40:12,061.061] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 15:40:12,061.061] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 15:40:12,062.062] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:40:12,064.064] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:40:12,066.066] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 15:40:12,066.066] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 15:40:12,068.068] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 15:40:12,068.068] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 15:40:12,069.069] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 15:40:12,069.069] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('b5bfb6ec-544d-4ef8-8da2-f4bf8138c515')}
[2024-10-04 15:40:12,071.071] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 15:40:12,071.071] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('b5bfb6ec-544d-4ef8-8da2-f4bf8138c515'), 'batch': '20241004154012681932', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 14, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 15:40:12,071.071] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:40:12,075.075] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:40:12,076.076] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 15:40:12,076.076] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('49b09bd4-e0cd-45a6-9672-7049835c1d4f')}
[2024-10-04 15:40:12,108.108] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 15:40:12,109.109] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 15:40:12] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 15:40:38,029.029] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:40:38,030.030] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 15:40:38,030.030] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 15:40:38,031.031] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 15:40:38,031.031] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 15:40:38,031.031] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 15:40:38,031.031] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 15:40:38,031.031] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:40:38,033.033] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:40:38,033.033] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 15:40:38,034.034] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 15:40:38,034.034] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 15:40:38,034.034] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 15:40:38,035.035] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 15:40:38,035.035] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'pk_1': UUID('9f8971ce-a03d-416c-aab0-bfaa203d7100')}
[2024-10-04 15:40:38,036.036] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 15:40:38,036.036] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('9f8971ce-a03d-416c-aab0-bfaa203d7100'), 'batch': '20241004154038530905', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 15, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 15:40:38,036.036] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:40:38,037.037] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:40:38,038.038] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 15:40:38,038.038] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.96s ago] {'pk_1': UUID('e3ca2e38-3793-4bfd-af9c-0255cf8952d3')}
[2024-10-04 15:40:38,055.055] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 15:40:38,055.055] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 15:40:38] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 15:49:03,026.026] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 15:49:03,116.116] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\app\\http\\app.py', reloading
[2024-10-04 15:49:03,659.659] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:49:03,770.770] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:49:14,956.956] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 15:49:14,965.965] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 15:49:16,672.672] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 15:49:16,680.680] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 15:52:17,171.171] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 15:52:17,171.171] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:52:17,172.172] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 15:52:17,172.172] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:52:17,172.172] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 15:52:17,173.173] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:52:17,173.173] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:52:17,175.175] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 15:52:17,175.175] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 15:52:17,177.177] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 15:52:17,177.177] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 15:52:17,179.179] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 15:52:17,179.179] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 15:52:17,180.180] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:52:17,183.183] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:52:17,185.185] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 15:52:17,185.185] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 15:52:17,187.187] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 15:52:17,187.187] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 15:52:17,188.188] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 15:52:17,189.189] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('54fe666a-2253-4633-a1a0-65b044b7b122')}
[2024-10-04 15:52:17,190.190] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 15:52:17,190.190] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('54fe666a-2253-4633-a1a0-65b044b7b122'), 'batch': '20241004155217326101', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 16, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 15:52:17,191.191] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:52:17,217.217] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:52:17,218.218] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 15:52:17,218.218] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'pk_1': UUID('d7bc80b5-a510-4269-bef0-74d4265639d3')}
[2024-10-04 15:52:17,252.252] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 15:52:17,253.253] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 15:52:17] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 15:54:34,278.278] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:54:34,278.278] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 15:54:34,279.279] base.py -> _exec_single_context line:1908 [INFO]: [cached since 137.1s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 15:54:34,280.280] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 15:54:34,280.280] base.py -> _exec_single_context line:1908 [INFO]: [cached since 137.1s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 15:54:34,281.281] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 15:54:34,281.281] base.py -> _exec_single_context line:1908 [INFO]: [cached since 137.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 15:54:34,282.282] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:54:34,301.301] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:54:34,302.302] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 15:54:34,302.302] base.py -> _exec_single_context line:1908 [INFO]: [cached since 137.1s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 15:54:34,303.303] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 15:54:34,303.303] base.py -> _exec_single_context line:1908 [INFO]: [cached since 137.1s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 15:54:34,303.303] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 15:54:34,304.304] base.py -> _exec_single_context line:1908 [INFO]: [cached since 137.1s ago] {'pk_1': UUID('cb7dfca4-90fc-4f4f-999a-19e276ec24db')}
[2024-10-04 15:54:34,304.304] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 15:54:34,304.304] base.py -> _exec_single_context line:1908 [INFO]: [cached since 137.1s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('cb7dfca4-90fc-4f4f-999a-19e276ec24db'), 'batch': '20241004155434719880', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 17, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 15:54:34,305.305] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:54:34,306.306] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:54:34,306.306] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 15:54:34,306.306] base.py -> _exec_single_context line:1908 [INFO]: [cached since 137.1s ago] {'pk_1': UUID('f5b65509-2f41-4066-9370-dcadcc4c3335')}
[2024-10-04 15:54:34,324.324] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 15:54:34,325.325] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 15:54:34] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 15:57:37,670.670] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\embeddings_service.py', reloading
[2024-10-04 15:57:37,754.754] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\embeddings_service.py', reloading
[2024-10-04 15:57:38,335.335] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:57:38,453.453] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 15:57:42,574.574] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 15:57:42,579.579] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 15:57:42,870.870] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 15:57:42,875.875] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 15:57:48,258.258] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 15:57:48,258.258] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:57:48,259.259] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 15:57:48,259.259] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:57:48,260.260] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 15:57:48,260.260] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 15:57:48,261.261] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:57:48,262.262] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 15:57:48,262.262] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 15:57:48,264.264] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 15:57:48,265.265] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 15:57:48,266.266] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 15:57:48,266.266] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 15:57:48,267.267] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:57:48,273.273] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:57:48,275.275] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 15:57:48,275.275] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 15:57:48,277.277] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 15:57:48,277.277] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 15:57:48,277.277] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 15:57:48,277.277] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('5fda25f1-f345-4afc-a05a-7eee7e6eeaac')}
[2024-10-04 15:57:48,278.278] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 15:57:48,278.278] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('5fda25f1-f345-4afc-a05a-7eee7e6eeaac'), 'batch': '20241004155748604320', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 18, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 15:57:48,279.279] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 15:57:48,298.298] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 15:57:48,299.299] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 15:57:48,299.299] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('152e948c-472c-4621-a5d5-73c13cf1d3ce')}
[2024-10-04 15:57:48,331.331] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 15:57:48,332.332] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 15:57:48] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 16:01:13,283.283] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 16:01:13,334.334] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 16:01:13,601.601] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:01:13,663.663] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:01:16,729.729] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:01:16,734.734] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:01:16,797.797] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:01:16,802.802] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:02:46,828.828] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 16:02:47,174.174] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:02:50,295.295] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:02:50,300.300] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:03:05,828.828] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:03:05,828.828] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:03:05,829.829] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:03:09,007.007] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:03:09,012.012] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:05:23,666.666] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:05:23,666.666] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:05:23,667.667] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:05:27,200.200] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:05:27,204.204] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:05:30,598.598] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 16:05:30,599.599] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:05:30,599.599] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 16:05:30,600.600] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:05:30,600.600] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 16:05:30,600.600] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:05:30,601.601] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:05:30,602.602] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-04 16:05:30,602.602] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'param_1': 20, 'param_2': 0}
[2024-10-04 16:05:30,607.607] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2024-10-04 16:05:30,607.607] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-04 16:05:30,626.626] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:05:30,626.626] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:05:30,627.627] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:05:30,628.628] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:05:30,659.659] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:05:30,659.659] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'coalesce_2': 0, 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:05:30,684.684] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 16:05:30,685.685] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:05:30] "GET /datasets?search_word=&current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-04 16:05:34,336.336] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:05:34] "GET /ping HTTP/1.1" 200 -
[2024-10-04 16:05:48,359.359] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 16:05:48,676.676] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:05:51,616.616] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:05:51,619.619] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:05:55,556.556] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 16:05:55,556.556] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:05:55,557.557] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 16:05:55,557.557] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:05:55,558.558] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 16:05:55,558.558] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:05:55,559.559] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:05:55,560.560] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-04 16:05:55,560.560] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': 'LangChain商业级AI应用特训-电子书.md', 'key': '2024/10/04/fbcee35c-dbb0-446d-a0d1-05030dca5972.md', 'size': 2472, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '04307e1d86ea6b057e188efc9c63acc9061727e50870d2a87ce5a37029ae817a'}
[2024-10-04 16:05:55,562.562] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 16:05:55,570.570] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:05:55,571.571] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 16:05:55,571.571] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('6a7c92c4-9b40-4bd0-aada-fe7ff84e729b')}
[2024-10-04 16:05:55,572.572] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 16:05:55,572.572] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:05:55] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-04 16:06:48,203.203] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:06:48,204.204] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 16:06:48,204.204] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:06:48,206.206] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 16:06:48,206.206] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 16:06:48,208.208] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 16:06:48,209.209] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00032s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 16:06:48,210.210] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 16:06:48,213.213] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:06:48,214.214] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 16:06:48,214.214] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 16:06:48,216.216] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 16:06:48,217.217] base.py -> _exec_single_context line:1908 [INFO]: [cached since 52.65s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 16:06:48,218.218] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 16:06:48,218.218] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('906114aa-360e-4d05-af3a-bc81d8690b55')}
[2024-10-04 16:06:48,218.218] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 16:06:48,218.218] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00035s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('906114aa-360e-4d05-af3a-bc81d8690b55'), 'batch': '20241004160648360823', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 19, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 16:06:48,219.219] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 16:06:48,223.223] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:06:48,224.224] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 16:06:48,224.224] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('d33a3aa9-a323-4239-a3fc-6736d7e5fc2f')}
[2024-10-04 16:06:48,256.256] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 16:06:48,256.256] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:06:48] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 16:09:46,178.178] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\task\\demo_task.py', reloading
[2024-10-04 16:09:46,448.448] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:09:49,601.601] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:09:49,606.606] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:13:46,499.499] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:13:46,499.499] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:13:46,500.500] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:13:49,519.519] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:13:49,523.523] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:13:52,252.252] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:13:52] "GET /ping HTTP/1.1" 200 -
[2024-10-04 16:14:41,770.770] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 16:14:42,067.067] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:14:45,413.413] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:14:45,418.418] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:15:46,069.069] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:15:46,069.069] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:15:46,070.070] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:15:49,208.208] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:15:49,213.213] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:15:59,974.974] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:15:59] "GET /ping HTTP/1.1" 200 -
[2024-10-04 16:16:38,979.979] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 16:16:39,340.340] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:16:42,474.474] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:16:42,479.479] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:16:46,191.191] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:16:46,191.191] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:16:46,192.192] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:16:49,269.269] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:16:49,274.274] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:17:35,192.192] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:17:35,192.192] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:17:35,193.193] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:17:38,559.559] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:17:38,564.564] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:35:43,165.165] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:35:43,166.166] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:35:43,167.167] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:35:46,290.290] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:35:46,297.297] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:36:38,082.082] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:36:38] "GET /ping HTTP/1.1" 200 -
[2024-10-04 16:37:03,986.986] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 16:37:04,313.313] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:37:07,412.412] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:37:07,416.416] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:41:35,316.316] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:41:35,316.316] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:41:35,317.317] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:41:38,310.310] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:41:38,314.314] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:42:05,877.877] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:42:05,877.877] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:42:05,878.878] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:42:09,028.028] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:42:09,033.033] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:42:11,264.264] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:42:11] "GET /ping HTTP/1.1" 200 -
[2024-10-04 16:42:16,236.236] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 16:42:16,495.495] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:42:19,771.771] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:42:19,775.775] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:42:37,680.680] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:42:37,680.680] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:42:37,681.681] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:42:40,709.709] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:42:40,713.713] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:43:10,338.338] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:43:10,338.338] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:43:10,339.339] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:43:13,300.300] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:43:13,305.305] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:43:26,049.049] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:43:26] "GET /builtin-tools HTTP/1.1" 200 -
[2024-10-04 16:44:49,290.290] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:44:49,290.290] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:44:49,291.291] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:44:52,439.439] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:44:52,444.444] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:44:58,696.696] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:44:58] "POST /apps/e0d13c78-870b-46df-b2f5-693ae9d5d727/debug HTTP/1.1" 200 -
[2024-10-04 16:45:01,053.053] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:45:01] "GET /builtin-tools HTTP/1.1" 200 -
[2024-10-04 16:45:05,131.131] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 16:45:05,131.131] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:45:05,147.147] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 16:45:05,147.147] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:45:05,149.149] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 16:45:05,149.149] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:45:05,150.150] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:45:05,153.153] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID ORDER BY dataset.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-04 16:45:05,153.153] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'param_1': 20, 'param_2': 0}
[2024-10-04 16:45:05,305.305] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT dataset.id AS id, dataset.account_id AS account_id, dataset.name AS name, dataset.icon AS icon, dataset.description AS description, dataset.updated_at AS updated_at, dataset.created_at AS created_at 
FROM dataset 
WHERE dataset.account_id = %(account_id_1)s::UUID) AS anon_1
[2024-10-04 16:45:05,306.306] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00048s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-04 16:45:05,368.368] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:45:05,368.368] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00032s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:45:05,469.469] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:45:05,469.469] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00032s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:45:05,500.500] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:45:05,500.500] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00034s] {'coalesce_2': 0, 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:45:05,513.513] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 16:45:05,513.513] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:45:05] "GET /datasets?search_word=&current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-04 16:51:27,479.479] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:51:27,479.479] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:51:27,480.480] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:51:32,425.425] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:51:32,430.430] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:52:47,781.781] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:52:47,781.781] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:52:47,782.782] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:52:52,783.783] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:52:52,786.786] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:53:58,362.362] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:53:58,362.362] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:53:58,363.363] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:54:02,810.810] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:54:02,813.813] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:56:29,699.699] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 16:56:29,699.699] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 16:56:29,700.700] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 16:56:34,324.324] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 16:56:34,332.332] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 16:56:36,678.678] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:56:36] "GET /ping HTTP/1.1" 200 -
[2024-10-04 16:57:24,367.367] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 16:57:24,367.367] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:57:24,368.368] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 16:57:24,368.368] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:57:24,368.368] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 16:57:24,368.368] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 16:57:24,369.369] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:57:24,370.370] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 16:57:24,370.370] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:57:24,373.373] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 16:57:24,373.373] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 16:57:24,483.483] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 16:57:24,483.483] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 16:57:24,659.659] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 16:57:24,691.691] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:57:24,692.692] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 16:57:24,692.692] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 16:57:24,698.698] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 16:57:24,698.698] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 16:57:24,700.700] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 16:57:24,700.700] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('8bd2e358-1dd6-4dec-b75d-037a2c871d33')}
[2024-10-04 16:57:24,701.701] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 16:57:24,701.701] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('8bd2e358-1dd6-4dec-b75d-037a2c871d33'), 'batch': '20241004165724843902', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 20, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 16:57:24,722.722] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 16:57:24,726.726] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:57:24,728.728] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 16:57:24,728.728] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('feaefc3c-d009-43cf-bdd7-3bce05307dc4')}
[2024-10-04 16:57:24,755.755] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 16:57:24,756.756] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:57:24] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 16:58:04,137.137] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:58:04] "GET /ping HTTP/1.1" 200 -
[2024-10-04 16:58:13,055.055] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:58:13,055.055] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 16:58:13,055.055] base.py -> _exec_single_context line:1908 [INFO]: [cached since 48.69s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:58:13,058.058] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(document.id) AS count_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:58:13,058.058] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:58:13,060.060] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:58:13,061.061] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'coalesce_2': 0, 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:58:13,062.062] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(app_dataset_join.id) AS count_1 
FROM app_dataset_join 
WHERE app_dataset_join.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:58:13,062.062] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:58:13,064.064] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(document.character_count), %(coalesce_2)s) AS coalesce_1 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 16:58:13,064.064] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'coalesce_2': 0, 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 16:58:13,065.065] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 16:58:13,065.065] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:58:13] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89 HTTP/1.1" 200 -
[2024-10-04 16:58:45,553.553] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:58:45,553.553] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-04 16:58:45,554.554] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': 'LangChain商业级AI应用特训-电子书.md', 'key': '2024/10/04/67af7750-00af-4614-b7de-cbc0b3d00bda.md', 'size': 2472, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '04307e1d86ea6b057e188efc9c63acc9061727e50870d2a87ce5a37029ae817a'}
[2024-10-04 16:58:45,554.554] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 16:58:45,557.557] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:58:45,557.557] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 16:58:45,557.557] base.py -> _exec_single_context line:1908 [INFO]: [cached since 80.86s ago] {'pk_1': UUID('211b4dd4-78d0-480f-804a-b94159bbe374')}
[2024-10-04 16:58:45,558.558] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 16:58:45,559.559] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:58:45] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-04 16:59:23,526.526] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:59:23,526.526] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-04 16:59:23,526.526] base.py -> _exec_single_context line:1908 [INFO]: [cached since 37.97s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': 'LangChain商业级AI应用特训-电子书.md', 'key': '2024/10/04/eb70b92a-e7be-4e82-928a-cb7d2cdbd995.md', 'size': 2472, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '04307e1d86ea6b057e188efc9c63acc9061727e50870d2a87ce5a37029ae817a'}
[2024-10-04 16:59:23,527.527] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 16:59:23,530.530] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 16:59:23,530.530] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 16:59:23,530.530] base.py -> _exec_single_context line:1908 [INFO]: [cached since 118.8s ago] {'pk_1': UUID('49c47667-4d7f-44ee-b4dd-3eaa8b739166')}
[2024-10-04 16:59:23,531.531] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 16:59:23,531.531] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 16:59:23] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-04 17:00:04,276.276] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:00:04,276.276] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-04 17:00:04,276.276] base.py -> _exec_single_context line:1908 [INFO]: [cached since 78.72s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': 'LangChain商业级AI应用特训-电子书.md', 'key': '2024/10/04/7b614f80-1828-4f5d-bd6d-5724b0baddc0.md', 'size': 2472, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '04307e1d86ea6b057e188efc9c63acc9061727e50870d2a87ce5a37029ae817a'}
[2024-10-04 17:00:04,277.277] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:00:04,279.279] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:00:04,280.280] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:00:04,280.280] base.py -> _exec_single_context line:1908 [INFO]: [cached since 159.6s ago] {'pk_1': UUID('32b3fa85-68dc-4a45-93a4-a8c02de12b8b')}
[2024-10-04 17:00:04,280.280] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:00:04,281.281] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:00:04] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-04 17:00:59,044.044] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 17:00:59,298.298] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:01:03,945.945] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:01:03,948.948] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:01:12,849.849] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:01:12,849.849] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:01:12,850.850] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:01:12,850.850] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:01:12,850.850] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:01:12,850.850] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:01:12,852.852] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:01:12,854.854] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-04 17:01:12,854.854] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-04 17:01:13,010.010] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-04 17:01:13,010.010] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-04 17:01:13,289.289] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:01:13,290.290] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:01:13] "GET /ping HTTP/1.1" 200 -
[2024-10-04 17:01:23,959.959] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:01:23,960.960] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:01:23,960.960] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:01:23,962.962] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:01:23,962.962] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:01:23,964.964] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:01:23,964.964] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:01:23,965.965] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:01:23,982.982] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:01:23,983.983] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:01:23,984.984] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:01:23,985.985] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:01:23,985.985] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:01:23,987.987] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:01:23,987.987] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('7e7c4753-84cf-4545-9f7b-64d02e8d0d8d')}
[2024-10-04 17:01:23,988.988] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:01:23,988.988] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('7e7c4753-84cf-4545-9f7b-64d02e8d0d8d'), 'batch': '20241004170123370436', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 21, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:01:23,989.989] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:01:23,992.992] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:01:23,993.993] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:01:23,993.993] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('80ae9c36-d545-44cd-bab3-126b92ca4199')}
[2024-10-04 17:01:24,020.020] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:01:24,021.021] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:01:24] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:01:55,795.795] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\vector_database_service.py', reloading
[2024-10-04 17:01:56,069.069] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:01:58,858.858] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:01:58,861.861] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:02:17,716.716] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 17:02:17,717.717] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 17:02:17,718.718] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:02:20,374.374] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:02:20,376.376] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:02:26,712.712] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:02:26,713.713] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:02:26,713.713] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:02:26,713.713] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:02:26,714.714] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:02:26,714.714] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:02:26,715.715] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:02:26,716.716] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:02:26,716.716] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:02:26,718.718] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:02:26,718.718] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:02:26,720.720] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:02:26,720.720] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:02:26,721.721] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:02:26,723.723] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:02:26,725.725] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:02:26,725.725] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:02:26,726.726] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:02:26,727.727] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:02:26,728.728] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:02:26,728.728] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('255fe32e-021b-44f1-a79b-d3523dcfe154')}
[2024-10-04 17:02:26,729.729] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:02:26,730.730] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('255fe32e-021b-44f1-a79b-d3523dcfe154'), 'batch': '20241004170226954947', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 22, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:02:26,730.730] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:02:26,760.760] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:02:26,761.761] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:02:26,761.761] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('b3adcc63-a538-410f-8c72-d3de1afd8dc4')}
[2024-10-04 17:02:26,790.790] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:02:26,790.790] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:02:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:03:49,476.476] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\vector_database_service.py', reloading
[2024-10-04 17:03:49,742.742] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:03:52,455.455] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:03:52,458.458] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:07:37,550.550] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:07:37,833.833] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:07:40,666.666] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:07:40,669.669] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:07:41,277.277] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:07:41,277.277] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:07:41,278.278] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:07:41,278.278] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:07:41,279.279] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:07:41,279.279] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:07:41,280.280] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:07:41,281.281] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:07:41,281.281] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:07:41,283.283] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:07:41,283.283] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:07:41,285.285] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:07:41,285.285] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:07:41,286.286] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:07:41,290.290] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:07:41,291.291] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:07:41,291.291] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:07:41,292.292] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:07:41,292.292] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:07:41,295.295] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:07:41,295.295] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('a82db55e-1e5f-46f5-976c-48ae0ec00089')}
[2024-10-04 17:07:41,296.296] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:07:41,297.297] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('a82db55e-1e5f-46f5-976c-48ae0ec00089'), 'batch': '20241004170741176559', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 23, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:07:41,297.297] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:07:41,299.299] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:07:41,299.299] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:07:41,299.299] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('cab6d7e3-4725-4dbe-9523-6da74b977d74')}
[2024-10-04 17:07:41,300.300] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:07:41,301.301] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:07:41] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:12:07,209.209] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 17:12:07,210.210] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 17:12:07,211.211] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:12:10,113.113] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:12:10,115.115] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:16:06,776.776] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 17:16:06,776.776] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 17:16:06,777.777] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:16:09,570.570] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:16:09,572.572] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:16:14,121.121] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:16:14,121.121] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:16:14,122.122] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:16:14,122.122] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:16:14,123.123] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:16:14,123.123] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:16:14,123.123] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:16:14,124.124] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:16:14,124.124] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:16:14,127.127] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:16:14,127.127] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:16:14,128.128] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:16:14,128.128] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:16:14,130.130] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:16:14,132.132] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:16:14,133.133] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:16:14,133.133] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:16:14,135.135] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:16:14,135.135] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:16:14,136.136] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:16:14,136.136] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('0789af1c-7179-4fb7-b3dd-e31696a5788b')}
[2024-10-04 17:16:14,137.137] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:16:14,138.138] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('0789af1c-7179-4fb7-b3dd-e31696a5788b'), 'batch': '20241004171614294520', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 24, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:16:14,138.138] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:16:14,140.140] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:16:14,140.140] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:16:14,140.140] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('e5f34dcd-2f73-40f8-abb4-230666fbc427')}
[2024-10-04 17:16:14,141.141] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:16:14,142.142] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:16:14] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:18:27,036.036] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:18:27,365.365] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:18:30,248.248] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:18:30,251.251] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:18:31,606.606] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:18:31,897.897] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:18:34,919.919] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:18:34,922.922] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:18:37,472.472] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:18:37,720.720] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:18:40,181.181] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:18:40,181.181] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:18:41,431.431] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:18:41,753.753] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:18:44,304.304] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:18:44,305.305] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:18:53,426.426] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:18:53,696.696] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:18:56,188.188] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:18:56,189.189] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:18:58,534.534] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:18:58,845.845] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:19:01,531.531] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:19:01,532.532] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:19:02,768.768] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:19:03,030.030] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:19:05,544.544] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:19:05,545.545] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:19:17,782.782] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:19:18,088.088] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:19:20,523.523] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:19:20,525.525] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:19:30,812.812] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:19:31,092.092] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:19:33,624.624] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:19:33,625.625] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:19:34,951.951] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:19:35,237.237] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:19:37,757.757] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:19:37,759.759] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:19:41,180.180] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:19:41,416.416] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:19:43,889.889] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:19:43,890.890] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:20:52,742.742] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:20:52,989.989] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:20:56,124.124] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:20:56,127.127] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:21:05,653.653] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 17:21:05,654.654] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 17:21:05,654.654] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:21:08,954.954] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:21:08,956.956] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:21:11,520.520] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:21:11,520.520] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:21:11,521.521] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:21:11,521.521] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:21:11,521.521] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:21:11,521.521] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:21:11,522.522] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:11,523.523] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:21:11,523.523] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:21:11,525.525] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:21:11,526.526] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:21:11,527.527] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:21:11,527.527] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:21:11,528.528] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:11,532.532] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:11,534.534] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:21:11,534.534] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:21:11,536.536] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:21:11,536.536] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:21:11,538.538] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:21:11,538.538] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f606abaf-a9ee-470a-87c4-1e47f61c4733')}
[2024-10-04 17:21:11,539.539] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:21:11,539.539] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('f606abaf-a9ee-470a-87c4-1e47f61c4733'), 'batch': '20241004172111597036', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 25, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:21:11,540.540] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:11,570.570] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:11,571.571] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:11,571.571] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:11,573.573] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:21:11,573.573] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'id_1_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:11,574.574] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET processing_started_at=%(processing_started_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:11,575.575] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'processing_started_at': datetime.datetime(2024, 10, 4, 17, 21, 11, 574271), 'status': <DocumentStatus.PARSING: 'parsing'>, 'document_id': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:11,575.575] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:11,576.576] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:11,576.576] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:11,576.576] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005683s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:11,577.577] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-04 17:21:11,578.578] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:21:14,000.000] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET character_count=%(character_count)s, parsing_completed_at=%(parsing_completed_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:14,000.000] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'character_count': 981, 'parsing_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 13, 999367), 'status': <DocumentStatus.SPLITTING: 'splitting'>, 'document_id': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,001.001] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:14,003.003] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:14,004.004] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,004.004] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.433s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,005.005] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(id_1)s::UUID
[2024-10-04 17:21:14,006.006] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00058s] {'id_1': UUID('f606abaf-a9ee-470a-87c4-1e47f61c4733')}
[2024-10-04 17:21:14,208.208] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(max(segment.position), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-04 17:21:14,208.208] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'coalesce_2': 0, 'document_id_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,210.210] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, hash, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(hash)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.keywords, segment.hit_count, segment.enabled, segment.error, segment.updated_at, segment.created_at
[2024-10-04 17:21:14,211.211] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'account_id': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d'), 'node_id': UUID('3be7673d-c33b-4ad4-a93e-23cde3c776d7'), 'position': 1, 'content': 'LangChain商业级AI应用特训-电子书\n\n阶段一：LLM 应用平台基石搭建-LLMOPs 架构设计与基础聊天机器人开发\n\n第1周 LLMOPs 平台开发基础与架构设计\n\n第1章 夯实基础，了解 LLM 大语言模型\n\n1-1 课程介绍与导学\n\n1-2 什么是大语言模型（LL ... (296 characters truncated) ... PT-3 则有 1750 亿个参数，未开源的 GPT-4 甚至达到了万亿参数的级别。\n\n和以往的 NLP 模型不一样，我们不在需要针对某个特定的领域去训练单独的模型，在巨量参数的加持下，大语言模型能完成更多的通用任务，例如：\n\n生成：\n\n分类：\n\n总结：\n\n改写：\n\n...', 'character_count': 560, 'token_count': 479, 'hash': '2a8ee12f698b01add13a5a679f65159ddc3d10a92eda51439dcec306b2a2137a', 'disabled_at': None, 'processing_started_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'status': <SegmentStatus.WAITING: 'waiting'>}
[2024-10-04 17:21:14,214.214] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:14,217.217] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:14,217.217] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,218.218] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.647s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,219.219] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,219.219] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('3b8cf95b-2b8c-4a8c-bbb3-1a07fbdd34f0')}
[2024-10-04 17:21:14,221.221] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, hash, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(hash)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.keywords, segment.hit_count, segment.enabled, segment.error, segment.updated_at, segment.created_at
[2024-10-04 17:21:14,221.221] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01027s ago] {'account_id': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d'), 'node_id': UUID('d058ca99-7f35-4efc-91a6-cb191535abaa'), 'position': 2, 'content': '生成：\n\n分类：\n\n总结：\n\n改写：\n\n...\n\n为什么大语言模型能完成更多的通用任务呢？这里就要来聊一聊大模型模型中的几个关键术语。\n\n1-3 LLM大语言模型如何影响软件的构建\n\n1-4 LLM大语言模型为企业带来的价值与市场需求\n\n1-5 聊天机器人的使用与局 ... (180 characters truncated) ... LLMOPs应用平台调优部署-前端优化及生产环境部署-让应用落地\n\n阶段六：LLMOPs应用平台多模态插件+第三方应用集成-将开放API与第三方应用集成，并扩展配置多模态插件\n\n阶段七：LLMOPs应用平台企业级商用-火热五大商业级AI应用实战\n\n阶段八：课程总结与LLM大语言模型进阶', 'character_count': 444, 'token_count': 425, 'hash': 'e7a429b9ee9eda34aafdc1a8dece5458cd6535753891121ac495fab9ea316b8e', 'disabled_at': None, 'processing_started_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'status': <SegmentStatus.WAITING: 'waiting'>}
[2024-10-04 17:21:14,222.222] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:14,223.223] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:14,223.223] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,223.223] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.652s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,224.224] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,224.224] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004603s ago] {'pk_1': UUID('712c42fa-e290-4372-8ffc-725f31232b05')}
[2024-10-04 17:21:14,225.225] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,226.226] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006169s ago] {'pk_1': UUID('3b8cf95b-2b8c-4a8c-bbb3-1a07fbdd34f0')}
[2024-10-04 17:21:14,227.227] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET token_count=%(token_count)s, splitting_completed_at=%(splitting_completed_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:14,227.227] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'token_count': 904, 'splitting_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 14, 226152), 'status': <DocumentStatus.INDEXING: 'indexing'>, 'document_id': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,227.227] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:14,247.247] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-04 17:21:14,248.248] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-04 17:21:14,552.552] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.304 seconds.
[2024-10-04 17:21:14,552.552] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-04 17:21:14,554.554] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:14,555.555] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET keywords=%(keywords)s, indexing_completed_at=%(indexing_completed_at)s, status=%(status)s WHERE segment.id = %(id_1)s::UUID
[2024-10-04 17:21:14,555.555] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'keywords': '["\\u6a21\\u578b", "LLM", "GPT", "\\u53c2\\u6570", "\\u8bad\\u7ec3", "\\u5f00\\u6e90", "\\u8bed\\u8a00", "LLMOPs", "\\u67b6\\u6784\\u8bbe\\u8ba1", "\\u6570\\u636e"]', 'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 14, 554763), 'status': <SegmentStatus.INDEXING: 'indexing'>, 'id_1': '3b8cf95b-2b8c-4a8c-bbb3-1a07fbdd34f0'}
[2024-10-04 17:21:14,556.556] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,556.556] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.986s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,559.559] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 17:21:14,559.559] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:21:14,562.562] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-04 17:21:14,562.562] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00041s] {'keyword_table': '{"AI": ["aad23560-ed64-42fc-95d6-ec884b2ba064", "fd757953-74cb-4222-a914-e5977836834a", "7dc9e49c-7190-4509-924e-183b1c663169", "4cc8ab55-7a8c-4398-8 ... (91366 characters truncated) ... 60c-4bc0-872f-657c7caa5b57", "18d29fcb-d1d1-429e-81d8-76f4eb368a99", "0736e64c-546a-42dc-8011-4d91febf20d3", "8f168e4f-37bc-4a0b-8df2-8c4a5bf5ac3c"]}', 'keyword_table_id': UUID('56c5f691-0a1f-44c2-9076-5e855f109eb4')}
[2024-10-04 17:21:14,566.566] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:14,570.570] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:14,570.570] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET keywords=%(keywords)s, indexing_completed_at=%(indexing_completed_at)s, status=%(status)s WHERE segment.id = %(id_1)s::UUID
[2024-10-04 17:21:14,570.570] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01487s ago] {'keywords': '["LLMOPs", "\\u5e94\\u7528", "LLM", "\\u6a21\\u578b", "\\u9636\\u6bb5", "AI", "\\u5e73\\u53f0", "\\u63d2\\u4ef6", "\\u8bed\\u8a00", "API"]', 'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 14, 569360), 'status': <SegmentStatus.INDEXING: 'indexing'>, 'id_1': '712c42fa-e290-4372-8ffc-725f31232b05'}
[2024-10-04 17:21:14,571.571] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,571.571] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,571.571] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 17:21:14,576.576] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01641s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:21:14,578.578] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-04 17:21:14,578.578] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01601s ago] {'keyword_table': '{"AI": ["aad23560-ed64-42fc-95d6-ec884b2ba064", "fd757953-74cb-4222-a914-e5977836834a", "7dc9e49c-7190-4509-924e-183b1c663169", "4cc8ab55-7a8c-4398-8 ... (91766 characters truncated) ... 5b0-4d9e-9ac5-b60ecffe69a3", "cf949e8a-160c-4bc0-872f-657c7caa5b57", "18d29fcb-d1d1-429e-81d8-76f4eb368a99", "8f168e4f-37bc-4a0b-8df2-8c4a5bf5ac3c"]}', 'keyword_table_id': UUID('56c5f691-0a1f-44c2-9076-5e855f109eb4')}
[2024-10-04 17:21:14,582.582] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:14,594.594] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:14,594.594] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:14,594.594] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.024s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,595.595] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET indexing_completed_at=%(indexing_completed_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:14,596.596] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 14, 594667), 'document_id': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:14,596.596] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:15,343.343] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:15,344.344] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET enabled=%(enabled)s, completed_at=%(completed_at)s, status=%(status)s WHERE segment.node_id IN (%(node_id_1_1)s::UUID)
[2024-10-04 17:21:15,344.344] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'enabled': True, 'completed_at': datetime.datetime(2024, 10, 4, 17, 21, 15, 343853), 'status': <SegmentStatus.COMPLETED: 'completed'>, 'node_id_1_1': '3be7673d-c33b-4ad4-a93e-23cde3c776d7'}
[2024-10-04 17:21:15,868.868] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET enabled=%(enabled)s, completed_at=%(completed_at)s, status=%(status)s WHERE segment.node_id IN (%(node_id_1_1)s::UUID)
[2024-10-04 17:21:15,868.868] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.5246s ago] {'enabled': True, 'completed_at': datetime.datetime(2024, 10, 4, 17, 21, 15, 868793), 'status': <SegmentStatus.COMPLETED: 'completed'>, 'node_id_1_1': 'd058ca99-7f35-4efc-91a6-cb191535abaa'}
[2024-10-04 17:21:15,869.869] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:15,869.869] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.299s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:15,870.870] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET completed_at=%(completed_at)s, enabled=%(enabled)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:15,871.871] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'completed_at': datetime.datetime(2024, 10, 4, 17, 21, 15, 869764), 'enabled': True, 'status': <DocumentStatus.COMPLETED: 'completed'>, 'document_id': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:15,873.873] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:15,876.876] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:15,876.876] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:15,876.876] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.305s ago] {'pk_1': UUID('f7b170dc-ec0f-429a-ba29-5d65300bd34d')}
[2024-10-04 17:21:15,878.878] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:21:15,878.878] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:21:15] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:21:40,359.359] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,360.360] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,360.360] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.84s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:21:40,361.361] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:21:40,361.361] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.84s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:21:40,362.362] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:21:40,362.362] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:21:40,362.362] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,365.365] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,365.365] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:21:40,365.365] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:21:40,366.366] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,366.366] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:21:40,371.371] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,371.371] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'pk_1': UUID('d86655af-1c3a-4f71-8bff-01e0af2f0c66')}
[2024-10-04 17:21:40,372.372] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:21:40,372.372] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('d86655af-1c3a-4f71-8bff-01e0af2f0c66'), 'batch': '20241004172140490669', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 26, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:21:40,373.373] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,394.394] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,395.395] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,395.395] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.82s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,396.396] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:21:40,400.400] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'id_1_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,401.401] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET processing_started_at=%(processing_started_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:40,401.401] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'processing_started_at': datetime.datetime(2024, 10, 4, 17, 21, 40, 400283), 'status': <DocumentStatus.PARSING: 'parsing'>, 'document_id': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,401.401] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,402.402] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,402.402] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,403.403] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,403.403] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-04 17:21:40,403.403] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.83s ago] {'id_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:21:40,486.486] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET character_count=%(character_count)s, parsing_completed_at=%(parsing_completed_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:40,486.486] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.49s ago] {'character_count': 981, 'parsing_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 40, 486562), 'status': <DocumentStatus.SPLITTING: 'splitting'>, 'document_id': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,487.487] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,490.490] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,490.490] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,490.490] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.92s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,491.491] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(id_1)s::UUID
[2024-10-04 17:21:40,491.491] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.49s ago] {'id_1': UUID('d86655af-1c3a-4f71-8bff-01e0af2f0c66')}
[2024-10-04 17:21:40,493.493] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(max(segment.position), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-04 17:21:40,493.493] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.29s ago] {'coalesce_2': 0, 'document_id_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,494.494] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, hash, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(hash)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.keywords, segment.hit_count, segment.enabled, segment.error, segment.updated_at, segment.created_at
[2024-10-04 17:21:40,495.495] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.28s ago] {'account_id': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369'), 'node_id': UUID('5e80ba3c-d2fb-4df7-8b99-cf1b1d89fed2'), 'position': 1, 'content': 'LangChain商业级AI应用特训-电子书\n\n阶段一：LLM 应用平台基石搭建-LLMOPs 架构设计与基础聊天机器人开发\n\n第1周 LLMOPs 平台开发基础与架构设计\n\n第1章 夯实基础，了解 LLM 大语言模型\n\n1-1 课程介绍与导学\n\n1-2 什么是大语言模型（LL ... (296 characters truncated) ... PT-3 则有 1750 亿个参数，未开源的 GPT-4 甚至达到了万亿参数的级别。\n\n和以往的 NLP 模型不一样，我们不在需要针对某个特定的领域去训练单独的模型，在巨量参数的加持下，大语言模型能完成更多的通用任务，例如：\n\n生成：\n\n分类：\n\n总结：\n\n改写：\n\n...', 'character_count': 560, 'token_count': 479, 'hash': '2a8ee12f698b01add13a5a679f65159ddc3d10a92eda51439dcec306b2a2137a', 'disabled_at': None, 'processing_started_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'status': <SegmentStatus.WAITING: 'waiting'>}
[2024-10-04 17:21:40,495.495] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,497.497] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,497.497] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,497.497] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.93s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,498.498] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,499.499] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.28s ago] {'pk_1': UUID('bdb78685-d393-4b69-a278-40f8188dd0a7')}
[2024-10-04 17:21:40,500.500] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, hash, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(hash)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.keywords, segment.hit_count, segment.enabled, segment.error, segment.updated_at, segment.created_at
[2024-10-04 17:21:40,500.500] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.29s ago] {'account_id': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369'), 'node_id': UUID('040b4770-6210-4dd8-84b6-8a0fa0f9be9c'), 'position': 2, 'content': '生成：\n\n分类：\n\n总结：\n\n改写：\n\n...\n\n为什么大语言模型能完成更多的通用任务呢？这里就要来聊一聊大模型模型中的几个关键术语。\n\n1-3 LLM大语言模型如何影响软件的构建\n\n1-4 LLM大语言模型为企业带来的价值与市场需求\n\n1-5 聊天机器人的使用与局 ... (180 characters truncated) ... LLMOPs应用平台调优部署-前端优化及生产环境部署-让应用落地\n\n阶段六：LLMOPs应用平台多模态插件+第三方应用集成-将开放API与第三方应用集成，并扩展配置多模态插件\n\n阶段七：LLMOPs应用平台企业级商用-火热五大商业级AI应用实战\n\n阶段八：课程总结与LLM大语言模型进阶', 'character_count': 444, 'token_count': 425, 'hash': 'e7a429b9ee9eda34aafdc1a8dece5458cd6535753891121ac495fab9ea316b8e', 'disabled_at': None, 'processing_started_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'status': <SegmentStatus.WAITING: 'waiting'>}
[2024-10-04 17:21:40,501.501] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,517.517] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,517.517] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,517.517] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.95s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,518.518] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,522.522] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.3s ago] {'pk_1': UUID('703593f9-5d60-4f10-8b4d-30d0bd3af290')}
[2024-10-04 17:21:40,522.522] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,522.522] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.3s ago] {'pk_1': UUID('bdb78685-d393-4b69-a278-40f8188dd0a7')}
[2024-10-04 17:21:40,523.523] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET token_count=%(token_count)s, splitting_completed_at=%(splitting_completed_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:40,523.523] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.3s ago] {'token_count': 904, 'splitting_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 40, 523549), 'status': <DocumentStatus.INDEXING: 'indexing'>, 'document_id': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,524.524] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,526.526] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,526.526] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET keywords=%(keywords)s, indexing_completed_at=%(indexing_completed_at)s, status=%(status)s WHERE segment.id = %(id_1)s::UUID
[2024-10-04 17:21:40,526.526] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'keywords': '["\\u6a21\\u578b", "LLM", "GPT", "\\u53c2\\u6570", "\\u8bad\\u7ec3", "\\u5f00\\u6e90", "\\u8bed\\u8a00", "LLMOPs", "\\u67b6\\u6784\\u8bbe\\u8ba1", "\\u6570\\u636e"]', 'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 40, 526469), 'status': <SegmentStatus.INDEXING: 'indexing'>, 'id_1': 'bdb78685-d393-4b69-a278-40f8188dd0a7'}
[2024-10-04 17:21:40,527.527] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,527.527] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.96s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,528.528] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 17:21:40,528.528] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:21:40,530.530] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-04 17:21:40,530.530] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'keyword_table': '{"AI": ["aad23560-ed64-42fc-95d6-ec884b2ba064", "fd757953-74cb-4222-a914-e5977836834a", "7dc9e49c-7190-4509-924e-183b1c663169", "4cc8ab55-7a8c-4398-8 ... (92166 characters truncated) ... 60c-4bc0-872f-657c7caa5b57", "18d29fcb-d1d1-429e-81d8-76f4eb368a99", "0736e64c-546a-42dc-8011-4d91febf20d3", "8f168e4f-37bc-4a0b-8df2-8c4a5bf5ac3c"]}', 'keyword_table_id': UUID('56c5f691-0a1f-44c2-9076-5e855f109eb4')}
[2024-10-04 17:21:40,535.535] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,537.537] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,537.537] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET keywords=%(keywords)s, indexing_completed_at=%(indexing_completed_at)s, status=%(status)s WHERE segment.id = %(id_1)s::UUID
[2024-10-04 17:21:40,537.537] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.98s ago] {'keywords': '["LLMOPs", "\\u5e94\\u7528", "LLM", "\\u6a21\\u578b", "\\u9636\\u6bb5", "AI", "\\u5e73\\u53f0", "\\u63d2\\u4ef6", "\\u8bed\\u8a00", "API"]', 'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 40, 537179), 'status': <SegmentStatus.INDEXING: 'indexing'>, 'id_1': '703593f9-5d60-4f10-8b4d-30d0bd3af290'}
[2024-10-04 17:21:40,538.538] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,538.538] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.97s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,539.539] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 17:21:40,540.540] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.98s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:21:40,542.542] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-04 17:21:40,542.542] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.98s ago] {'keyword_table': '{"AI": ["aad23560-ed64-42fc-95d6-ec884b2ba064", "fd757953-74cb-4222-a914-e5977836834a", "7dc9e49c-7190-4509-924e-183b1c663169", "4cc8ab55-7a8c-4398-8 ... (92566 characters truncated) ... 5b0-4d9e-9ac5-b60ecffe69a3", "cf949e8a-160c-4bc0-872f-657c7caa5b57", "18d29fcb-d1d1-429e-81d8-76f4eb368a99", "8f168e4f-37bc-4a0b-8df2-8c4a5bf5ac3c"]}', 'keyword_table_id': UUID('56c5f691-0a1f-44c2-9076-5e855f109eb4')}
[2024-10-04 17:21:40,545.545] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:40,561.561] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:40,561.561] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:40,562.562] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.99s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,562.562] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET indexing_completed_at=%(indexing_completed_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:40,562.562] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.97s ago] {'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 21, 40, 561509), 'document_id': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:40,563.563] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:41,196.196] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:41,197.197] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET enabled=%(enabled)s, completed_at=%(completed_at)s, status=%(status)s WHERE segment.node_id IN (%(node_id_1_1)s::UUID)
[2024-10-04 17:21:41,197.197] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.85s ago] {'enabled': True, 'completed_at': datetime.datetime(2024, 10, 4, 17, 21, 41, 196701), 'status': <SegmentStatus.COMPLETED: 'completed'>, 'node_id_1_1': '5e80ba3c-d2fb-4df7-8b99-cf1b1d89fed2'}
[2024-10-04 17:21:42,070.070] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET enabled=%(enabled)s, completed_at=%(completed_at)s, status=%(status)s WHERE segment.node_id IN (%(node_id_1_1)s::UUID)
[2024-10-04 17:21:42,070.070] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.73s ago] {'enabled': True, 'completed_at': datetime.datetime(2024, 10, 4, 17, 21, 42, 70290), 'status': <SegmentStatus.COMPLETED: 'completed'>, 'node_id_1_1': '040b4770-6210-4dd8-84b6-8a0fa0f9be9c'}
[2024-10-04 17:21:42,071.071] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:42,072.072] base.py -> _exec_single_context line:1908 [INFO]: [cached since 30.5s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:42,072.072] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET completed_at=%(completed_at)s, enabled=%(enabled)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:21:42,072.072] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.2s ago] {'completed_at': datetime.datetime(2024, 10, 4, 17, 21, 42, 71263), 'enabled': True, 'status': <DocumentStatus.COMPLETED: 'completed'>, 'document_id': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:42,075.075] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:21:42,077.077] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:21:42,078.078] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:21:42,078.078] base.py -> _exec_single_context line:1908 [INFO]: [cached since 30.51s ago] {'pk_1': UUID('3daf6e7e-a9d1-4b74-b8b4-2d1eebb67369')}
[2024-10-04 17:21:42,079.079] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:21:42,080.080] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:21:42] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:22:20,419.419] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:22:20,864.864] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:22:25,355.355] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:22:28,467.467] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:22:28,470.470] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:22:31,026.026] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:22:31,298.298] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:22:34,559.559] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:22:34,562.562] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:22:38,336.336] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:22:38,604.604] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:22:41,941.941] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:22:41,943.943] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:22:45,608.608] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:22:45,856.856] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:22:49,133.133] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:22:49,137.137] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:22:56,796.796] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:22:56,796.796] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:22:56,797.797] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:22:56,797.797] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:22:56,798.798] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:22:56,798.798] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:22:56,799.799] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:22:56,800.800] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:22:56,800.800] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:22:56,802.802] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:22:56,802.802] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:22:56,804.804] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:22:56,804.804] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:22:56,805.805] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:22:56,808.808] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:22:56,810.810] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:22:56,810.810] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:22:56,812.812] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:22:56,812.812] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:22:56,815.815] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:22:56,815.815] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('03192ee0-9770-47ef-a7e5-452ea197e1c3')}
[2024-10-04 17:22:56,816.816] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:22:56,816.816] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('03192ee0-9770-47ef-a7e5-452ea197e1c3'), 'batch': '20241004172256966109', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 27, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:22:56,817.817] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:22:56,818.818] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:22:56,818.818] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:22:56,819.819] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('e0f21269-7184-4e60-b6d2-4624fc3550de')}
[2024-10-04 17:22:56,820.820] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:22:56,820.820] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:22:56] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:24:58,730.730] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 17:24:58,731.731] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 17:24:58,732.732] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:25:01,900.900] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:25:01,903.903] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:25:03,052.052] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:25:03,052.052] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:25:03,053.053] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:25:03,053.053] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:25:03,054.054] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:25:03,054.054] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:25:03,054.054] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:25:03,055.055] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:25:03,056.056] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:25:03,057.057] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:25:03,058.058] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:25:03,059.059] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:25:03,059.059] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:25:03,060.060] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:25:03,065.065] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:25:03,067.067] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:25:03,067.067] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:25:03,068.068] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:25:03,068.068] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:25:03,070.070] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:25:03,070.070] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('dd93e080-a8d6-4be6-9621-99abc7a407ad')}
[2024-10-04 17:25:03,071.071] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:25:03,071.071] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('dd93e080-a8d6-4be6-9621-99abc7a407ad'), 'batch': '20241004172503127691', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 28, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:25:03,072.072] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:25:03,102.102] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:25:03,103.103] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:25:03,103.103] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('0fb7212d-7103-46b7-8c6c-adb50da17cf8')}
[2024-10-04 17:25:03,105.105] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:25:03,105.105] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:25:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:26:18,034.034] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 17:26:18,279.279] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:26:21,441.441] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:26:21,444.444] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:26:27,522.522] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 17:26:27,523.523] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 17:26:27,524.524] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:26:30,652.652] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:26:30,655.655] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:26:30,808.808] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:26:30,808.808] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:26:30,809.809] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:26:30,809.809] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:26:30,810.810] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:26:30,810.810] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:26:30,811.811] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:26:30,812.812] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:26:30,812.812] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:26:30,814.814] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:26:30,814.814] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:26:30,816.816] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:26:30,816.816] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:26:30,828.828] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:26:30,830.830] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:26:30,832.832] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:26:30,832.832] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:26:30,833.833] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:26:30,833.833] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:26:30,835.835] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:26:30,835.835] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('06d5841b-3d0f-4526-9286-f720ad014134')}
[2024-10-04 17:26:30,836.836] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:26:30,836.836] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('06d5841b-3d0f-4526-9286-f720ad014134'), 'batch': '20241004172630246843', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 29, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:26:30,838.838] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:26:30,839.839] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:26:30,840.840] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:26:30,840.840] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'pk_1': UUID('1f1f0c63-96b1-4861-862d-42d79483a6bd')}
[2024-10-04 17:26:30,841.841] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:26:30,842.842] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:26:30] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:26:39,043.043] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 17:26:39,297.297] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:26:42,599.599] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:26:42,602.602] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:27:06,924.924] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:27:07,190.190] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:27:10,332.332] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:27:10,335.335] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:27:19,272.272] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 17:27:19,273.273] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 17:27:19,274.274] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:27:22,355.355] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:27:22,359.359] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:27:30,679.679] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:27:30,679.679] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:27:30,680.680] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:27:30,680.680] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:27:30,680.680] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:27:30,681.681] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:27:30,681.681] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:30,682.682] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:27:30,682.682] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:27:30,684.684] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:27:30,684.684] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:27:30,686.686] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:27:30,686.686] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:27:30,687.687] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:30,689.689] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:30,691.691] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:27:30,691.691] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:27:30,692.692] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:27:30,692.692] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00011s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:27:30,693.693] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:27:30,693.693] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('b66f00a8-37bf-4e83-aeba-18b52dab436e')}
[2024-10-04 17:27:30,694.694] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:27:30,694.694] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('b66f00a8-37bf-4e83-aeba-18b52dab436e'), 'batch': '20241004172730712086', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 30, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:27:30,695.695] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:30,696.696] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:30,697.697] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:30,697.697] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:30,698.698] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:27:30,698.698] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id_1_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:30,699.699] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET processing_started_at=%(processing_started_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:27:30,699.699] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'processing_started_at': datetime.datetime(2024, 10, 4, 17, 27, 30, 699060), 'status': <DocumentStatus.PARSING: 'parsing'>, 'document_id': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:30,700.700] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:30,701.701] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:30,701.701] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:30,701.701] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004534s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:30,701.701] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-04 17:27:30,701.701] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'id_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:27:32,959.959] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET character_count=%(character_count)s, parsing_completed_at=%(parsing_completed_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:27:32,959.959] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00032s] {'character_count': 981, 'parsing_completed_at': datetime.datetime(2024, 10, 4, 17, 27, 32, 958859), 'status': <DocumentStatus.SPLITTING: 'splitting'>, 'document_id': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:32,960.960] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:32,963.963] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:32,964.964] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:32,964.964] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.268s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:32,965.965] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(id_1)s::UUID
[2024-10-04 17:27:32,965.965] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'id_1': UUID('b66f00a8-37bf-4e83-aeba-18b52dab436e')}
[2024-10-04 17:27:33,159.159] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(max(segment.position), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-04 17:27:33,159.159] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'coalesce_2': 0, 'document_id_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:33,161.161] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, hash, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(hash)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.keywords, segment.hit_count, segment.enabled, segment.error, segment.updated_at, segment.created_at
[2024-10-04 17:27:33,161.161] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99'), 'node_id': UUID('5468a5c5-9d8b-4244-9def-c48f7c772939'), 'position': 1, 'content': 'LangChain商业级AI应用特训-电子书\n\n阶段一：LLM 应用平台基石搭建-LLMOPs 架构设计与基础聊天机器人开发\n\n第1周 LLMOPs 平台开发基础与架构设计\n\n第1章 夯实基础，了解 LLM 大语言模型\n\n1-1 课程介绍与导学\n\n1-2 什么是大语言模型（LL ... (296 characters truncated) ... PT-3 则有 1750 亿个参数，未开源的 GPT-4 甚至达到了万亿参数的级别。\n\n和以往的 NLP 模型不一样，我们不在需要针对某个特定的领域去训练单独的模型，在巨量参数的加持下，大语言模型能完成更多的通用任务，例如：\n\n生成：\n\n分类：\n\n总结：\n\n改写：\n\n...', 'character_count': 560, 'token_count': 479, 'hash': '2a8ee12f698b01add13a5a679f65159ddc3d10a92eda51439dcec306b2a2137a', 'disabled_at': None, 'processing_started_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'status': <SegmentStatus.WAITING: 'waiting'>}
[2024-10-04 17:27:33,162.162] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:33,164.164] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:33,165.165] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:33,165.165] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.469s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:33,167.167] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:27:33,167.167] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'pk_1': UUID('36f0337c-9f6d-4e56-83e2-75c98718b2bb')}
[2024-10-04 17:27:33,168.168] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, hash, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(hash)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.keywords, segment.hit_count, segment.enabled, segment.error, segment.updated_at, segment.created_at
[2024-10-04 17:27:33,168.168] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007503s ago] {'account_id': UUID('46db30d1-3199-4e79-a0cd-abf12fa6858f'), 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99'), 'node_id': UUID('0e8a8148-0bce-4b2d-836c-4743659389ea'), 'position': 2, 'content': '生成：\n\n分类：\n\n总结：\n\n改写：\n\n...\n\n为什么大语言模型能完成更多的通用任务呢？这里就要来聊一聊大模型模型中的几个关键术语。\n\n1-3 LLM大语言模型如何影响软件的构建\n\n1-4 LLM大语言模型为企业带来的价值与市场需求\n\n1-5 聊天机器人的使用与局 ... (180 characters truncated) ... LLMOPs应用平台调优部署-前端优化及生产环境部署-让应用落地\n\n阶段六：LLMOPs应用平台多模态插件+第三方应用集成-将开放API与第三方应用集成，并扩展配置多模态插件\n\n阶段七：LLMOPs应用平台企业级商用-火热五大商业级AI应用实战\n\n阶段八：课程总结与LLM大语言模型进阶', 'character_count': 444, 'token_count': 425, 'hash': 'e7a429b9ee9eda34aafdc1a8dece5458cd6535753891121ac495fab9ea316b8e', 'disabled_at': None, 'processing_started_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'status': <SegmentStatus.WAITING: 'waiting'>}
[2024-10-04 17:27:33,169.169] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:33,171.171] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:33,171.171] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:33,171.171] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.475s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:33,172.172] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:27:33,173.173] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005909s ago] {'pk_1': UUID('1096522e-1638-41b6-b8a2-4172d2109e10')}
[2024-10-04 17:27:33,173.173] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-04 17:27:33,174.174] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006917s ago] {'pk_1': UUID('36f0337c-9f6d-4e56-83e2-75c98718b2bb')}
[2024-10-04 17:27:33,174.174] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET token_count=%(token_count)s, splitting_completed_at=%(splitting_completed_at)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:27:33,175.175] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'token_count': 904, 'splitting_completed_at': datetime.datetime(2024, 10, 4, 17, 27, 33, 174594), 'status': <DocumentStatus.INDEXING: 'indexing'>, 'document_id': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:33,175.175] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:33,176.176] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-04 17:27:33,177.177] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-04 17:27:33,493.493] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.317 seconds.
[2024-10-04 17:27:33,493.493] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-04 17:27:33,495.495] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:33,496.496] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET keywords=%(keywords)s, indexing_completed_at=%(indexing_completed_at)s, status=%(status)s WHERE segment.id = %(id_1)s::UUID
[2024-10-04 17:27:33,496.496] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'keywords': '["\\u6a21\\u578b", "LLM", "GPT", "\\u53c2\\u6570", "\\u8bad\\u7ec3", "\\u5f00\\u6e90", "\\u8bed\\u8a00", "LLMOPs", "\\u67b6\\u6784\\u8bbe\\u8ba1", "\\u6570\\u636e"]', 'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 27, 33, 495287), 'status': <SegmentStatus.INDEXING: 'indexing'>, 'id_1': '36f0337c-9f6d-4e56-83e2-75c98718b2bb'}
[2024-10-04 17:27:33,497.497] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:33,497.497] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.801s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:33,499.499] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 17:27:33,499.499] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:27:33,501.501] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-04 17:27:33,501.501] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00041s] {'keyword_table': '{"AI": ["36cc3e3f-f874-4247-a8b2-032d5163ee73", "739ae851-d79f-469d-b5c2-d64435c97981", "ba89262b-c904-4332-8e38-c60c91478e8e", "21a5acec-9cb6-4df2-9 ... (92966 characters truncated) ... 1dc-4bbd-ade2-8c0006818ec1", "dc0d2f42-9f0c-4dfd-b5b1-200b3d317376", "81b46ea0-7c7b-43cf-bc1b-574308821846", "4be76ffa-55b0-4d9e-9ac5-b60ecffe69a3"]}', 'keyword_table_id': UUID('56c5f691-0a1f-44c2-9076-5e855f109eb4')}
[2024-10-04 17:27:33,505.505] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:33,509.509] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:33,509.509] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET keywords=%(keywords)s, indexing_completed_at=%(indexing_completed_at)s, status=%(status)s WHERE segment.id = %(id_1)s::UUID
[2024-10-04 17:27:33,509.509] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01365s ago] {'keywords': '["LLMOPs", "\\u5e94\\u7528", "LLM", "\\u6a21\\u578b", "\\u9636\\u6bb5", "AI", "\\u5e73\\u53f0", "\\u63d2\\u4ef6", "\\u8bed\\u8a00", "API"]', 'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 27, 33, 508914), 'status': <SegmentStatus.INDEXING: 'indexing'>, 'id_1': '1096522e-1638-41b6-b8a2-4172d2109e10'}
[2024-10-04 17:27:33,510.510] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:33,510.510] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.814s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:33,510.510] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-04 17:27:33,511.511] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01269s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:27:33,514.514] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-04 17:27:33,514.514] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01325s ago] {'keyword_table': '{"AI": ["36cc3e3f-f874-4247-a8b2-032d5163ee73", "739ae851-d79f-469d-b5c2-d64435c97981", "ba89262b-c904-4332-8e38-c60c91478e8e", "21a5acec-9cb6-4df2-9 ... (93366 characters truncated) ... 1dc-4bbd-ade2-8c0006818ec1", "dc0d2f42-9f0c-4dfd-b5b1-200b3d317376", "81b46ea0-7c7b-43cf-bc1b-574308821846", "18d29fcb-d1d1-429e-81d8-76f4eb368a99"]}', 'keyword_table_id': UUID('56c5f691-0a1f-44c2-9076-5e855f109eb4')}
[2024-10-04 17:27:33,518.518] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:33,534.534] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:33,534.534] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:33,534.534] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.838s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:33,535.535] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET indexing_completed_at=%(indexing_completed_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:27:33,536.536] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'indexing_completed_at': datetime.datetime(2024, 10, 4, 17, 27, 33, 534221), 'document_id': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:33,536.536] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:34,164.164] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:34,165.165] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET enabled=%(enabled)s, completed_at=%(completed_at)s, status=%(status)s WHERE segment.node_id IN (%(node_id_1_1)s::UUID)
[2024-10-04 17:27:34,165.165] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'enabled': True, 'completed_at': datetime.datetime(2024, 10, 4, 17, 27, 34, 164164), 'status': <SegmentStatus.COMPLETED: 'completed'>, 'node_id_1_1': '5468a5c5-9d8b-4244-9def-c48f7c772939'}
[2024-10-04 17:27:34,667.667] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET enabled=%(enabled)s, completed_at=%(completed_at)s, status=%(status)s WHERE segment.node_id IN (%(node_id_1_1)s::UUID)
[2024-10-04 17:27:34,667.667] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.5032s ago] {'enabled': True, 'completed_at': datetime.datetime(2024, 10, 4, 17, 27, 34, 667576), 'status': <SegmentStatus.COMPLETED: 'completed'>, 'node_id_1_1': '0e8a8148-0bce-4b2d-836c-4743659389ea'}
[2024-10-04 17:27:34,668.668] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:34,669.669] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.972s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:34,669.669] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET completed_at=%(completed_at)s, enabled=%(enabled)s, status=%(status)s WHERE document.id = %(document_id)s::UUID
[2024-10-04 17:27:34,670.670] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'completed_at': datetime.datetime(2024, 10, 4, 17, 27, 34, 668546), 'enabled': True, 'status': <DocumentStatus.COMPLETED: 'completed'>, 'document_id': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:34,670.670] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:27:34,673.673] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:27:34,673.673] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:27:34,673.673] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.977s ago] {'pk_1': UUID('16bce0c7-9034-4bd1-b501-3b286f267f99')}
[2024-10-04 17:27:34,675.675] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:27:34,675.675] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:27:34] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:27:50,665.665] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:27:51,073.073] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:27:54,382.382] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:27:54,384.384] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:29:11,758.758] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-04 17:29:12,061.061] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:29:15,317.317] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:29:15,320.320] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:29:27,666.666] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:29:27,666.666] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:29:27,667.667] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:29:27,667.667] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:29:27,667.667] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:29:27,668.668] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:29:27,668.668] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:29:27,669.669] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:29:27,669.669] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:29:27,696.696] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:29:27,696.696] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:29:27,698.698] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:29:27,698.698] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:29:27,699.699] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:29:27,702.702] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:29:27,704.704] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:29:27,704.704] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:29:27,705.705] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:29:27,705.705] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:29:27,706.706] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:29:27,707.707] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('22e17a53-0fd9-4aa4-895a-8e2a1e9120f6')}
[2024-10-04 17:29:27,708.708] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:29:27,708.708] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('22e17a53-0fd9-4aa4-895a-8e2a1e9120f6'), 'batch': '20241004172927316672', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 31, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:29:27,708.708] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:29:27,713.713] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:29:27,714.714] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:29:27,714.714] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('3cd284da-6328-42d0-af89-c3d341591c7d')}
[2024-10-04 17:29:27,745.745] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:29:27,745.745] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:29:27] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 17:30:52,076.076] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 17:30:52,076.076] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 17:30:52,077.077] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 17:30:55,438.438] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 17:30:55,442.442] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 17:30:56,882.882] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 17:30:56,882.882] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:30:56,883.883] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 17:30:56,883.883] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:30:56,883.883] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 17:30:56,883.883] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 17:30:56,884.884] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:30:56,885.885] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 17:30:56,886.886] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 17:30:56,887.887] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 17:30:56,887.887] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '86f70312-af49-42cd-a36d-8ed8ea7f60e4'}
[2024-10-04 17:30:56,889.889] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 17:30:56,889.889] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 17:30:56,890.890] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:30:56,894.894] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:30:56,896.896] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 17:30:56,896.896] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 17:30:56,897.897] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 17:30:56,897.897] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4')}
[2024-10-04 17:30:56,901.901] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 17:30:56,901.901] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('b838f8ee-1336-4b51-8e1e-4088f4f27467')}
[2024-10-04 17:30:56,902.902] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 17:30:56,902.902] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('86f70312-af49-42cd-a36d-8ed8ea7f60e4'), 'process_rule_id': UUID('b838f8ee-1336-4b51-8e1e-4088f4f27467'), 'batch': '20241004173056791425', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 32, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 17:30:56,903.903] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 17:30:56,933.933] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 17:30:56,934.934] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 17:30:56,934.934] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('eadd7357-aaa5-4fab-a2d9-be048152c722')}
[2024-10-04 17:30:56,973.973] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 17:30:56,974.974] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 17:30:56] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 18:06:18,111.111] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 18:06:18,111.111] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 18:06:18,112.112] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 18:06:21,277.277] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 18:06:21,280.280] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 20:44:07,646.646] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 20:44:07,647.647] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 20:44:07,648.648] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 20:44:10,806.806] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 20:44:10,809.809] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 20:44:22,562.562] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 20:44:22,831.831] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 20:44:26,115.115] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 20:44:26,118.118] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 20:44:57,251.251] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\embeddings_service.py', reloading
[2024-10-04 20:44:57,506.506] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 20:45:40,827.827] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 20:45:40,827.827] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 20:45:40,828.828] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 20:45:52,058.058] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 20:45:52,060.060] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 20:46:34,196.196] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 20:46:34,196.196] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 20:46:34,196.196] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 20:46:34,196.196] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 20:46:34,197.197] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 20:46:34,197.197] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 20:46:34,198.198] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 20:46:34,200.200] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-04 20:46:34,200.200] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': 'LangChain商业级AI应用特训-电子书.md', 'key': '2024/10/04/ce9d5e3b-262b-4b24-b6e7-7b9a19e5d0c9.md', 'size': 2472, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '04307e1d86ea6b057e188efc9c63acc9061727e50870d2a87ce5a37029ae817a'}
[2024-10-04 20:46:34,202.202] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 20:46:34,205.205] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 20:46:34,207.207] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 20:46:34,207.207] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {'pk_1': UUID('d30fcceb-98b8-4035-ad4e-6043d2bfb5f1')}
[2024-10-04 20:46:34,210.210] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 20:46:34,210.210] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 20:46:34] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-04 20:46:37,761.761] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 20:46:37,762.762] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 20:46:37,762.762] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 20:46:37,765.765] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 20:46:37,765.765] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'd914da7e-8b42-45b7-ac70-f03db0bcd17d'}
[2024-10-04 20:46:37,767.767] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 20:46:37,767.767] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 20:46:37,769.769] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 20:46:37,770.770] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 20:46:37,773.773] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 20:46:37,773.773] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 20:46:37,774.774] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 20:46:37,775.775] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.567s ago] {'pk_1': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d')}
[2024-10-04 20:46:37,776.776] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 20:46:37,776.776] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('ebbbf391-192c-4650-99bc-bb1df65fe9d1')}
[2024-10-04 20:46:37,778.778] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 20:46:37,779.779] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d'), 'process_rule_id': UUID('ebbbf391-192c-4650-99bc-bb1df65fe9d1'), 'batch': '20241004204637489632', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 20:46:37,779.779] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 20:46:37,786.786] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 20:46:37,786.786] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 20:46:37,787.787] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('4a7b946c-62c6-4d71-a94b-7474c1703aa6')}
[2024-10-04 20:46:37,846.846] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 20:46:37,846.846] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 20:46:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 21:37:45,162.162] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 21:37:45,864.864] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:37:57,362.362] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 21:37:57,365.365] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 21:41:47,008.008] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 21:41:47,606.606] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:41:51,240.240] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:42:02,305.305] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:42:05,809.809] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:42:20,227.227] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:42:28,139.139] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:42:33,803.803] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:42:38,376.376] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:42:49,902.902] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 21:42:49,905.905] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 21:43:22,106.106] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 21:43:22,646.646] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:43:33,959.959] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 21:43:33,961.961] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 21:44:19,340.340] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 21:44:19,882.882] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:45:43,661.661] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:45:49,408.408] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:46:03,833.833] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:46:48,723.723] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:46:54,390.390] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:47:05,532.532] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 21:47:05,535.535] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 21:47:10,019.019] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 21:47:10,657.657] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:47:22,473.473] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 21:47:22,475.475] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 21:47:24,315.315] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 21:47:24,860.860] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:47:30,528.528] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:47:55,193.193] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-04 21:47:55,193.193] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-04 21:47:55,194.194] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:48:06,014.014] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 21:48:06,016.016] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 21:48:10,932.932] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 21:48:10,932.932] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:48:10,932.932] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 21:48:10,933.933] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:48:10,933.933] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 21:48:10,933.933] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:48:10,934.934] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:48:10,935.935] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 21:48:10,935.935] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 21:48:10,937.937] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 21:48:10,937.937] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'd914da7e-8b42-45b7-ac70-f03db0bcd17d'}
[2024-10-04 21:48:10,939.939] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 21:48:10,939.939] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 21:48:10,940.940] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 21:48:10,967.967] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:48:10,969.969] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 21:48:10,969.969] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 21:48:10,971.971] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 21:48:10,971.971] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d')}
[2024-10-04 21:48:10,974.974] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 21:48:10,974.974] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('cc9030c5-4230-464d-bb4c-35ea80cf8926')}
[2024-10-04 21:48:10,975.975] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 21:48:10,975.975] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d'), 'process_rule_id': UUID('cc9030c5-4230-464d-bb4c-35ea80cf8926'), 'batch': '20241004214810400462', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 21:48:10,976.976] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 21:48:10,980.980] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:48:10,981.981] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 21:48:10,981.981] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('5da6c454-bc73-47e9-86b7-ffe17726748f')}
[2024-10-04 21:48:11,009.009] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 21:48:11,010.010] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 21:48:11] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 21:53:24,660.660] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\task\\document_task.py', reloading
[2024-10-04 21:53:25,217.217] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:53:36,783.783] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 21:53:36,785.785] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 21:53:49,861.861] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 21:53:49,861.861] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:53:49,862.862] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 21:53:49,862.862] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:53:49,863.863] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 21:53:49,863.863] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:53:49,863.863] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:53:49,865.865] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 21:53:49,865.865] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 21:53:49,867.867] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 21:53:49,867.867] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'd914da7e-8b42-45b7-ac70-f03db0bcd17d'}
[2024-10-04 21:53:49,869.869] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 21:53:49,869.869] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 21:53:49,870.870] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 21:53:49,887.887] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:53:49,889.889] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 21:53:49,889.889] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 21:53:49,890.890] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 21:53:49,890.890] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d')}
[2024-10-04 21:53:49,893.893] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 21:53:49,893.893] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('685d8b2c-2b85-4e62-8919-79cc681083d9')}
[2024-10-04 21:53:49,894.894] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 21:53:49,894.894] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d'), 'process_rule_id': UUID('685d8b2c-2b85-4e62-8919-79cc681083d9'), 'batch': '20241004215349340019', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 3, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 21:53:49,894.894] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 21:53:49,914.914] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:53:49,915.915] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 21:53:49,915.915] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('4c20f00f-34d1-4f16-8bda-64db8e8da6c6')}
[2024-10-04 21:53:49,916.916] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: build_documents() takes 1 positional argument but 2 were given
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 32, in create_documents
    documents, batch = self.document_service.create_documents(dataset_id, **req.data)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 98, in create_documents
    build_documents.delay([document.id for document in documents])
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\celery\app\task.py", line 444, in delay
    return self.apply_async(args, kwargs)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\celery\app\task.py", line 559, in apply_async
    check_arguments(*(args or ()), **(kwargs or {}))
TypeError: build_documents() takes 1 positional argument but 2 were given
[2024-10-04 21:53:49,918.918] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 21:53:49,930.930] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 21:53:49] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1[0m" 500 -
[2024-10-04 21:54:11,972.972] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\task\\document_task.py', reloading
[2024-10-04 21:54:12,523.523] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 21:54:23,709.709] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 21:54:23,712.712] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 21:55:23,276.276] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 21:55:23,276.276] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:55:23,277.277] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 21:55:23,277.277] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:55:23,278.278] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 21:55:23,278.278] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 21:55:23,278.278] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:55:23,280.280] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 21:55:23,280.280] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 21:55:23,282.282] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 21:55:23,282.282] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'd914da7e-8b42-45b7-ac70-f03db0bcd17d'}
[2024-10-04 21:55:23,284.284] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 21:55:23,285.285] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 21:55:23,286.286] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 21:55:23,288.288] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:55:23,290.290] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 21:55:23,290.290] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 21:55:23,292.292] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 21:55:23,292.292] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d')}
[2024-10-04 21:55:23,293.293] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 21:55:23,293.293] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('fb6ce36b-05ff-4564-ae8d-d642e3836aab')}
[2024-10-04 21:55:23,294.294] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 21:55:23,294.294] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d'), 'process_rule_id': UUID('fb6ce36b-05ff-4564-ae8d-d642e3836aab'), 'batch': '20241004215523842350', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 4, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 21:55:23,295.295] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 21:55:23,329.329] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 21:55:23,330.330] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 21:55:23,330.330] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('90da006f-03ed-4ec7-8d9c-4320675cd13c')}
[2024-10-04 21:55:23,365.365] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 21:55:23,366.366] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 21:55:23] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 22:01:33,439.439] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 22:01:33,996.996] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 22:01:44,799.799] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 22:01:44,801.801] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 22:01:54,672.672] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 22:01:54,672.672] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 22:01:54,673.673] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 22:01:54,673.673] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 22:01:54,674.674] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 22:01:54,674.674] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 22:01:54,674.674] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 22:01:54,675.675] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 22:01:54,675.675] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 22:01:54,677.677] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 22:01:54,678.678] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'd914da7e-8b42-45b7-ac70-f03db0bcd17d'}
[2024-10-04 22:01:54,680.680] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 22:01:54,680.680] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 22:01:54,681.681] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 22:01:54,706.706] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 22:01:54,708.708] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 22:01:54,708.708] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 22:01:54,710.710] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 22:01:54,710.710] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d')}
[2024-10-04 22:01:54,712.712] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 22:01:54,712.712] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('06cb9f73-81ea-4b2d-8850-24324f2537e2')}
[2024-10-04 22:01:54,713.713] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 22:01:54,713.713] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('d914da7e-8b42-45b7-ac70-f03db0bcd17d'), 'process_rule_id': UUID('06cb9f73-81ea-4b2d-8850-24324f2537e2'), 'batch': '20241004220154501561', 'name': 'LangChain商业级AI应用特训-电子书.md', 'position': 5, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 22:01:54,714.714] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 22:01:54,729.729] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 22:01:54,730.730] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 22:01:54,730.730] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('cbe76632-79c3-4f7e-b7c2-d39beea23fda')}
[2024-10-04 22:01:54,761.761] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 22:01:54,762.762] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 22:01:54] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 22:02:21,520.520] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 22:02:22,076.076] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 22:02:33,826.826] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 22:02:33,828.828] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 22:02:36,945.945] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 22:02:37,581.581] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 22:02:48,056.056] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 22:02:48,058.058] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 22:03:49,778.778] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 22:03:49,778.778] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 22:03:49,778.778] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 22:03:49,778.778] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 22:03:49,779.779] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 22:03:49,779.779] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 22:03:49,780.780] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 22:03:49,782.782] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-04 22:03:49,782.782] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': 'LLMOps 项目提示词大全.md', 'key': '2024/10/04/4e2ca645-c27c-41cc-9a2d-f6f1e5cec107.md', 'size': 28749, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '6d867db429d26ea426d6b67a88fce43e74760d039e9e2925f0083b7acb1f066a'}
[2024-10-04 22:03:49,783.783] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 22:03:49,789.789] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 22:03:49,791.791] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 22:03:49,791.791] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'pk_1': UUID('e294d918-056c-4f53-88be-58f189c72824')}
[2024-10-04 22:03:49,794.794] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 22:03:49,795.795] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 22:03:49] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-04 22:04:04,398.398] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 22:04:04,399.399] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 22:04:04,399.399] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 22:04:04,401.401] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 22:04:04,402.402] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'e294d918-056c-4f53-88be-58f189c72824'}
[2024-10-04 22:04:04,404.404] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 22:04:04,404.404] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 22:04:04,405.405] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 22:04:04,407.407] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 22:04:04,410.410] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 22:04:04,410.410] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 22:04:04,411.411] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 22:04:04,412.412] base.py -> _exec_single_context line:1908 [INFO]: [cached since 14.62s ago] {'pk_1': UUID('e294d918-056c-4f53-88be-58f189c72824')}
[2024-10-04 22:04:04,413.413] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 22:04:04,413.413] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('00549660-ad55-4faa-8c7a-7aa22544a286')}
[2024-10-04 22:04:04,415.415] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 22:04:04,415.415] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('e294d918-056c-4f53-88be-58f189c72824'), 'process_rule_id': UUID('00549660-ad55-4faa-8c7a-7aa22544a286'), 'batch': '20241004220404641209', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 22:04:04,416.416] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 22:04:04,441.441] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 22:04:04,442.442] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 22:04:04,442.442] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('6e6c8e2b-d3de-40a8-bb3e-24492f690514')}
[2024-10-04 22:04:04,503.503] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 22:04:04,504.504] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 22:04:04] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 23:34:35,679.679] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:34:36,485.485] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:35:43,039.039] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:36:32,396.396] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:36:44,507.507] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:36:44,510.510] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:38:48,067.067] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:38:48,731.731] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:38:59,426.426] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:38:59,428.428] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:39:33,708.708] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 23:39:34,261.261] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:39:44,933.933] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:39:44,935.935] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:40:39,698.698] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 23:40:39] "GET /ping HTTP/1.1" 200 -
[2024-10-04 23:43:29,785.785] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:43:30,372.372] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:43:42,615.615] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:44:28,662.662] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:44:40,016.016] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:44:40,019.019] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:44:45,821.821] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:44:46,444.444] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:44:57,697.697] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:44:57,700.700] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:45:09,712.712] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:45:10,261.261] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:45:21,167.167] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:45:21,169.169] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:45:54,994.994] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:45:55,558.558] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:46:06,479.479] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:46:06,482.482] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:46:22,569.569] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 23:46:22,569.569] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:46:22,570.570] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 23:46:22,570.570] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:46:22,570.570] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 23:46:22,570.570] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:46:22,571.571] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:46:22,572.572] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 23:46:22,573.573] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00034s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 23:46:22,575.575] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 23:46:22,575.575] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'e294d918-056c-4f53-88be-58f189c72824'}
[2024-10-04 23:46:22,577.577] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 23:46:22,578.578] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 23:46:22,579.579] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:46:22,581.581] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:46:22,583.583] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 23:46:22,584.584] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 23:46:22,585.585] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 23:46:22,585.585] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('e294d918-056c-4f53-88be-58f189c72824')}
[2024-10-04 23:46:22,587.587] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 23:46:22,587.587] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('3739da2f-824b-4600-a02d-c4d98f2af736')}
[2024-10-04 23:46:22,588.588] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 23:46:22,588.588] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('e294d918-056c-4f53-88be-58f189c72824'), 'process_rule_id': UUID('3739da2f-824b-4600-a02d-c4d98f2af736'), 'batch': '20241004234622690529', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 23:46:22,589.589] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:46:22,594.594] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:46:22,595.595] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 23:46:22,595.595] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('932e9c91-4fa7-4ab9-8680-1ed83cbe9b42')}
[2024-10-04 23:46:22,630.630] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 23:46:22,630.630] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 23:46:22] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 23:47:22,723.723] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 23:47:23,289.289] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:47:35,064.064] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:47:35,067.067] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:47:37,033.033] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 23:47:37] "GET /ping HTTP/1.1" 200 -
[2024-10-04 23:48:01,262.262] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-04 23:48:01,828.828] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:48:13,186.186] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:48:13,188.188] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:48:24,588.588] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 23:48:24,589.589] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:48:24,590.590] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 23:48:24,590.590] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:48:24,590.590] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 23:48:24,590.590] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:48:24,591.591] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:48:24,593.593] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 23:48:24,593.593] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 23:48:24,596.596] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 23:48:24,597.597] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00032s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'e294d918-056c-4f53-88be-58f189c72824'}
[2024-10-04 23:48:24,600.600] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 23:48:24,600.600] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 23:48:24,601.601] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:48:24,604.604] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:48:24,607.607] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 23:48:24,607.607] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 23:48:24,609.609] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 23:48:24,609.609] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'pk_1': UUID('e294d918-056c-4f53-88be-58f189c72824')}
[2024-10-04 23:48:24,611.611] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 23:48:24,613.613] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00210s] {'pk_1': UUID('7c41afff-2db2-4368-b737-bbad5e8937f8')}
[2024-10-04 23:48:24,616.616] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 23:48:24,616.616] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('e294d918-056c-4f53-88be-58f189c72824'), 'process_rule_id': UUID('7c41afff-2db2-4368-b737-bbad5e8937f8'), 'batch': '20241004234824618215', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 23:48:24,617.617] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:48:24,652.652] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:48:24,653.653] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 23:48:24,653.653] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'pk_1': UUID('ac09766d-00cd-4c25-b60b-838014678fe8')}
[2024-10-04 23:48:24,713.713] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 23:48:24,714.714] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 23:48:24] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 23:51:41,180.180] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:51:41,777.777] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:51:53,330.330] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:51:53,332.332] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:52:02,558.558] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 23:52:02,558.558] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:52:02,559.559] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 23:52:02,560.560] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:52:02,560.560] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 23:52:02,560.560] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:52:02,560.560] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:52:02,561.561] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 23:52:02,561.561] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 23:52:02,563.563] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 23:52:02,564.564] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'e294d918-056c-4f53-88be-58f189c72824'}
[2024-10-04 23:52:02,566.566] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 23:52:02,566.566] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 23:52:02,568.568] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:52:02,581.581] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:52:02,583.583] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 23:52:02,583.583] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 23:52:02,584.584] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 23:52:02,585.585] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('e294d918-056c-4f53-88be-58f189c72824')}
[2024-10-04 23:52:02,586.586] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 23:52:02,586.586] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('c3347840-8b4a-49b7-a57b-c394d2521ee6')}
[2024-10-04 23:52:02,587.587] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 23:52:02,588.588] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('e294d918-056c-4f53-88be-58f189c72824'), 'process_rule_id': UUID('c3347840-8b4a-49b7-a57b-c394d2521ee6'), 'batch': '20241004235202690314', 'name': 'LLMOps 项目提示词大全.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 23:52:02,588.588] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:52:02,606.606] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:52:02,607.607] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 23:52:02,607.607] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00040s] {'pk_1': UUID('71691b0f-341d-43bc-b9c0-3bb4059ae3db')}
[2024-10-04 23:52:02,654.654] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 23:52:02,654.654] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 23:52:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 23:55:22,559.559] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:55:23,152.152] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:55:34,745.745] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:55:34,747.747] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:55:54,522.522] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-04 23:55:55,216.216] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-04 23:56:07,362.362] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-04 23:56:07,367.367] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-04 23:56:24,346.346] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-04 23:56:24,346.346] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:56:24,347.347] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-04 23:56:24,347.347] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:56:24,347.347] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-04 23:56:24,348.348] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-04 23:56:24,348.348] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:56:24,349.349] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 23:56:24,349.349] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 23:56:24,352.352] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 23:56:24,352.352] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'e294d918-056c-4f53-88be-58f189c72824'}
[2024-10-04 23:56:24,354.354] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 23:56:24,354.354] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 23:56:24,355.355] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:56:24,359.359] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:56:24,360.360] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 23:56:24,360.360] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 23:56:24,361.361] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 23:56:24,361.361] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('e294d918-056c-4f53-88be-58f189c72824')}
[2024-10-04 23:56:24,365.365] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 23:56:24,365.365] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('4cc345fa-5999-4009-8e61-2c4707c693cd')}
[2024-10-04 23:56:24,366.366] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 23:56:24,367.367] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('e294d918-056c-4f53-88be-58f189c72824'), 'process_rule_id': UUID('4cc345fa-5999-4009-8e61-2c4707c693cd'), 'batch': '20241004235624124277', 'name': 'LLMOps 项目提示词大全.md', 'position': 3, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 23:56:24,367.367] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:56:24,402.402] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:56:24,403.403] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 23:56:24,403.403] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('577d2d79-3829-4f1c-a0d2-919a10d666ea')}
[2024-10-04 23:56:24,437.437] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 23:56:24,438.438] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 23:56:24] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-04 23:57:44,017.017] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:57:44,019.019] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-04 23:57:44,019.019] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': '项目API文档-完整.md', 'key': '2024/10/04/ee0e2850-a922-4c1f-a6f7-688ee3c22e37.md', 'size': 94009, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '4f45716b75642ce86006dd2aa2e31de0a7d1cd30c405104c25181430a324d3cb'}
[2024-10-04 23:57:44,021.021] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:57:44,023.023] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:57:44,024.024] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 23:57:44,024.024] base.py -> _exec_single_context line:1908 [INFO]: [cached since 79.66s ago] {'pk_1': UUID('1c32445c-676a-4a61-810b-a4483f310542')}
[2024-10-04 23:57:44,026.026] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 23:57:44,026.026] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 23:57:44] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-04 23:58:37,699.699] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:58:37,699.699] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-04 23:58:37,699.699] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.4s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-04 23:58:37,701.701] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-04 23:58:37,701.701] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.3s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '1c32445c-676a-4a61-810b-a4483f310542'}
[2024-10-04 23:58:37,702.702] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-04 23:58:37,702.702] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.3s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-04 23:58:37,705.705] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:58:37,724.724] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:58:37,724.724] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-04 23:58:37,724.724] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.4s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-04 23:58:37,725.725] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-04 23:58:37,725.725] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.4s ago] {'pk_1': UUID('1c32445c-676a-4a61-810b-a4483f310542')}
[2024-10-04 23:58:37,726.726] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-04 23:58:37,726.726] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.4s ago] {'pk_1': UUID('f6974efb-014e-4f1b-b074-8301bbe16c9b')}
[2024-10-04 23:58:37,727.727] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-04 23:58:37,727.727] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.4s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('1c32445c-676a-4a61-810b-a4483f310542'), 'process_rule_id': UUID('f6974efb-014e-4f1b-b074-8301bbe16c9b'), 'batch': '20241004235837876675', 'name': '项目API文档-完整.md', 'position': 4, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-04 23:58:37,727.727] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-04 23:58:37,728.728] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-04 23:58:37,729.729] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-04 23:58:37,729.729] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.3s ago] {'pk_1': UUID('3ed1f85f-7994-4330-85c8-8daf37b91d13')}
[2024-10-04 23:58:37,745.745] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-04 23:58:37,745.745] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [04/Oct/2024 23:58:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
