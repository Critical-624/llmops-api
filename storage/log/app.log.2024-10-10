[2024-10-10 00:27:22,493.493] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:27:25,875.875] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:27:25,876.876] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 00:27:39,207.207] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\document_handler.py', reloading
[2024-10-10 00:27:39,501.501] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:27:42,908.908] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:27:42,909.909] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 00:27:55,161.161] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\document_handler.py', reloading
[2024-10-10 00:27:55,426.426] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:27:58,829.829] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:27:58,830.830] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 00:28:31,813.813] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\router\\router.py', reloading
[2024-10-10 00:28:32,089.089] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:28:35,421.421] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:28:35,423.423] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 00:29:23,627.627] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 00:29:23,886.886] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:29:27,841.841] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:29:27,843.843] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 00:29:38,410.410] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 00:29:38,675.675] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:29:42,318.318] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:29:42,321.321] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 00:30:14,685.685] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 00:30:15,028.028] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:30:18,604.604] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:30:18,606.606] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 00:30:26,936.936] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 00:30:27,200.200] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:30:30,794.794] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:30:30,796.796] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 00:30:36,782.782] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 00:30:37,137.137] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 00:30:40,766.766] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 00:30:40,769.769] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:27:13,004.004] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 08:27:13,279.279] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:27:16,841.841] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:27:16,844.844] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:27:50,349.349] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 08:27:50,618.618] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:27:54,132.132] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:27:54,135.135] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:28:25,372.372] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\task\\document_task.py', reloading
[2024-10-10 08:28:25,664.664] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:28:29,118.118] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:28:29,121.121] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:29:50,923.923] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:29:51,213.213] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:29:54,624.624] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:29:54,627.627] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:39:07,582.582] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:39:07,932.932] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:39:11,363.363] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:39:11,364.364] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:40:22,397.397] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:40:22,674.674] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:40:26,323.323] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:40:26,325.325] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:40:49,447.447] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:40:49,736.736] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:40:53,368.368] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:40:53,371.371] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:41:42,955.955] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:41:43,274.274] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:41:46,806.806] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:41:46,809.809] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:41:50,500.500] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:41:50,755.755] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:41:54,296.296] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:41:54,299.299] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:43:05,654.654] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:43:05,931.931] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:43:09,343.343] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:43:09,346.346] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:43:30,282.282] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:43:30,544.544] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:43:33,933.933] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:43:33,936.936] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:44:11,028.028] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:44:11,315.315] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:44:14,699.699] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:44:14,702.702] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:44:58,547.547] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:44:58,819.819] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:45:02,321.321] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:45:02,325.325] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:45:19,738.738] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:45:20,091.091] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:45:23,717.717] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:45:23,719.719] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:46:42,999.999] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 08:46:43,309.309] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:46:46,684.684] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:46:46,687.687] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:52:04,778.778] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\document_handler.py', reloading
[2024-10-10 08:52:05,076.076] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:52:08,803.803] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:52:08,806.806] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:52:11,380.380] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:52:11,668.668] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:52:15,327.327] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:52:15,330.330] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:52:35,154.154] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:52:35,456.456] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:52:39,238.238] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:52:39,241.241] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:52:48,701.701] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:52:49,030.030] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:52:52,761.761] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:52:52,764.764] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:53:12,527.527] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:53:12,807.807] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:53:16,307.307] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:53:16,309.309] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:53:33,806.806] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:53:34,094.094] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:53:45,911.911] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:54:03,201.201] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:54:27,259.259] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:54:39,048.048] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:54:44,176.176] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:55:10,552.552] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:56:01,293.293] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:56:04,926.926] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:56:04,928.928] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 08:57:22,345.345] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 08:57:22,619.619] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 08:57:25,963.963] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 08:57:25,965.965] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:22:56,447.447] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:22:56,751.751] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:23:00,280.280] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:23:00,283.283] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:23:16,542.542] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:23:16,819.819] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:23:27,454.454] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:23:30,796.796] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:23:30,798.798] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:23:53,955.955] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:23:54,231.231] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:23:57,789.789] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:23:57,791.791] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:24:19,976.976] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:24:20,243.243] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:24:23,738.738] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:24:23,741.741] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:24:25,205.205] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:24:25,466.466] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:24:29,383.383] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:24:29,386.386] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:24:34,193.193] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:24:34,464.464] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:24:37,903.903] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:24:37,905.905] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:24:45,018.018] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:24:45,295.295] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:24:49,262.262] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:24:52,010.010] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:24:58,197.197] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:25:02,154.154] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:25:10,588.588] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:25:20,128.128] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:25:23,741.741] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:25:23,744.744] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:25:33,262.262] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:25:33,527.527] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:25:37,060.060] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:25:37,062.062] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:25:43,012.012] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:25:43,276.276] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:25:46,822.822] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:25:46,824.824] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:25:53,972.972] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:25:54,269.269] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:25:57,639.639] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:25:57,641.641] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:27:23,840.840] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:27:24,093.093] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:27:28,090.090] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:27:28,092.092] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:27:32,852.852] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:27:33,174.174] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:27:57,073.073] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:28:00,636.636] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:28:00,639.639] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:28:06,637.637] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:28:06,948.948] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:28:11,031.031] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:28:16,104.104] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:28:21,483.483] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:28:21,486.486] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:28:44,661.661] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:28:45,043.043] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:28:48,471.471] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:28:48,473.473] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:29:15,116.116] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:29:15,408.408] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:29:18,854.854] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:29:18,858.858] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:29:36,346.346] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:29:36,691.691] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:29:40,038.038] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:29:40,040.040] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:30:06,826.826] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:30:07,092.092] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:30:10,558.558] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:30:10,561.561] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:30:23,444.444] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 09:30:23,714.714] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:30:27,120.120] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:30:27,123.123] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:37:29,844.844] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-10 09:37:29,844.844] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-10 09:37:29,845.845] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:37:33,210.210] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:37:33,213.213] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:48:18,437.437] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 09:48:18,437.437] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:48:18,438.438] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 09:48:18,438.438] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:48:18,438.438] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 09:48:18,438.438] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:48:18,439.439] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:48:18,441.441] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 09:48:18,441.441] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('741c1a72-94f7-4583-b1d8-10dd591061de')}
[2024-10-10 09:48:18,443.443] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 09:48:18,443.443] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'id': UUID('741c1a72-94f7-4583-b1d8-10dd591061de')}
[2024-10-10 09:48:18,443.443] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:48:18,477.477] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:48:18] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/741c1a72-94f7-4583-b1d8-10dd591061de/delete HTTP/1.1" 200 -
[2024-10-10 09:48:59,302.302] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\task\\document_task.py', reloading
[2024-10-10 09:48:59,594.594] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:49:02,943.943] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:49:02,945.945] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:49:14,040.040] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 09:49:14,040.040] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:49:14,041.041] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 09:49:14,042.042] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:49:14,042.042] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 09:49:14,042.042] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:49:14,043.043] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:49:14,045.045] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 09:49:14,045.045] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:49:14,048.048] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 09:49:14,048.048] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00034s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 09:49:14,143.143] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 09:49:14,143.143] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00037s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 09:49:14,299.299] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:49:14,322.322] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:49:14,325.325] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 09:49:14,326.326] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00035s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 09:49:14,328.328] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 09:49:14,329.329] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00029s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 09:49:14,332.332] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 09:49:14,332.332] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'pk_1': UUID('fb0308d1-cbb7-4076-a0b7-52e51415e4de')}
[2024-10-10 09:49:14,395.395] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 09:49:14,395.395] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('fb0308d1-cbb7-4076-a0b7-52e51415e4de'), 'batch': '20241010094914838419', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 09:49:14,443.443] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:49:14,449.449] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:49:14,450.450] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 09:49:14,450.450] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'pk_1': UUID('52468e9c-2a75-47dd-8a76-aea28524155a')}
[2024-10-10 09:49:14,514.514] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 09:49:14,515.515] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:49:14] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 09:49:52,526.526] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:49:52,528.528] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 09:49:52,528.528] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('52468e9c-2a75-47dd-8a76-aea28524155a')}
[2024-10-10 09:49:52,530.530] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 09:49:52,530.530] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'id': UUID('52468e9c-2a75-47dd-8a76-aea28524155a')}
[2024-10-10 09:49:52,530.530] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:49:52,589.589] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:49:52] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/52468e9c-2a75-47dd-8a76-aea28524155a/delete HTTP/1.1" 200 -
[2024-10-10 09:51:04,965.965] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-10 09:51:05,241.241] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:51:08,783.783] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:51:08,787.787] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:51:30,361.361] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 09:51:30,361.361] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:51:30,362.362] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 09:51:30,362.362] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:51:30,363.363] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 09:51:30,363.363] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:51:30,363.363] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:51:30,365.365] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-10 09:51:30,365.365] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-10 09:51:30,516.516] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-10 09:51:30,516.516] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-10 09:51:30,921.921] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 09:51:30,921.921] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:51:30] "GET /ping HTTP/1.1" 200 -
[2024-10-10 09:51:35,399.399] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-10 09:51:35,715.715] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:51:39,253.253] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:51:39,256.256] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:52:24,142.142] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 09:52:24,142.142] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:52:24,143.143] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 09:52:24,143.143] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:52:24,143.143] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 09:52:24,143.143] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:52:24,144.144] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:52:24,145.145] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 09:52:24,145.145] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:52:24,149.149] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-10 09:52:24,149.149] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-10 09:52:24,151.151] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-10 09:52:24,151.151] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:52:24,152.152] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 09:52:24,153.153] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:52:24] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-10 09:52:27,456.456] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:52:27,456.456] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 09:52:27,456.456] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.311s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:52:27,458.458] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 09:52:27,458.458] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 09:52:27,460.460] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 09:52:27,460.460] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 09:52:27,461.461] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:52:27,481.481] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:52:27,483.483] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 09:52:27,483.483] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 09:52:27,483.483] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 09:52:27,483.483] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00029s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 09:52:27,485.485] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 09:52:27,485.485] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('55fe499a-9de8-4539-a4e3-8f1e202d2d1d')}
[2024-10-10 09:52:27,486.486] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 09:52:27,486.486] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('55fe499a-9de8-4539-a4e3-8f1e202d2d1d'), 'batch': '20241010095227381846', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 09:52:27,487.487] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:52:27,508.508] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:52:27,508.508] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 09:52:27,508.508] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('dffe63ec-d53c-4a4f-ab6b-807c7cb8a795')}
[2024-10-10 09:52:27,548.548] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 09:52:27,549.549] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:52:27] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 09:52:29,297.297] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:52:29,297.297] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 09:52:29,298.298] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.152s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:52:29,299.299] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-10 09:52:29,299.299] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.15s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-10 09:52:29,300.300] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-10 09:52:29,301.301] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.149s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:52:29,302.302] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-10 09:52:29,302.302] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'coalesce_2': 0, 'document_id_1': UUID('dffe63ec-d53c-4a4f-ab6b-807c7cb8a795')}
[2024-10-10 09:52:29,304.304] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 09:52:29,304.304] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:52:29] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-10 09:52:43,658.658] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:52:43] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 09:52:58,109.109] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-10 09:52:58,388.388] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:53:01,933.933] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:53:01,936.936] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:53:03,368.368] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-10 09:53:03,639.639] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 09:53:07,105.105] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 09:53:07,106.106] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 09:53:23,911.911] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:53:23] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 09:53:49,543.543] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 09:53:49,543.543] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:53:49,544.544] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 09:53:49,544.544] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:53:49,545.545] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 09:53:49,545.545] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 09:53:49,546.546] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:53:49,549.549] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 09:53:49,549.549] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('dffe63ec-d53c-4a4f-ab6b-807c7cb8a795')}
[2024-10-10 09:53:49,551.551] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 09:53:49,551.551] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'id': UUID('dffe63ec-d53c-4a4f-ab6b-807c7cb8a795')}
[2024-10-10 09:53:49,552.552] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:53:49,620.620] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:53:49] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/dffe63ec-d53c-4a4f-ab6b-807c7cb8a795/delete HTTP/1.1" 200 -
[2024-10-10 09:53:57,213.213] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:53:57,214.214] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 09:53:57,214.214] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:53:57,217.217] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-10 09:53:57,217.217] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-10 09:53:57,219.219] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-10 09:53:57,219.219] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:53:57,220.220] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 09:53:57,220.220] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:53:57] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-10 09:54:00,524.524] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:54:00] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 09:58:06,866.866] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:58:06,867.867] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 09:58:06,867.867] base.py -> _exec_single_context line:1908 [INFO]: [cached since 249.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 09:58:06,869.869] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 09:58:06,869.869] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 09:58:06,871.871] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 09:58:06,871.871] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 09:58:06,873.873] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:58:06,891.891] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:58:06,892.892] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 09:58:06,892.892] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 09:58:06,893.893] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 09:58:06,893.893] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 09:58:06,895.895] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 09:58:06,895.895] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('1523c29c-c4a4-4a44-8d7f-eaa8adeaf521')}
[2024-10-10 09:58:06,896.896] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 09:58:06,896.896] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('1523c29c-c4a4-4a44-8d7f-eaa8adeaf521'), 'batch': '20241010095806372963', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 09:58:06,897.897] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 09:58:06,915.915] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 09:58:06,915.915] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 09:58:06,915.915] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('6a8cb144-215a-4bb7-ac9d-7f83a0724e74')}
[2024-10-10 09:58:06,934.934] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 09:58:06,935.935] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 09:58:06] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:00:04,456.456] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:00:04,757.757] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:00:08,371.371] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:00:08,373.373] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:01:28,580.580] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 10:01:28,580.580] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:01:28,581.581] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 10:01:28,581.581] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:01:28,582.582] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 10:01:28,582.582] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:01:28,583.583] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:01:28,584.584] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:01:28,584.584] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('dffe63ec-d53c-4a4f-ab6b-807c7cb8a795')}
[2024-10-10 10:01:28,585.585] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 83, in delete_document
    self.document_service.delete_document(dataset_id, document_id)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 233, in delete_document
    raise NotFoundException("该文档不存在，请核实后重试")
internal.exception.exception.NotFoundException
[2024-10-10 10:01:28,587.587] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:01:28,587.587] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:01:28] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/dffe63ec-d53c-4a4f-ab6b-807c7cb8a795/delete HTTP/1.1" 200 -
[2024-10-10 10:01:38,082.082] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:01:38,082.082] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:01:38,082.082] base.py -> _exec_single_context line:1908 [INFO]: [cached since 9.499s ago] {'pk_1': UUID('6a8cb144-215a-4bb7-ac9d-7f83a0724e74')}
[2024-10-10 10:01:38,084.084] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:01:38,084.084] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'id': UUID('6a8cb144-215a-4bb7-ac9d-7f83a0724e74')}
[2024-10-10 10:01:38,085.085] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:01:38,147.147] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:01:38] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/6a8cb144-215a-4bb7-ac9d-7f83a0724e74/delete HTTP/1.1" 200 -
[2024-10-10 10:05:55,214.214] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:05:55,496.496] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:05:59,034.034] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:05:59,037.037] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:06:06,369.369] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 10:06:06,369.369] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:06:06,370.370] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 10:06:06,370.370] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:06:06,371.371] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 10:06:06,371.371] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:06:06,372.372] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:06:06,373.373] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:06:06,374.374] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00052s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:06:06,376.376] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:06:06,376.376] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:06:06,378.378] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:06:06,378.378] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:06:06,379.379] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:06:06,383.383] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:06:06,385.385] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:06:06,385.385] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:06:06,386.386] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:06:06,386.386] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:06:06,388.388] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:06:06,388.388] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('726d9e9e-70ff-4db1-bfc9-91941c30e085')}
[2024-10-10 10:06:06,390.390] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:06:06,390.390] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('726d9e9e-70ff-4db1-bfc9-91941c30e085'), 'batch': '20241010100606516905', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:06:06,390.390] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:06:06,397.397] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:06:06,398.398] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:06:06,398.398] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('7008996c-dfcd-451a-8fa7-229ecddf0de8')}
[2024-10-10 10:06:06,440.440] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:06:06,441.441] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:06:06] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:06:42,594.594] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:06:42,595.595] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:06:42,595.595] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('7008996c-dfcd-451a-8fa7-229ecddf0de8')}
[2024-10-10 10:06:42,597.597] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:06:42,597.597] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'id': UUID('7008996c-dfcd-451a-8fa7-229ecddf0de8')}
[2024-10-10 10:06:42,598.598] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:06:42,623.623] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:06:42] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/7008996c-dfcd-451a-8fa7-229ecddf0de8/delete HTTP/1.1" 200 -
[2024-10-10 10:08:09,066.066] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:08:09,349.349] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:08:13,014.014] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:08:13,017.017] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:10:33,052.052] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-10 10:10:33,052.052] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-10 10:10:33,054.054] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:10:36,455.455] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:10:36,457.457] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:12:36,129.129] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-10 10:12:36,129.129] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-10 10:12:36,130.130] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:12:40,680.680] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:12:40,683.683] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:21:41,206.206] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:21:41,496.496] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:21:45,345.345] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:21:45,348.348] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:23:03,097.097] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 10:23:03,097.097] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:23:03,098.098] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 10:23:03,098.098] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:23:03,099.099] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 10:23:03,099.099] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:23:03,099.099] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:23:03,101.101] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:23:03,101.101] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:23:03,103.103] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:23:03,103.103] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:23:03,104.104] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:23:03,105.105] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:23:03,106.106] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:23:03,109.109] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:23:03,111.111] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:23:03,111.111] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:23:03,113.113] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:23:03,113.113] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:23:03,114.114] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:23:03,115.115] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('ec5dde9a-b195-4be0-8f14-16f1a56c6cc9')}
[2024-10-10 10:23:03,116.116] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:23:03,116.116] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('ec5dde9a-b195-4be0-8f14-16f1a56c6cc9'), 'batch': '20241010102303257677', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:23:03,117.117] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:23:03,121.121] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:23:03,121.121] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:23:03,122.122] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('0788bbe4-a6b8-481d-83a4-de5320e329c1')}
[2024-10-10 10:23:03,167.167] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:23:03,167.167] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:23:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:23:14,386.386] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:23:14,387.387] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:23:14,387.387] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('0788bbe4-a6b8-481d-83a4-de5320e329c1')}
[2024-10-10 10:23:14,388.388] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:23:14,388.388] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'id': UUID('0788bbe4-a6b8-481d-83a4-de5320e329c1')}
[2024-10-10 10:23:14,389.389] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:23:14,408.408] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:23:14] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/0788bbe4-a6b8-481d-83a4-de5320e329c1/delete HTTP/1.1" 200 -
[2024-10-10 10:24:21,209.209] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:24:21,554.554] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:24:25,185.185] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:24:25,188.188] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:25:04,947.947] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 10:25:04,947.947] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:25:04,948.948] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 10:25:04,948.948] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:25:04,949.949] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 10:25:04,949.949] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:25:04,950.950] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:25:04,951.951] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:25:04,952.952] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:25:04,953.953] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:25:04,953.953] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:25:04,954.954] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:25:04,954.954] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:25:04,955.955] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:25:04,958.958] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:25:04,959.959] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:25:04,959.959] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:25:04,961.961] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:25:04,961.961] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:25:04,963.963] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:25:04,963.963] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('fdcfd3fd-69d9-4192-a063-f36fa1843c34')}
[2024-10-10 10:25:04,964.964] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:25:04,964.964] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('fdcfd3fd-69d9-4192-a063-f36fa1843c34'), 'batch': '20241010102504860750', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:25:04,965.965] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:25:04,969.969] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:25:04,970.970] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:25:04,970.970] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f667a1f9-d468-4521-ad72-15d6f6af6f58')}
[2024-10-10 10:25:05,010.010] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:25:05,010.010] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:25:05] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:25:14,607.607] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:25:14,608.608] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:25:14,608.608] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('f667a1f9-d468-4521-ad72-15d6f6af6f58')}
[2024-10-10 10:25:14,609.609] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:25:14,609.609] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'id': UUID('f667a1f9-d468-4521-ad72-15d6f6af6f58')}
[2024-10-10 10:25:14,610.610] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:25:14,655.655] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:25:14] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/f667a1f9-d468-4521-ad72-15d6f6af6f58/delete HTTP/1.1" 200 -
[2024-10-10 10:25:55,189.189] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:25:55,189.189] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:25:55,189.189] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.24s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:25:55,191.191] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:25:55,191.191] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.24s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:25:55,192.192] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:25:55,192.192] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.24s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:25:55,193.193] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:25:55,201.201] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:25:55,201.201] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:25:55,201.201] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.24s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:25:55,202.202] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:25:55,202.202] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.24s ago] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:25:55,202.202] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:25:55,202.202] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.24s ago] {'pk_1': UUID('6660d1aa-380c-4025-a66b-8b744821e2d6')}
[2024-10-10 10:25:55,203.203] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:25:55,203.203] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.24s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('6660d1aa-380c-4025-a66b-8b744821e2d6'), 'batch': '20241010102555679618', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:25:55,204.204] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:25:55,205.205] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:25:55,206.206] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:25:55,206.206] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.24s ago] {'pk_1': UUID('f129e0b7-8008-497e-8a79-3e0317243c23')}
[2024-10-10 10:25:55,227.227] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:25:55,228.228] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:25:55] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:26:01,707.707] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:26:01,708.708] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:26:01,708.708] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.1s ago] {'pk_1': UUID('f129e0b7-8008-497e-8a79-3e0317243c23')}
[2024-10-10 10:26:01,709.709] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:26:01,709.709] base.py -> _exec_single_context line:1908 [INFO]: [cached since 47.1s ago] {'id': UUID('f129e0b7-8008-497e-8a79-3e0317243c23')}
[2024-10-10 10:26:01,710.710] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:26:01,733.733] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:26:01] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/f129e0b7-8008-497e-8a79-3e0317243c23/delete HTTP/1.1" 200 -
[2024-10-10 10:26:16,172.172] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:26:16,541.541] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:26:20,126.126] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:26:20,129.129] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:26:45,894.894] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:26:46,166.166] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:26:49,969.969] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:26:49,973.973] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:27:06,741.741] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 10:27:06,741.741] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:27:06,742.742] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 10:27:06,742.742] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:27:06,742.742] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 10:27:06,742.742] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:27:06,743.743] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:27:06,744.744] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:27:06,744.744] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:27:06,746.746] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:27:06,747.747] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:27:06,748.748] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:27:06,748.748] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:27:06,749.749] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:27:06,752.752] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:27:06,754.754] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:27:06,754.754] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:27:06,756.756] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:27:06,756.756] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:27:06,757.757] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:27:06,757.757] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('fa350464-8212-43d1-8a24-f341daf48f1e')}
[2024-10-10 10:27:06,759.759] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:27:06,759.759] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('fa350464-8212-43d1-8a24-f341daf48f1e'), 'batch': '20241010102706510927', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:27:06,760.760] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:27:06,763.763] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:27:06,763.763] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:27:06,764.764] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00011s] {'pk_1': UUID('430b176d-fc31-4d95-b7c8-f069406df88e')}
[2024-10-10 10:27:06,796.796] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:27:06,796.796] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:27:06] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:27:15,389.389] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:27:15,389.389] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:27:15,390.390] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('430b176d-fc31-4d95-b7c8-f069406df88e')}
[2024-10-10 10:27:15,391.391] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:27:15,391.391] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'id': UUID('430b176d-fc31-4d95-b7c8-f069406df88e')}
[2024-10-10 10:27:15,392.392] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:27:15,409.409] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:27:15] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/430b176d-fc31-4d95-b7c8-f069406df88e/delete HTTP/1.1" 200 -
[2024-10-10 10:30:11,519.519] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:30:11,821.821] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:30:15,536.536] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:30:15,538.538] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:31:02,203.203] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 10:31:02,203.203] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:31:02,203.203] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 10:31:02,203.203] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:31:02,204.204] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 10:31:02,204.204] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:31:02,205.205] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:31:02,207.207] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:31:02,207.207] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:31:02,211.211] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:31:02,211.211] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00029s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:31:02,213.213] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:31:02,214.214] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:31:02,215.215] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:31:02,218.218] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:31:02,221.221] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:31:02,221.221] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:31:02,223.223] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:31:02,223.223] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:31:02,226.226] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:31:02,226.226] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('ec018b46-b27a-41fc-9d11-a7b9b9a634f7')}
[2024-10-10 10:31:02,228.228] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:31:02,229.229] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('ec018b46-b27a-41fc-9d11-a7b9b9a634f7'), 'batch': '20241010103102739395', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:31:02,230.230] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:31:02,253.253] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:31:02,254.254] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:31:02,254.254] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('38c8a471-aff8-41d8-857c-b580dee232e3')}
[2024-10-10 10:31:02,319.319] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:31:02,319.319] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:31:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:31:13,164.164] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:31:13,165.165] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:31:13,165.165] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('38c8a471-aff8-41d8-857c-b580dee232e3')}
[2024-10-10 10:31:13,167.167] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:31:13,167.167] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'id': UUID('38c8a471-aff8-41d8-857c-b580dee232e3')}
[2024-10-10 10:31:13,167.167] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:31:13,186.186] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:31:13] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/38c8a471-aff8-41d8-857c-b580dee232e3/delete HTTP/1.1" 200 -
[2024-10-10 10:31:45,120.120] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:31:45,436.436] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:31:48,915.915] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:31:48,918.918] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:32:10,325.325] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 10:32:10,326.326] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:32:10,326.326] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 10:32:10,326.326] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:32:10,327.327] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 10:32:10,327.327] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 10:32:10,327.327] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:10,329.329] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:32:10,329.329] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:32:10,331.331] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:32:10,331.331] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:32:10,333.333] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:32:10,333.333] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:32:10,334.334] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:32:10,350.350] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:10,352.352] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:32:10,352.352] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:32:10,354.354] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:32:10,354.354] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:32:10,356.356] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:32:10,356.356] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('b1c72918-80e7-4f8c-bb03-6c69471fda0a')}
[2024-10-10 10:32:10,357.357] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:32:10,357.357] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('b1c72918-80e7-4f8c-bb03-6c69471fda0a'), 'batch': '20241010103210194444', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:32:10,358.358] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:32:10,376.376] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:10,377.377] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:32:10,377.377] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('a10ca56f-877e-4023-bbbe-96f630bcd4fc')}
[2024-10-10 10:32:10,426.426] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:32:10,426.426] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:32:10] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:32:19,127.127] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:19,128.128] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:32:19,128.128] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('a10ca56f-877e-4023-bbbe-96f630bcd4fc')}
[2024-10-10 10:32:19,130.130] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:32:19,130.130] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'id': UUID('a10ca56f-877e-4023-bbbe-96f630bcd4fc')}
[2024-10-10 10:32:19,131.131] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:32:19,149.149] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:32:19] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/a10ca56f-877e-4023-bbbe-96f630bcd4fc/delete HTTP/1.1" 200 -
[2024-10-10 10:32:38,670.670] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:38,671.671] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:32:38,671.671] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.34s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:32:38,672.672] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:32:38,672.672] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.34s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:32:38,673.673] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:32:38,674.674] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.34s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:32:38,674.674] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:32:38,677.677] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:38,677.677] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:32:38,677.677] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.33s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:32:38,678.678] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:32:38,678.678] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.32s ago] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:32:38,679.679] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:32:38,679.679] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.32s ago] {'pk_1': UUID('e1980b25-5d73-4cd1-a80a-7c0de32b5e90')}
[2024-10-10 10:32:38,680.680] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:32:38,680.680] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.32s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('e1980b25-5d73-4cd1-a80a-7c0de32b5e90'), 'batch': '20241010103238461142', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:32:38,681.681] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:32:38,682.682] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:38,682.682] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:32:38,682.682] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.3s ago] {'pk_1': UUID('44dfe33e-3cad-4059-8e2c-fbbbc4aa3c5c')}
[2024-10-10 10:32:38,701.701] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:32:38,702.702] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:32:38] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:32:45,189.189] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:45,189.189] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 10:32:45,189.189] base.py -> _exec_single_context line:1908 [INFO]: [cached since 34.86s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 10:32:45,191.191] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 10:32:45,191.191] base.py -> _exec_single_context line:1908 [INFO]: [cached since 34.86s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 10:32:45,192.192] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 10:32:45,192.192] base.py -> _exec_single_context line:1908 [INFO]: [cached since 34.86s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 10:32:45,192.192] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:32:45,195.195] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:45,195.195] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 10:32:45,195.195] base.py -> _exec_single_context line:1908 [INFO]: [cached since 34.84s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 10:32:45,196.196] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 10:32:45,196.196] base.py -> _exec_single_context line:1908 [INFO]: [cached since 34.84s ago] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 10:32:45,196.196] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 10:32:45,196.196] base.py -> _exec_single_context line:1908 [INFO]: [cached since 34.84s ago] {'pk_1': UUID('5fa2bcdc-b133-4cbb-8a67-fbd9c34b63d3')}
[2024-10-10 10:32:45,197.197] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 10:32:45,197.197] base.py -> _exec_single_context line:1908 [INFO]: [cached since 34.84s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('5fa2bcdc-b133-4cbb-8a67-fbd9c34b63d3'), 'batch': '20241010103245349397', 'name': 'LLMOps 项目提示词大全.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 10:32:45,198.198] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:32:45,199.199] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:32:45,199.199] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:32:45,199.199] base.py -> _exec_single_context line:1908 [INFO]: [cached since 34.82s ago] {'pk_1': UUID('74c2b2e2-38b0-425e-bc64-e5d75e377beb')}
[2024-10-10 10:32:45,217.217] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 10:32:45,217.217] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:32:45] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 10:33:01,572.572] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:33:01,573.573] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:33:01,573.573] base.py -> _exec_single_context line:1908 [INFO]: [cached since 42.44s ago] {'pk_1': UUID('44dfe33e-3cad-4059-8e2c-fbbbc4aa3c5c')}
[2024-10-10 10:33:01,575.575] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:33:01,575.575] base.py -> _exec_single_context line:1908 [INFO]: [cached since 42.44s ago] {'id': UUID('44dfe33e-3cad-4059-8e2c-fbbbc4aa3c5c')}
[2024-10-10 10:33:01,576.576] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:33:01,643.643] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:33:01] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/44dfe33e-3cad-4059-8e2c-fbbbc4aa3c5c/delete HTTP/1.1" 200 -
[2024-10-10 10:33:03,146.146] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 10:33:03,147.147] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 10:33:03,147.147] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.02s ago] {'pk_1': UUID('74c2b2e2-38b0-425e-bc64-e5d75e377beb')}
[2024-10-10 10:33:03,148.148] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 10:33:03,149.149] base.py -> _exec_single_context line:1908 [INFO]: [cached since 44.02s ago] {'id': UUID('74c2b2e2-38b0-425e-bc64-e5d75e377beb')}
[2024-10-10 10:33:03,149.149] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 10:33:03,191.191] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:33:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/74c2b2e2-38b0-425e-bc64-e5d75e377beb/delete HTTP/1.1" 200 -
[2024-10-10 10:35:55,545.545] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:35:55,882.882] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:35:59,760.760] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:35:59,762.762] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:42:21,773.773] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-10 10:42:22,033.033] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:42:26,967.967] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:42:30,336.336] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:42:30,339.339] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:42:42,053.053] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-10 10:42:42,369.369] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:42:45,921.921] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:42:45,924.924] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:43:37,635.635] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\cache_entity.py', reloading
[2024-10-10 10:43:37,943.943] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:43:41,439.439] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:43:41,442.442] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:44:37,184.184] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 10:44:37] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 10:47:30,703.703] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\router\\router.py', reloading
[2024-10-10 10:47:31,024.024] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:47:34,360.360] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:47:34,362.362] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:47:38,148.148] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\document_handler.py', reloading
[2024-10-10 10:47:38,456.456] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:47:41,970.970] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:47:41,973.973] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:48:02,754.754] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 10:48:03,048.048] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:48:06,625.625] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:48:06,627.627] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:48:19,477.477] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:48:19,740.740] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:48:23,322.322] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:48:23,324.324] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:48:30,553.553] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 10:48:30,825.825] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:48:34,250.250] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:48:34,253.253] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 10:59:35,121.121] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\document_handler.py', reloading
[2024-10-10 10:59:35,419.419] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 10:59:38,789.789] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 10:59:38,792.792] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:00:06,536.536] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\router\\router.py', reloading
[2024-10-10 11:00:06,838.838] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:00:10,217.217] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:00:10,220.220] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:04:54,984.984] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 11:04:55,345.345] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:04:58,772.772] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:04:58,775.775] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:05:27,594.594] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\task\\document_task.py', reloading
[2024-10-10 11:05:27,876.876] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:05:31,281.281] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:05:31,284.284] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:05:57,962.962] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:05:58,231.231] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:06:01,614.614] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:06:01,617.617] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:06:07,629.629] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\task\\document_task.py', reloading
[2024-10-10 11:06:07,913.913] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:06:11,317.317] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:06:11,319.319] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:06:33,380.380] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\document_service.py', reloading
[2024-10-10 11:06:33,647.647] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:06:36,929.929] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:06:36,932.932] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:07:53,029.029] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:07:53,400.400] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:07:56,733.733] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:07:56,734.734] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:08:09,586.586] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:08:09,849.849] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:08:13,510.510] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:08:13,513.513] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:08:21,827.827] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:08:22,103.103] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:08:25,622.622] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:08:25,624.624] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:08:39,615.615] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:08:39,921.921] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:08:43,599.599] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:08:43,602.602] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:11:23,932.932] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:11:24,225.225] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:11:27,703.703] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:11:27,706.706] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:11:42,850.850] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:11:43,140.140] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:11:46,600.600] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:11:46,603.603] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:14:01,710.710] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\cache_entity.py', reloading
[2024-10-10 11:14:01,985.985] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:14:05,301.301] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:14:05,304.304] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:18:17,809.809] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:18:18,074.074] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:18:21,460.460] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:18:21,463.463] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:25:25,730.730] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 11:25:26,021.021] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:25:29,641.641] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:25:29,644.644] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:27:03,745.745] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-10 11:27:04,006.006] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 11:27:07,331.331] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 11:27:07,333.333] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 11:27:31,210.210] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:27:31] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 11:27:41,088.088] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 11:27:41,088.088] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 11:27:41,089.089] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 11:27:41,089.089] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 11:27:41,090.090] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 11:27:41,090.090] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 11:27:41,091.091] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:27:41,093.093] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 11:27:41,093.093] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 11:27:41,096.096] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 11:27:41,096.096] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 11:27:41,098.098] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 11:27:41,098.098] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 11:27:41,100.100] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:27:41,115.115] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:27:41,117.117] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 11:27:41,118.118] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 11:27:41,120.120] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 11:27:41,120.120] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 11:27:41,121.121] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 11:27:41,122.122] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'pk_1': UUID('b042f4dd-bef3-4f4e-a3c4-510f190500dd')}
[2024-10-10 11:27:41,124.124] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 11:27:41,124.124] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('b042f4dd-bef3-4f4e-a3c4-510f190500dd'), 'batch': '20241010112741566107', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 11:27:41,125.125] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:27:41,134.134] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:27:41,135.135] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 11:27:41,135.135] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('f1cf2298-5503-4734-a9ac-9c0a37c4975f')}
[2024-10-10 11:27:41,190.190] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 11:27:41,190.190] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:27:41] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 11:27:53,056.056] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:27:53] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 11:28:22,456.456] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:28:22,457.457] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 11:28:22,457.457] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('f1cf2298-5503-4734-a9ac-9c0a37c4975f')}
[2024-10-10 11:28:22,459.459] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 11:28:22,459.459] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'id': UUID('f1cf2298-5503-4734-a9ac-9c0a37c4975f')}
[2024-10-10 11:28:22,460.460] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:28:22,497.497] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:28:22] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/f1cf2298-5503-4734-a9ac-9c0a37c4975f/delete HTTP/1.1" 200 -
[2024-10-10 11:28:55,258.258] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:28:55] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 11:29:02,620.620] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:29:02,621.621] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 11:29:02,621.621] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.53s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 11:29:02,621.621] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 11:29:02,622.622] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.53s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 11:29:02,623.623] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 11:29:02,623.623] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.53s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 11:29:02,624.624] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:29:02,646.646] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:29:02,646.646] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 11:29:02,646.646] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.53s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 11:29:02,647.647] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 11:29:02,647.647] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.53s ago] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 11:29:02,648.648] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 11:29:02,648.648] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.53s ago] {'pk_1': UUID('f5dc2aee-c440-420f-8266-7b0221c083be')}
[2024-10-10 11:29:02,649.649] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 11:29:02,649.649] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.53s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('f5dc2aee-c440-420f-8266-7b0221c083be'), 'batch': '20241010112902720789', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 11:29:02,652.652] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:29:02,653.653] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:29:02,654.654] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 11:29:02,654.654] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.52s ago] {'pk_1': UUID('873b2294-b0d8-429a-adfe-ca0582874f83')}
[2024-10-10 11:29:02,688.688] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 11:29:02,688.688] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:29:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 11:29:09,848.848] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:29:09,848.848] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 11:29:09,848.848] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.76s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 11:29:09,850.850] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 11:29:09,850.850] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.75s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 11:29:09,851.851] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 11:29:09,851.851] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.75s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 11:29:09,852.852] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:29:09,854.854] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:29:09,855.855] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 11:29:09,855.855] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.74s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 11:29:09,856.856] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 11:29:09,856.856] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.74s ago] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 11:29:09,857.857] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 11:29:09,857.857] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.74s ago] {'pk_1': UUID('82692c5c-c47c-4518-a559-24a6a29b068b')}
[2024-10-10 11:29:09,858.858] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 11:29:09,858.858] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.73s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('82692c5c-c47c-4518-a559-24a6a29b068b'), 'batch': '20241010112909506796', 'name': 'LLMOps 项目提示词大全.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 11:29:09,859.859] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:29:09,860.860] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:29:09,861.861] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 11:29:09,861.861] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.73s ago] {'pk_1': UUID('88221d0d-3e4a-4bfb-98b1-df76167ef8d2')}
[2024-10-10 11:29:09,896.896] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 11:29:09,897.897] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:29:09] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 11:29:15,857.857] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:29:15,857.857] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 11:29:15,858.858] base.py -> _exec_single_context line:1908 [INFO]: [cached since 94.77s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 11:29:15,860.860] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-10 11:29:15,861.861] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-10 11:29:15,864.864] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-10 11:29:15,864.864] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 11:29:15,867.867] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-10 11:29:15,867.867] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'coalesce_2': 0, 'document_id_1': UUID('88221d0d-3e4a-4bfb-98b1-df76167ef8d2')}
[2024-10-10 11:29:15,868.868] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-10 11:29:15,868.868] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001465s ago] {'coalesce_2': 0, 'document_id_1': UUID('873b2294-b0d8-429a-adfe-ca0582874f83')}
[2024-10-10 11:29:15,873.873] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 11:29:15,873.873] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:29:15] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-10 11:29:22,529.529] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:29:22,530.530] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 11:29:22,530.530] base.py -> _exec_single_context line:1908 [INFO]: [cached since 60.07s ago] {'pk_1': UUID('873b2294-b0d8-429a-adfe-ca0582874f83')}
[2024-10-10 11:29:22,531.531] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 11:29:22,531.531] base.py -> _exec_single_context line:1908 [INFO]: [cached since 60.07s ago] {'id': UUID('873b2294-b0d8-429a-adfe-ca0582874f83')}
[2024-10-10 11:29:22,532.532] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:29:22,578.578] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:29:22] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/873b2294-b0d8-429a-adfe-ca0582874f83/delete HTTP/1.1" 200 -
[2024-10-10 11:30:03,015.015] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:30:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 11:30:10,875.875] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 11:30:10,876.876] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 11:30:10,876.876] base.py -> _exec_single_context line:1908 [INFO]: [cached since 108.4s ago] {'pk_1': UUID('88221d0d-3e4a-4bfb-98b1-df76167ef8d2')}
[2024-10-10 11:30:10,877.877] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 11:30:10,877.877] base.py -> _exec_single_context line:1908 [INFO]: [cached since 108.4s ago] {'id': UUID('88221d0d-3e4a-4bfb-98b1-df76167ef8d2')}
[2024-10-10 11:30:10,878.878] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 11:30:10,918.918] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:30:10] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/88221d0d-3e4a-4bfb-98b1-df76167ef8d2/delete HTTP/1.1" 200 -
[2024-10-10 11:30:19,957.957] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 11:30:19] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 15:43:26,647.647] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 15:43:27,095.095] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 15:43:50,267.267] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 15:45:16,886.886] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 15:48:01,053.053] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 16:51:13,099.099] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 16:51:16,590.590] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 16:51:16,592.592] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:07:50,618.618] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:07:50,884.884] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:07:54,438.438] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:07:54,440.440] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:08:08,485.485] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:08:08,767.767] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:08:12,167.167] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:08:12,170.170] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:08:16,946.946] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:08:17,253.253] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:08:20,638.638] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:08:20,640.640] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:08:31,181.181] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:08:31,473.473] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:08:34,936.936] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:08:34,939.939] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:09:39,251.251] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:09:39,505.505] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:09:42,803.803] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:09:42,806.806] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:09:46,447.447] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:09:46,712.712] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:09:50,431.431] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:09:50,434.434] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:11:16,423.423] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:11:16,723.723] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:11:20,172.172] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:11:20,174.174] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:11:36,440.440] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:11:36,704.704] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:11:40,053.053] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:11:40,056.056] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:12:26,264.264] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:12:26,564.564] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:12:29,968.968] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:12:29,970.970] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:12:46,879.879] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:12:46] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 17:12:51,324.324] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:12:51,324.324] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:12:51,325.325] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:12:51,325.325] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:12:51,325.325] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:12:51,325.325] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:12:51,326.326] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:12:51,327.327] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 17:12:51,327.327] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 17:12:51,329.329] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 17:12:51,329.329] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 17:12:51,330.330] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 17:12:51,330.330] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 17:12:51,331.331] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:12:51,334.334] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:12:51,336.336] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 17:12:51,336.336] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 17:12:51,338.338] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 17:12:51,338.338] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 17:12:51,339.339] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 17:12:51,339.339] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('7b9d42d7-260d-44f9-8ff6-cc295dc08740')}
[2024-10-10 17:12:51,340.340] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 17:12:51,341.341] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('7b9d42d7-260d-44f9-8ff6-cc295dc08740'), 'batch': '20241010171251473067', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 17:12:51,341.341] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:12:51,345.345] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:12:51,346.346] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:12:51,346.346] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00011s] {'pk_1': UUID('519f7eae-8069-403f-b519-482da01239d7')}
[2024-10-10 17:12:51,374.374] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:12:51,374.374] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:12:51] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 17:13:02,733.733] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:13:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 17:13:23,008.008] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:13:23,009.009] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:13:23,009.009] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('519f7eae-8069-403f-b519-482da01239d7')}
[2024-10-10 17:13:23,011.011] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 17:13:23,011.011] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'id': UUID('519f7eae-8069-403f-b519-482da01239d7')}
[2024-10-10 17:13:23,011.011] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:13:23,029.029] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:13:23] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/519f7eae-8069-403f-b519-482da01239d7/delete HTTP/1.1" 200 -
[2024-10-10 17:13:47,496.496] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:13:47,871.871] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:13:51,453.453] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:13:51,455.455] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:15:55,660.660] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:15:55,952.952] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:15:59,432.432] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:15:59,435.435] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:18:19,724.724] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:18:19,997.997] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:18:23,399.399] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:18:23,402.402] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:18:32,796.796] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:18:33,068.068] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:19:00,634.634] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:19:04,126.126] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:19:04,128.128] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:20:30,269.269] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:20:30,537.537] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:20:33,948.948] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:20:33,950.950] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:20:39,944.944] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:20:40,215.215] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:20:43,609.609] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:20:43,611.611] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:21:30,993.993] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:21:31,330.330] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:21:34,875.875] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:21:34,878.878] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:22:19,831.831] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:22:20,082.082] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:23:22,675.675] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:24:22,150.150] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:24:25,529.529] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:24:25,532.532] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:26:44,145.145] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:26:44,460.460] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:26:48,424.424] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:26:48,427.427] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:26:50,963.963] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:26:51,207.207] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:26:55,031.031] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:26:55,033.033] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:32:37,016.016] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:32:37,295.295] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:32:40,826.826] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:32:40,829.829] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:33:16,642.642] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:33:16,888.888] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:33:20,212.212] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:33:20,215.215] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:33:36,529.529] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:33:36,792.792] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:33:40,135.135] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:33:40,138.138] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:33:48,438.438] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:33:48,700.700] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:33:52,181.181] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:33:52,184.184] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:33:54,736.736] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:33:55,023.023] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:33:58,549.549] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:33:58,552.552] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:34:33,208.208] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:34:33,455.455] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:34:37,083.083] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:34:37,086.086] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:35:00,232.232] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:35:00,497.497] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:35:04,100.100] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:35:04,103.103] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:35:07,886.886] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:35:08,181.181] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:35:12,185.185] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:35:12,188.188] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:35:14,772.772] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:35:15,085.085] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:35:18,693.693] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:35:18,695.695] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:35:22,402.402] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:35:22,657.657] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:35:26,060.060] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:35:26,063.063] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:35:48,218.218] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:35:48,218.218] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:35:48,219.219] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:35:48,219.219] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:35:48,219.219] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:35:48,219.219] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:35:48,220.220] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:35:48,221.221] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 17:35:48,221.221] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 17:35:48,224.224] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 17:35:48,224.224] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 17:35:48,226.226] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 17:35:48,226.226] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 17:35:48,227.227] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:35:48,240.240] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:35:48,242.242] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 17:35:48,242.242] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 17:35:48,243.243] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 17:35:48,243.243] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 17:35:48,245.245] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 17:35:48,245.245] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('a90c8534-f282-4000-934c-0a33977a9246')}
[2024-10-10 17:35:48,246.246] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 17:35:48,247.247] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('a90c8534-f282-4000-934c-0a33977a9246'), 'batch': '20241010173548218361', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 17:35:48,247.247] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:35:48,251.251] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:35:48,252.252] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:35:48,252.252] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00011s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:35:48,280.280] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:35:48,281.281] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:35:48] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 17:36:50,409.409] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:36:50,410.410] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:36:50,410.410] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 17:36:50,411.411] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 77, in update_document_enabled
    self.document_service.update_document_enabled(dataset_id, document_id, req.enabled.data)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 194, in update_document_enabled
    raise NotFoundException("该文档不存在，请核实后重试")
internal.exception.exception.NotFoundException
[2024-10-10 17:36:50,413.413] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:36:50,414.414] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:36:50] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7/enabled HTTP/1.1" 200 -
[2024-10-10 17:37:04,127.127] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:37:04,127.127] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:37:04,127.127] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.72s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:37:04,131.131] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:37:04,132.132] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 37, 4, 130203), 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:37:04,132.132] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:37:04,135.135] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:37:04,136.136] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:37:04,136.136] base.py -> _exec_single_context line:1908 [INFO]: [cached since 75.88s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:37:04,171.171] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:37:04,172.172] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:37:04] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:37:22,302.302] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:37:22,575.575] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:37:26,145.145] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:37:26,148.148] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:37:32,261.261] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:37:32,261.261] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:37:32,261.261] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:37:32,262.262] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:37:32,262.262] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:37:32,262.262] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:37:32,263.263] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:37:32,265.265] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:37:32,265.265] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:37:32,266.266] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 77, in update_document_enabled
    self.document_service.update_document_enabled(dataset_id, document_id, req.enabled.data)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 204, in update_document_enabled
    raise FailException(f"文档状态修改错误，当前已是{'启用' if enabled else '禁用'}状态")
internal.exception.exception.FailException
[2024-10-10 17:37:32,267.267] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:37:32,268.268] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:37:32] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:37:42,095.095] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:37:42,095.095] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:37:42,096.096] base.py -> _exec_single_context line:1908 [INFO]: [cached since 9.831s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:37:42,098.098] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 77, in update_document_enabled
    self.document_service.update_document_enabled(dataset_id, document_id, req.enabled.data)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 210, in update_document_enabled
    raise FailException("当前文档正在修改启用状态，请稍后再次尝试")
internal.exception.exception.FailException
[2024-10-10 17:37:42,099.099] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:37:42,099.099] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:37:42] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:38:21,750.750] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:38:21,750.750] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:38:21,751.751] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.49s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:38:21,753.753] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:38:21,753.753] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'enabled': True, 'disabled_at': None, 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:38:21,754.754] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:38:21,764.764] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:38:21,765.765] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:38:21,765.765] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:38:21,804.804] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:38:21,804.804] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:38:21] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:38:30,397.397] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:38:30,670.670] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:38:34,188.188] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:38:34,190.190] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:39:01,581.581] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:39:01,581.581] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:39:01,582.582] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:39:01,582.582] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:39:01,583.583] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:39:01,583.583] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:39:01,584.584] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:39:01,585.585] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:39:01,585.585] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:39:01,588.588] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:39:01,588.588] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 39, 1, 587666), 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:39:01,589.589] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:39:01,598.598] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:39:01,599.599] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:39:01,600.600] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:39:01,659.659] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:39:01,659.659] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:39:01] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:39:22,589.589] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:39:22,589.589] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:39:22,589.589] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:39:22,591.591] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:39:22,591.591] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21s ago] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 39, 22, 591914), 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:39:22,592.592] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:39:22,594.594] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:39:22,594.594] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:39:22,594.594] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:39:22,610.610] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:39:22,611.611] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:39:22] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:39:42,288.288] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:39:42,572.572] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:39:46,055.055] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:39:46,057.057] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:40:01,203.203] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:40:01,204.204] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:40:01,204.204] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:40:01,205.205] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:40:01,205.205] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:40:01,205.205] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:40:01,206.206] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:40:01,209.209] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:40:01,209.209] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:40:01,214.214] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:40:01,214.214] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 40, 1, 212067), 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:40:01,214.214] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:40:01,228.228] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:40:01,230.230] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:40:01,230.230] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:40:01,305.305] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:40:01,305.305] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:40:01] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:40:31,173.173] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:40:31,444.444] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:40:34,792.792] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:40:34,794.794] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:40:50,915.915] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:40:50,915.915] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:40:50,916.916] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:40:50,916.916] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:40:50,917.917] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:40:50,917.917] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:40:50,917.917] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:40:50,918.918] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:40:50,918.918] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:40:50,919.919] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 77, in update_document_enabled
    self.document_service.update_document_enabled(dataset_id, document_id, req.enabled.data)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 204, in update_document_enabled
    raise FailException(f"文档状态修改错误，当前已是{'启用' if enabled else '禁用'}状态")
internal.exception.exception.FailException
[2024-10-10 17:40:50,920.920] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:40:50,921.921] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:40:50] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:40:54,868.868] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:40:54,868.868] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:40:54,868.868] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.95s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:40:54,872.872] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:40:54,872.872] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'enabled': True, 'disabled_at': None, 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:40:54,873.873] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:40:54,883.883] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:40:54,884.884] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:40:54,885.885] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:40:54,944.944] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:40:54,945.945] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:40:54] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:41:06,087.087] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:41:06,526.526] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:41:10,088.088] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:41:10,090.090] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:41:51,448.448] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:41:51,709.709] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:41:55,089.089] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:41:55,091.091] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:42:42,236.236] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:42:42,493.493] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:42:45,872.872] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:42:45,876.876] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:42:58,884.884] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:42:58,884.884] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:42:58,885.885] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:42:58,885.885] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:42:58,885.885] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:42:58,885.885] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:42:58,885.885] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:42:58,887.887] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:42:58,887.887] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:42:58,890.890] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:42:58,890.890] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'enabled': True, 'disabled_at': None, 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:42:58,890.890] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:42:58,896.896] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:42:58,897.897] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:42:58,897.897] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:42:58,930.930] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:42:58,930.930] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:42:58] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:43:08,554.554] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:43:08,554.554] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:43:08,554.554] base.py -> _exec_single_context line:1908 [INFO]: [cached since 9.667s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:43:08,555.555] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 77, in update_document_enabled
    self.document_service.update_document_enabled(dataset_id, document_id, req.enabled.data)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 204, in update_document_enabled
    raise FailException(f"文档状态修改错误，当前已是{'启用' if enabled else '禁用'}状态")
internal.exception.exception.FailException
[2024-10-10 17:43:08,556.556] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:43:08,557.557] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:43:08] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:43:19,887.887] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:43:19,887.887] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:43:19,887.887] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:43:19,889.889] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:43:19,889.889] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21s ago] {'enabled': True, 'disabled_at': None, 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:43:19,889.889] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:43:19,892.892] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:43:19,892.892] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:43:19,892.892] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:43:19,918.918] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:43:19,919.919] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:43:19] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:44:40,620.620] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:44:40,886.886] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:44:44,393.393] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:44:44,395.395] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:45:05,578.578] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:45:05,578.578] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:45:05,579.579] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:45:05,579.579] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:45:05,580.580] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:45:05,580.580] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:45:05,580.580] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:45:05,584.584] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:45:05,584.584] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:45:05,588.588] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:45:05,588.588] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'enabled': True, 'disabled_at': None, 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:45:05,589.589] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:45:05,601.601] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:45:05,602.602] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:45:05,602.602] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:45:05,659.659] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:45:05,660.660] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:45:05] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:45:21,679.679] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:45:21,679.679] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:45:21,679.679] base.py -> _exec_single_context line:1908 [INFO]: [cached since 16.1s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:45:21,681.681] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:45:21,681.681] base.py -> _exec_single_context line:1908 [INFO]: [cached since 16.09s ago] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 45, 21, 681389), 'document_id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:45:21,681.681] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:45:21,683.683] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:45:21,683.683] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:45:21,683.683] base.py -> _exec_single_context line:1908 [INFO]: [cached since 16.08s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:45:21,698.698] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:45:21,699.699] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:45:21] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/enabled HTTP/1.1" 200 -
[2024-10-10 17:46:00,723.723] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:46:00,723.723] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:46:00,724.724] base.py -> _exec_single_context line:1908 [INFO]: [cached since 55.14s ago] {'pk_1': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:46:00,725.725] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 17:46:00,726.726] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'id': UUID('73a503c3-579f-42c7-bc61-9f6c9ef7c957')}
[2024-10-10 17:46:00,726.726] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:46:00,763.763] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:46:00] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/73a503c3-579f-42c7-bc61-9f6c9ef7c957/delete HTTP/1.1" 200 -
[2024-10-10 17:46:09,315.315] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:46:09,316.316] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 17:46:09,316.316] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 17:46:09,318.318] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 17:46:09,318.318] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 17:46:09,321.321] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 17:46:09,321.321] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 17:46:09,322.322] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:46:09,325.325] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:46:09,325.325] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 17:46:09,326.326] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 17:46:09,327.327] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 17:46:09,327.327] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 17:46:09,328.328] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 17:46:09,328.328] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('dc7f1544-4a55-4bf9-b0b9-1a96b4c01121')}
[2024-10-10 17:46:09,330.330] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 17:46:09,330.330] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('dc7f1544-4a55-4bf9-b0b9-1a96b4c01121'), 'batch': '20241010174609258363', 'name': 'LLMOps 项目提示词大全.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 17:46:09,330.330] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:46:09,332.332] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:46:09,332.332] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:46:09,332.332] base.py -> _exec_single_context line:1908 [INFO]: [cached since 63.73s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:46:09,360.360] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:46:09,361.361] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:46:09] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 17:46:14,923.923] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:46:14] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-10 17:46:30,457.457] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:46:30,457.457] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:46:30,457.457] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.87s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:46:30,459.459] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:46:30,459.459] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.87s ago] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 46, 30, 459683), 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:46:30,460.460] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:46:30,463.463] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:46:30,464.464] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:46:30,464.464] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.86s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:46:30,497.497] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:46:30,498.498] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:46:30] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:47:17,561.561] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 17:47:17,862.862] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:47:21,278.278] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:47:21,280.280] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:47:30,483.483] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:47:30,484.484] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:47:30,484.484] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:47:30,484.484] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:47:30,485.485] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:47:30,485.485] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:47:30,486.486] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:47:30,487.487] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 17:47:30,488.488] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 17:47:30,491.491] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-10 17:47:30,491.491] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-10 17:47:30,493.493] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-10 17:47:30,493.493] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 17:47:30,495.495] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-10 17:47:30,495.495] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'coalesce_2': 0, 'document_id_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:47:30,496.496] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:47:30,496.496] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:47:30] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-10 17:47:39,655.655] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:47:39,656.656] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:47:39,656.656] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:47:39,659.659] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:47:39,659.659] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'enabled': True, 'disabled_at': None, 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:47:39,660.660] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:47:39,666.666] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:47:39,666.666] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:47:39,666.666] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:47:39,694.694] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:47:39,695.695] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:47:39] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:48:17,393.393] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:48:17,393.393] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:48:17,394.394] base.py -> _exec_single_context line:1908 [INFO]: [cached since 37.74s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:48:17,395.395] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:48:17,396.396] base.py -> _exec_single_context line:1908 [INFO]: [cached since 37.74s ago] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 48, 17, 395745), 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:48:17,396.396] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:48:17,399.399] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:48:17,400.400] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:48:17,400.400] base.py -> _exec_single_context line:1908 [INFO]: [cached since 37.73s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:48:17,445.445] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:48:17,445.445] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:48:17] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:49:26,042.042] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:49:26,042.042] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:49:26,042.042] base.py -> _exec_single_context line:1908 [INFO]: [cached since 106.4s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:49:26,043.043] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:49:26,044.044] base.py -> _exec_single_context line:1908 [INFO]: [cached since 106.4s ago] {'enabled': True, 'disabled_at': None, 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:49:26,044.044] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:49:26,058.058] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:49:26,058.058] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:49:26,058.058] base.py -> _exec_single_context line:1908 [INFO]: [cached since 106.4s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:49:26,087.087] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:49:26,088.088] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:49:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:49:43,286.286] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:49:43,286.286] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 17:49:43,286.286] base.py -> _exec_single_context line:1908 [INFO]: [cached since 132.8s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 17:49:43,288.288] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 17:49:43,288.288] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 17:49:43,290.290] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 17:49:43,290.290] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 17:49:43,291.291] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:49:43,294.294] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:49:43,295.295] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 17:49:43,295.295] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 17:49:43,296.296] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 17:49:43,296.296] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 17:49:43,298.298] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 17:49:43,298.298] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('2359a90d-c5e4-4db7-8c2b-0257352d26af')}
[2024-10-10 17:49:43,299.299] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 17:49:43,299.299] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('2359a90d-c5e4-4db7-8c2b-0257352d26af'), 'batch': '20241010174943647786', 'name': 'LLMOps 项目提示词大全.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 17:49:43,300.300] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:49:43,301.301] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:49:43,301.301] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:49:43,302.302] base.py -> _exec_single_context line:1908 [INFO]: [cached since 123.6s ago] {'pk_1': UUID('5219ed4b-38d2-4ea4-8ade-867c3ec8998d')}
[2024-10-10 17:49:43,317.317] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:49:43,317.317] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:49:43] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 17:50:13,276.276] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:50:13,277.277] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:50:13,277.277] base.py -> _exec_single_context line:1908 [INFO]: [cached since 153.6s ago] {'pk_1': UUID('5219ed4b-38d2-4ea4-8ade-867c3ec8998d')}
[2024-10-10 17:50:13,278.278] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-10 17:50:13,278.278] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id': UUID('5219ed4b-38d2-4ea4-8ade-867c3ec8998d')}
[2024-10-10 17:50:13,279.279] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:50:13,310.310] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:50:13] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/5219ed4b-38d2-4ea4-8ade-867c3ec8998d/delete HTTP/1.1" 200 -
[2024-10-10 17:50:52,671.671] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:50:52,671.671] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:50:52,671.671] base.py -> _exec_single_context line:1908 [INFO]: [cached since 193s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:50:52,673.673] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:50:52,673.673] base.py -> _exec_single_context line:1908 [INFO]: [cached since 193s ago] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 50, 52, 672680), 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:50:52,673.673] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:50:52,676.676] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:50:52,676.676] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:50:52,676.676] base.py -> _exec_single_context line:1908 [INFO]: [cached since 193s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:50:52,702.702] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:50:52,703.703] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:50:52] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:51:23,329.329] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:51:23,614.614] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:51:27,022.022] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:51:27,024.024] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:51:38,853.853] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:51:38,853.853] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:51:38,854.854] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:51:38,854.854] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:51:38,854.854] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:51:38,854.854] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:51:38,854.854] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:51:38,856.856] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:51:38,856.856] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:51:38,859.859] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:51:38,859.859] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'enabled': True, 'disabled_at': None, 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:51:38,860.860] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:51:38,865.865] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:51:38,866.866] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:51:38,866.866] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:51:38,905.905] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:51:38,905.905] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:51:38] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:51:48,217.217] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:51:48,217.217] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:51:48,217.217] base.py -> _exec_single_context line:1908 [INFO]: [cached since 9.361s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:51:48,219.219] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:51:48,219.219] base.py -> _exec_single_context line:1908 [INFO]: [cached since 9.36s ago] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 51, 48, 218363), 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:51:48,219.219] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:51:48,233.233] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:51:48,233.233] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:51:48,233.233] base.py -> _exec_single_context line:1908 [INFO]: [cached since 9.368s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:51:48,260.260] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:51:48,261.261] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:51:48] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:54:08,555.555] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:54:08,555.555] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:54:08,555.555] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.7s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:54:08,557.557] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:54:08,557.557] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.7s ago] {'enabled': True, 'disabled_at': None, 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:54:08,557.557] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:54:08,560.560] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:54:08,560.560] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:54:08,560.560] base.py -> _exec_single_context line:1908 [INFO]: [cached since 149.7s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:54:08,576.576] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:54:08,577.577] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:54:08] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:54:42,199.199] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:54:42,484.484] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:54:45,790.790] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:54:45,793.793] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:55:03,161.161] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:55:03,161.161] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:55:03,162.162] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:55:03,162.162] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:55:03,162.162] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:55:03,162.162] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:55:03,163.163] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:55:03,164.164] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:55:03,164.164] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:55:03,167.167] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:55:03,167.167] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 55, 3, 166622), 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:55:03,168.168] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:55:03,173.173] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:55:03,174.174] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:55:03,174.174] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:55:03,208.208] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:55:03,208.208] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:55:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:56:14,399.399] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\keyword_table_service.py', reloading
[2024-10-10 17:56:14,700.700] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 17:56:18,038.038] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 17:56:18,041.041] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 17:56:26,951.951] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 17:56:26,951.951] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:56:26,951.951] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 17:56:26,951.951] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:56:26,951.951] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 17:56:26,951.951] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 17:56:26,952.952] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:56:26,954.954] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:56:26,954.954] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:56:26,955.955] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 77, in update_document_enabled
    self.document_service.update_document_enabled(dataset_id, document_id, req.enabled.data)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 204, in update_document_enabled
    raise FailException(f"文档状态修改错误，当前已是{'启用' if enabled else '禁用'}状态")
internal.exception.exception.FailException
[2024-10-10 17:56:26,956.956] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:56:26,956.956] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:56:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:56:29,864.864] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:56:29,864.864] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:56:29,864.864] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.91s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:56:29,867.867] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:56:29,867.867] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'enabled': True, 'disabled_at': None, 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:56:29,868.868] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:56:29,876.876] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:56:29,877.877] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:56:29,878.878] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:56:29,936.936] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:56:29,937.937] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:56:29] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 17:56:49,453.453] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:56:49,453.453] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:56:49,453.453] base.py -> _exec_single_context line:1908 [INFO]: [cached since 22.5s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:56:49,455.455] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET enabled=%(enabled)s, disabled_at=%(disabled_at)s WHERE document.id = %(document_id)s::UUID
[2024-10-10 17:56:49,455.455] base.py -> _exec_single_context line:1908 [INFO]: [cached since 19.59s ago] {'enabled': False, 'disabled_at': datetime.datetime(2024, 10, 10, 17, 56, 49, 454427), 'document_id': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:56:49,455.455] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 17:56:49,458.458] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 17:56:49,458.458] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 17:56:49,458.458] base.py -> _exec_single_context line:1908 [INFO]: [cached since 19.58s ago] {'pk_1': UUID('fc0e0fd4-a0a8-4ce6-820f-d40692678f0e')}
[2024-10-10 17:56:49,473.473] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 17:56:49,473.473] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 17:56:49] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/fc0e0fd4-a0a8-4ce6-820f-d40692678f0e/enabled HTTP/1.1" 200 -
[2024-10-10 19:41:24,163.163] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 19:41:24,490.490] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 19:41:28,098.098] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 19:41:28,101.101] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 19:41:52,001.001] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 19:41:52,283.283] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 19:41:55,788.788] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 19:41:55,791.791] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 19:42:08,691.691] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 19:42:08,953.953] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 19:42:12,336.336] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 19:42:12,339.339] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 19:42:26,373.373] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\indexing_service.py', reloading
[2024-10-10 19:42:26,632.632] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 19:42:30,121.121] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 19:42:30,123.123] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-10 19:48:34,536.536] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-10 19:48:34,536.536] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 19:48:34,537.537] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-10 19:48:34,537.537] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 19:48:34,537.537] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-10 19:48:34,537.537] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-10 19:48:34,538.538] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 19:48:34,539.539] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-10 19:48:34,539.539] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-10 19:48:34,541.541] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-10 19:48:34,541.541] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': 'a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'}
[2024-10-10 19:48:34,543.543] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-10 19:48:34,543.543] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-10 19:48:34,557.557] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 19:48:34,629.629] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 19:48:34,631.631] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-10 19:48:34,631.631] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-10 19:48:34,633.633] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-10 19:48:34,633.633] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7')}
[2024-10-10 19:48:34,635.635] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-10 19:48:34,635.635] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('a6588940-f256-461c-9f79-7843f051696d')}
[2024-10-10 19:48:34,636.636] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-10 19:48:34,636.636] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('a3721c3d-9c1e-4ea6-9ac2-f083af0b96b7'), 'process_rule_id': UUID('a6588940-f256-461c-9f79-7843f051696d'), 'batch': '20241010194834187928', 'name': 'LLMOps 项目提示词大全.md', 'position': 2, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-10 19:48:34,637.637] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-10 19:48:34,653.653] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-10 19:48:34,653.653] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-10 19:48:34,653.653] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('5af3a5aa-0bea-4202-8df5-f63767295f8e')}
[2024-10-10 19:48:34,682.682] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-10 19:48:34,683.683] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [10/Oct/2024 19:48:34] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-10 23:32:54,587.587] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\segment_handler.py', reloading
[2024-10-10 23:32:54,904.904] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-10 23:33:04,642.642] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-10 23:33:04,647.647] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
