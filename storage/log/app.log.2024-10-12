[2024-10-12 00:23:15,369.369] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:23:19,405.405] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:23:19,407.407] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:23:23,068.068] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\segment_handler.py', reloading
[2024-10-12 00:23:23,383.383] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:23:27,562.562] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:23:27,564.564] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:24:09,273.273] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\segment_schema.py', reloading
[2024-10-12 00:24:09,540.540] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:24:13,524.524] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:24:13,527.527] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:24:25,232.232] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\segment_schema.py', reloading
[2024-10-12 00:24:25,552.552] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:24:37,444.444] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:24:41,437.437] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:24:41,440.440] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:24:57,778.778] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-12 00:24:58,076.076] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:25:02,061.061] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:25:02,064.064] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:31:36,948.948] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\segment_handler.py', reloading
[2024-10-12 00:31:37,223.223] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:31:41,124.124] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:31:41,126.126] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:32:21,782.782] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\router\\router.py', reloading
[2024-10-12 00:32:22,070.070] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:32:26,064.064] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:32:26,067.067] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:36:32,234.234] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\segment_schema.py', reloading
[2024-10-12 00:36:32,524.524] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:36:36,396.396] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:36:36,399.399] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:37:25,878.878] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\segment_handler.py', reloading
[2024-10-12 00:37:26,157.157] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:37:30,110.110] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:37:30,112.112] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:43:19,855.855] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-12 00:43:20,151.151] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:43:24,143.143] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:43:24,145.145] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:51:59,987.987] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-12 00:52:00,305.305] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:52:04,327.327] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:52:04,333.333] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:52:09,210.210] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-12 00:52:09,570.570] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:52:13,567.567] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:52:13,569.569] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:55:01,487.487] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-12 00:55:01,779.779] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:55:05,923.923] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:55:05,925.925] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:56:41,719.719] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\segment_service.py', reloading
[2024-10-12 00:56:42,055.055] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 00:56:46,474.474] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 00:56:46,477.477] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 00:57:22,344.344] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 00:57:22,344.344] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 00:57:22,345.345] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 00:57:22,346.346] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 00:57:22,346.346] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 00:57:22,346.346] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 00:57:22,347.347] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 00:57:22,350.350] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 00:57:22,350.350] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:22,355.355] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(max(segment.position), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-12 00:57:22,355.355] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'coalesce_2': 0, 'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:22,357.357] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, keywords, hash, enabled, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(keywords)s, %(hash)s, %(enabled)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.hit_count, segment.error, segment.updated_at, segment.created_at
[2024-10-12 00:57:22,357.357] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('c4c940e9-42af-4150-9141-814b1d37efce'), 'node_id': UUID('1cc684db-5ba2-481e-9378-47d95206b5ec'), 'position': 21, 'content': '慕课网，程序员的梦工厂', 'character_count': 11, 'token_count': 16, 'keywords': '["\\u6155\\u8bfe\\u7f51", "\\u7a0b\\u5e8f\\u5458", "\\u68a6\\u5de5\\u5382"]', 'hash': '8a3aa27bd72d41601fba5ca067a30c1f3864b47b99989b1a6561a3ec1a672287', 'enabled': True, 'disabled_at': None, 'processing_started_at': datetime.datetime(2024, 10, 12, 0, 57, 22, 356050), 'indexing_completed_at': datetime.datetime(2024, 10, 12, 0, 57, 22, 356050), 'completed_at': datetime.datetime(2024, 10, 12, 0, 57, 22, 356050), 'stopped_at': None, 'status': <SegmentStatus.COMPLETED: 'completed'>}
[2024-10-12 00:57:22,359.359] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 00:57:22,361.361] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 00:57:22,362.362] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 00:57:22,363.363] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:22,365.365] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-12 00:57:22,366.366] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00034s] {'pk_1': UUID('23569dd3-2009-4ad5-ad84-e11ecc8aef5b')}
[2024-10-12 00:57:24,272.272] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.character_count), %(coalesce_2)s) AS coalesce_1, coalesce(sum(segment.token_count), %(coalesce_4)s) AS coalesce_3 
FROM segment 
 LIMIT %(param_1)s
[2024-10-12 00:57:24,272.272] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'coalesce_2': 0, 'coalesce_4': 0, 'param_1': 1}
[2024-10-12 00:57:24,274.274] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET character_count=%(character_count)s, token_count=%(token_count)s WHERE document.id = %(document_id)s::UUID
[2024-10-12 00:57:24,274.274] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'character_count': 12248, 'token_count': 6715, 'document_id': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:24,275.275] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 00:57:24,278.278] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 00:57:24,278.278] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 00:57:24,278.278] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.916s ago] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:24,279.279] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-12 00:57:24,279.279] base.py -> _exec_single_context line:1908 [INFO]: [cached since 1.914s ago] {'pk_1': UUID('23569dd3-2009-4ad5-ad84-e11ecc8aef5b')}
[2024-10-12 00:57:24,282.282] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-12 00:57:24,282.282] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 00:57:24,284.284] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.keywords AS segment_keywords 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-12 00:57:24,284.284] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'id_1_1': UUID('23569dd3-2009-4ad5-ad84-e11ecc8aef5b')}
[2024-10-12 00:57:24,286.286] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-12 00:57:24,286.286] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'keyword_table': '{"AI": ["7c8c4937-f194-43ec-bb33-cd66e89d4b7c", "c79bc242-9df4-4263-8aa7-50493487a9e8", "5c4d53e7-c0e5-41b6-88f1-6572e14c7c15", "a6dda528-35ca-400c-9 ... (7070 characters truncated) ... e0a4ff35590b"], "\\u6155\\u8bfe\\u7f51": ["23569dd3-2009-4ad5-ad84-e11ecc8aef5b"], "\\u68a6\\u5de5\\u5382": ["23569dd3-2009-4ad5-ad84-e11ecc8aef5b"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-12 00:57:24,287.287] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 00:57:24,289.289] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 00:57:24] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/c4c940e9-42af-4150-9141-814b1d37efce/segments HTTP/1.1" 200 -
[2024-10-12 00:57:43,722.722] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 00:57:43,722.722] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 00:57:43,722.722] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.37s ago] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:43,725.725] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 00:57:43,725.725] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce'), 'param_1': 20, 'param_2': 0}
[2024-10-12 00:57:43,729.729] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-12 00:57:43,730.730] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:43,734.734] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 00:57:43,752.752] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 00:57:43] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/c4c940e9-42af-4150-9141-814b1d37efce/segments?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-12 00:57:55,471.471] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 00:57:55,471.471] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 00:57:55,471.471] base.py -> _exec_single_context line:1908 [INFO]: [cached since 33.12s ago] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:55,473.473] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 00:57:55,473.473] base.py -> _exec_single_context line:1908 [INFO]: [cached since 11.75s ago] {'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce'), 'param_1': 20, 'param_2': 20}
[2024-10-12 00:57:55,474.474] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-12 00:57:55,474.474] base.py -> _exec_single_context line:1908 [INFO]: [cached since 11.75s ago] {'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:57:55,476.476] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 00:57:55,476.476] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 00:57:55] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/c4c940e9-42af-4150-9141-814b1d37efce/segments?current_page=2&page_size=20 HTTP/1.1" 200 -
[2024-10-12 00:58:44,256.256] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 00:58:44,256.256] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 00:58:44,256.256] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.91s ago] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:58:44,258.258] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(max(segment.position), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-12 00:58:44,258.258] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.9s ago] {'coalesce_2': 0, 'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:58:44,259.259] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO segment (account_id, dataset_id, document_id, node_id, position, content, character_count, token_count, keywords, hash, enabled, disabled_at, processing_started_at, indexing_completed_at, completed_at, stopped_at, status) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(document_id)s::UUID, %(node_id)s::UUID, %(position)s, %(content)s, %(character_count)s, %(token_count)s, %(keywords)s, %(hash)s, %(enabled)s, %(disabled_at)s, %(processing_started_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(status)s) RETURNING segment.id, segment.hit_count, segment.error, segment.updated_at, segment.created_at
[2024-10-12 00:58:44,259.259] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.9s ago] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'document_id': UUID('c4c940e9-42af-4150-9141-814b1d37efce'), 'node_id': UUID('af831280-0cfe-45fe-8f68-0800c1214f84'), 'position': 22, 'content': '慕课网，程序员的梦工厂', 'character_count': 11, 'token_count': 16, 'keywords': '["\\u6155\\u8bfe\\u7f51", "\\u7a0b\\u5e8f\\u5458", "\\u68a6\\u5de5\\u5382"]', 'hash': '8a3aa27bd72d41601fba5ca067a30c1f3864b47b99989b1a6561a3ec1a672287', 'enabled': True, 'disabled_at': None, 'processing_started_at': datetime.datetime(2024, 10, 12, 0, 58, 44, 259170), 'indexing_completed_at': datetime.datetime(2024, 10, 12, 0, 58, 44, 259170), 'completed_at': datetime.datetime(2024, 10, 12, 0, 58, 44, 259170), 'stopped_at': None, 'status': <SegmentStatus.COMPLETED: 'completed'>}
[2024-10-12 00:58:44,260.260] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 00:58:44,262.262] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 00:58:44,263.263] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 00:58:44,263.263] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.9s ago] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:58:44,263.263] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-12 00:58:44,264.264] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.9s ago] {'pk_1': UUID('0e171eb9-2b82-4ac2-8b0b-a18371c81d8c')}
[2024-10-12 00:58:45,738.738] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.character_count), %(coalesce_2)s) AS coalesce_1, coalesce(sum(segment.token_count), %(coalesce_4)s) AS coalesce_3 
FROM segment 
 LIMIT %(param_1)s
[2024-10-12 00:58:45,738.738] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.47s ago] {'coalesce_2': 0, 'coalesce_4': 0, 'param_1': 1}
[2024-10-12 00:58:45,740.740] base.py -> _exec_single_context line:1903 [INFO]: UPDATE document SET character_count=%(character_count)s, token_count=%(token_count)s WHERE document.id = %(document_id)s::UUID
[2024-10-12 00:58:45,740.740] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.47s ago] {'character_count': 12259, 'token_count': 6731, 'document_id': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:58:45,741.741] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 00:58:45,798.798] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 00:58:45,798.798] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 00:58:45,798.798] base.py -> _exec_single_context line:1908 [INFO]: [cached since 83.44s ago] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 00:58:45,799.799] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id = %(pk_1)s::UUID
[2024-10-12 00:58:45,799.799] base.py -> _exec_single_context line:1908 [INFO]: [cached since 83.43s ago] {'pk_1': UUID('0e171eb9-2b82-4ac2-8b0b-a18371c81d8c')}
[2024-10-12 00:58:45,801.801] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.id AS keyword_table_id, keyword_table.dataset_id AS keyword_table_dataset_id, keyword_table.keyword_table AS keyword_table_keyword_table, keyword_table.updated_at AS keyword_table_updated_at, keyword_table.created_at AS keyword_table_created_at 
FROM keyword_table 
WHERE keyword_table.dataset_id = %(dataset_id_1)s::UUID
[2024-10-12 00:58:45,801.801] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.52s ago] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 00:58:45,802.802] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.keywords AS segment_keywords 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-12 00:58:45,802.802] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.52s ago] {'id_1_1': UUID('0e171eb9-2b82-4ac2-8b0b-a18371c81d8c')}
[2024-10-12 00:58:45,802.802] base.py -> _exec_single_context line:1903 [INFO]: UPDATE keyword_table SET keyword_table=%(keyword_table)s WHERE keyword_table.id = %(keyword_table_id)s::UUID
[2024-10-12 00:58:45,803.803] base.py -> _exec_single_context line:1908 [INFO]: [cached since 81.52s ago] {'keyword_table': '{"AI": ["7c8c4937-f194-43ec-bb33-cd66e89d4b7c", "c79bc242-9df4-4263-8aa7-50493487a9e8", "5c4d53e7-c0e5-41b6-88f1-6572e14c7c15", "a6dda528-35ca-400c-9 ... (7190 characters truncated) ... c037-6952-4b86-9449-4df18990b095"], "\\u89e3\\u51b3\\u65b9\\u6848": ["aa7cd1d3-772b-421b-aaea-39a7dc36f519", "c1865914-7008-4309-b2eb-e0a4ff35590b"]}', 'keyword_table_id': UUID('2619c055-4d83-40f0-b0ed-6e7c75ebe0a9')}
[2024-10-12 00:58:45,803.803] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 00:58:45,805.805] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 00:58:45] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/c4c940e9-42af-4150-9141-814b1d37efce/segments HTTP/1.1" 200 -
[2024-10-12 01:15:51,179.179] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 01:15:51] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 09:50:07,216.216] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 09:50:07,743.743] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 09:50:11,592.592] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 09:50:11,594.594] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 09:50:12,853.853] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 09:50:13,147.147] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 09:50:17,006.006] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 09:50:17,008.008] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 09:50:18,247.247] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 09:50:18,540.540] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 09:50:22,315.315] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 09:50:22,317.317] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 09:50:33,380.380] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 09:50:33,701.701] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 09:50:37,472.472] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 09:50:37,473.473] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 09:50:38,738.738] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 09:50:39,002.002] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 09:50:42,804.804] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 09:50:42,805.805] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:20:36,941.941] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:20:37,256.256] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:20:41,317.317] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:20:41,319.319] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:23:25,471.471] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:23:25,734.734] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:23:29,759.759] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:23:29,761.761] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:24:05,858.858] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:24:06,121.121] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:24:10,118.118] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:24:10,120.120] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:26:50,026.026] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:26:50,326.326] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:26:54,339.339] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:26:54,341.341] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:27:49,805.805] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:27:50,106.106] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:27:54,379.379] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:27:54,382.382] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:28:06,192.192] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:28:06,514.514] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:28:10,765.765] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:28:10,768.768] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:28:19,105.105] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:28:19,423.423] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:28:23,340.340] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:28:23,342.342] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:28:38,777.777] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:28:39,055.055] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:28:43,041.041] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:28:43,044.044] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:28:47,884.884] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:28:48,175.175] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:28:52,262.262] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:28:52,264.264] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:29:03,992.992] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:29:04,264.264] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:29:08,443.443] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:29:08,446.446] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:29:47,773.773] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:29:48,058.058] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:29:52,156.156] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:29:52,158.158] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:29:58,383.383] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:29:58,653.653] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:30:02,693.693] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:30:02,696.696] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:30:05,225.225] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:30:05,549.549] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:30:09,830.830] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:30:09,833.833] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:30:20,395.395] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:30:20,747.747] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:30:24,822.822] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:30:24,824.824] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:30:33,174.174] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:30:33,451.451] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:30:37,640.640] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:30:37,643.643] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:30:51,791.791] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:30:52,133.133] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:30:56,186.186] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:30:56,188.188] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:31:06,769.769] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:31:07,044.044] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:31:11,090.090] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:31:11,093.093] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:31:20,557.557] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:31:20,871.871] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:31:25,018.018] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:31:25,020.020] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:31:26,413.413] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:31:26,714.714] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:31:30,860.860] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:31:30,862.862] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:31:39,176.176] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:31:39,461.461] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:31:43,646.646] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:31:43,648.648] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:31:54,192.192] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:31:54,471.471] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:31:58,666.666] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:31:58,668.668] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:32:01,246.246] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:32:01,512.512] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:32:05,764.764] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:32:05,768.768] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:32:08,393.393] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:32:08,686.686] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:32:12,884.884] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:32:12,885.885] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:32:15,429.429] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:32:15,727.727] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:32:19,973.973] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:32:19,976.976] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:32:20,323.323] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:32:20,605.605] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:32:24,896.896] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:32:24,898.898] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:32:27,430.430] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:32:27,700.700] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:32:31,372.372] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:32:31,374.374] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:32:55,538.538] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:32:55,826.826] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:32:59,776.776] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:32:59,778.778] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:33:22,013.013] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:33:22,269.269] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:33:26,350.350] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:33:26,352.352] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:33:29,021.021] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:33:29,313.313] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:33:33,411.411] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:33:33,414.414] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:33:46,351.351] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:33:46,652.652] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:33:50,790.790] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:33:50,792.792] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:34:47,434.434] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:34:47,766.766] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:34:51,845.845] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:34:51,848.848] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:35:35,444.444] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:35:35,745.745] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:35:39,788.788] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:35:39,791.791] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:36:59,288.288] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:36:59,600.600] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:37:03,719.719] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:37:03,721.721] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:37:06,267.267] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:37:06,552.552] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:37:10,722.722] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:37:10,726.726] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:37:14,492.492] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:37:14,782.782] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:37:19,031.031] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:37:19,034.034] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:37:23,909.909] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:37:24,178.178] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:37:28,460.460] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:37:28,463.463] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:37:43,567.567] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:37:43,825.825] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:37:47,963.963] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:37:47,966.966] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:37:49,373.373] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:37:49,703.703] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:37:53,733.733] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:37:53,735.735] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:37:57,469.469] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:37:57,812.812] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:38:02,113.113] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:38:02,116.116] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:40:41,176.176] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:40:41,442.442] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:40:45,340.340] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:40:45,343.343] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:41:13,533.533] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:41:13,956.956] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:41:17,904.904] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:41:17,906.906] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:41:25,214.214] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 10:41:25,608.608] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:41:29,728.728] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:41:29,730.730] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:42:05,588.588] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\__init__.py', reloading
[2024-10-12 10:42:05,895.895] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:42:09,956.956] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:42:09,959.959] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:42:21,973.973] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\__init__.py', reloading
[2024-10-12 10:42:22,253.253] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:42:26,190.190] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:42:26,192.192] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:43:31,240.240] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:43:31,521.521] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:43:35,581.581] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:43:35,583.583] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:43:48,816.816] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:43:49,128.128] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:43:53,061.061] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:43:53,064.064] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:44:28,729.729] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:44:29,002.002] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:44:32,891.891] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:44:32,894.894] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:44:55,334.334] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:44:55,632.632] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:44:59,570.570] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:44:59,572.572] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:45:16,417.417] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:45:16,716.716] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:45:20,967.967] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:45:20,970.970] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:45:27,140.140] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:45:27,447.447] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:45:31,373.373] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:45:31,374.374] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:45:33,924.924] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:45:34,263.263] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:45:38,918.918] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:45:38,921.921] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:45:40,329.329] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:45:40,763.763] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:45:44,767.767] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:45:44,769.769] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:45:47,306.306] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:45:47,641.641] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:45:51,816.816] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:45:51,819.819] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:45:56,649.649] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:45:56,950.950] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:46:01,126.126] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:46:01,129.129] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:46:11,675.675] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\hit_service.py', reloading
[2024-10-12 10:46:12,084.084] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:46:16,318.318] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:46:16,321.321] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:47:21,900.900] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:47:22,199.199] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:47:26,271.271] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:47:26,274.274] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:47:40,336.336] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:47:40,610.610] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:47:44,527.527] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:47:44,530.530] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:48:17,281.281] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:48:17,553.553] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:48:21,817.817] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:48:21,820.820] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:48:25,577.577] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:48:25,857.857] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:48:29,866.866] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:48:29,869.869] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:48:56,578.578] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:48:56,858.858] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:49:01,166.166] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:49:01,168.168] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:49:02,552.552] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:49:02,840.840] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:49:06,972.972] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:49:06,976.976] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:49:16,517.517] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:49:16,784.784] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:49:21,073.073] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:49:21,076.076] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:49:23,806.806] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:49:24,072.072] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:49:28,208.208] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:49:28,211.211] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:49:30,750.750] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:49:31,050.050] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:49:35,902.902] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:49:35,905.905] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:49:47,643.643] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:49:47,988.988] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:49:52,394.394] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:49:52,397.397] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:49:57,401.401] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:49:57,719.719] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:50:01,677.677] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:50:01,679.679] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:50:11,198.198] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:50:11,485.485] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:50:16,084.084] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:50:16,086.086] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:50:32,606.606] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:50:32,905.905] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:50:36,964.964] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:50:36,966.966] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:51:10,891.891] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:51:11,178.178] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:51:15,466.466] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:51:15,469.469] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:51:21,742.742] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:51:22,151.151] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:51:26,218.218] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:51:26,220.220] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:53:40,786.786] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:53:41,080.080] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:53:45,196.196] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:53:45,198.198] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:53:46,614.614] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:53:46,892.892] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:53:51,044.044] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:53:51,047.047] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:53:52,464.464] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:53:52,751.751] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:53:57,043.043] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:53:57,046.046] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:54:14,484.484] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:54:14,773.773] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:54:18,812.812] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:54:18,815.815] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:54:31,691.691] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:54:32,002.002] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:54:36,065.065] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:54:36,067.067] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:54:51,297.297] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 10:54:51,600.600] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:54:55,608.608] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:54:55,611.611] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:55:23,454.454] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 10:55:23,731.731] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:55:40,109.109] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:55:43,936.936] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:55:43,937.937] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:56:15,061.061] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 10:56:15,361.361] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:56:19,385.385] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:56:19,387.387] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:57:12,958.958] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 10:57:13,284.284] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:57:18,022.022] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:57:18,025.025] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:57:34,616.616] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 10:57:34,906.906] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:57:39,408.408] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:57:39,411.411] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:58:09,680.680] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\dataset_entity.py', reloading
[2024-10-12 10:58:10,009.009] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:58:14,353.353] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:58:14,356.356] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:58:21,538.538] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\dataset_entity.py', reloading
[2024-10-12 10:58:21,836.836] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:58:30,863.863] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:58:35,218.218] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:58:35,220.220] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:58:41,275.275] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\dataset_entity.py', reloading
[2024-10-12 10:58:41,560.560] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:58:45,587.587] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:58:45,588.588] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 10:59:39,913.913] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 10:59:40,198.198] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 10:59:44,586.586] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 10:59:44,589.589] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:00:24,244.244] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:00:24,528.528] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:00:30,243.243] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:00:44,854.854] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:00:49,348.348] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:00:49,351.351] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:00:54,280.280] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:00:54,603.603] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:00:58,794.794] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:00:58,795.795] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:01:16,405.405] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:01:16,723.723] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:01:21,000.000] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:01:21,002.002] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:01:27,094.094] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:01:27,409.409] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:01:32,014.014] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:01:32,017.017] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:02:08,127.127] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:02:08,483.483] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:02:12,906.906] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:02:12,909.909] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:02:30,492.492] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:02:30,762.762] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:02:34,968.968] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:02:34,971.971] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:02:36,441.441] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:02:36,747.747] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:02:40,964.964] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:02:40,966.966] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:02:48,263.263] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:02:48,550.550] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:03:30,018.018] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:03:34,309.309] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:03:34,311.311] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:03:35,747.747] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 11:03:36,059.059] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:03:40,516.516] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:03:40,520.520] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:05:43,717.717] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 11:05:44,061.061] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:05:48,348.348] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:05:48,351.351] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:07:01,128.128] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 11:07:01,429.429] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:07:05,518.518] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:07:05,520.520] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:07:17,260.260] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\dataset_entity.py', reloading
[2024-10-12 11:07:17,561.561] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:07:29,679.679] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:07:33,825.825] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:07:33,828.828] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:07:49,046.046] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\dataset_entity.py', reloading
[2024-10-12 11:07:49,319.319] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:07:53,607.607] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:07:53,609.609] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:08:35,204.204] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 11:08:35,533.533] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:08:39,945.945] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:08:39,946.946] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:09:03,303.303] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 11:09:03,596.596] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:09:07,717.717] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:09:07,720.720] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:09:55,164.164] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 11:09:55,456.456] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:09:59,532.532] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:09:59,534.534] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:10:25,137.137] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 11:10:25,403.403] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:10:29,537.537] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:10:29,540.540] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:11:03,268.268] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 11:11:03,580.580] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:11:07,701.701] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:11:07,703.703] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:11:09,144.144] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 11:11:09,408.408] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:11:13,371.371] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:11:13,374.374] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:11:33,317.317] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 11:11:33,627.627] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:11:37,947.947] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:11:37,950.950] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:11:55,515.515] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 11:11:55,808.808] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:11:59,964.964] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:11:59,967.967] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:12:09,439.439] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 11:12:09,741.741] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:12:13,917.917] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:12:13,920.920] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:12:17,704.704] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 11:12:18,014.014] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:12:22,403.403] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:12:22,406.406] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:12:42,420.420] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:12:42] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:13:19,648.648] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:13:19] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:15:20,285.285] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:15:20,286.286] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:15:20,630.630] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.344 seconds.
[2024-10-12 11:15:20,631.631] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:15:20,645.645] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:15:20,645.645] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:15:20,646.646] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:15:20,646.646] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:15:20,646.646] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:15:20,646.646] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:15:20,647.647] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:15:20,648.648] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:15:20,648.648] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:15:20,651.651] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 11:15:20,651.651] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'id_1_1': 'bcee9903-ff10-43c2-9e8f-06c7d271955d', 'id_1_2': '23569dd3-2009-4ad5-ad84-e11ecc8aef5b', 'id_1_3': '0e171eb9-2b82-4ac2-8b0b-a18371c81d8c'}
[2024-10-12 11:15:20,652.652] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: list index out of range
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 65, in hit
    return success_json({"documents": [{
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 66, in <listcomp>
    "page_content": document[0].page_content,
IndexError: list index out of range
[2024-10-12 11:15:20,653.653] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:15:20,667.667] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:15:20] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 11:16:09,038.038] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 11:16:09,338.338] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:16:13,278.278] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:16:13,281.281] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:17:11,260.260] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:17:11,261.261] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:17:11,577.577] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.315 seconds.
[2024-10-12 11:17:11,577.577] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:17:11,590.590] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:17:11,590.590] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:17:11,590.590] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:17:11,590.590] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:17:11,591.591] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:17:11,591.591] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:17:11,591.591] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:17:11,593.593] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:17:11,593.593] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:17:11,595.595] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 11:17:11,595.595] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'id_1_1': 'bcee9903-ff10-43c2-9e8f-06c7d271955d', 'id_1_2': '23569dd3-2009-4ad5-ad84-e11ecc8aef5b', 'id_1_3': '0e171eb9-2b82-4ac2-8b0b-a18371c81d8c'}
[2024-10-12 11:17:11,596.596] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:17:11,597.597] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:17:11] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:17:33,465.465] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:17:33,466.466] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:17:33,466.466] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.87s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:17:33,467.467] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 11:17:33,467.467] base.py -> _exec_single_context line:1908 [INFO]: [cached since 21.87s ago] {'id_1_1': '7c8c4937-f194-43ec-bb33-cd66e89d4b7c', 'id_1_2': 'c79bc242-9df4-4263-8aa7-50493487a9e8', 'id_1_3': '5c4d53e7-c0e5-41b6-88f1-6572e14c7c15', 'id_1_4': 'a6dda528-35ca-400c-90d3-53f5674f88d4', 'id_1_5': '810c882b-b1be-4cbb-aa28-4f6efacf0e72'}
[2024-10-12 11:17:33,469.469] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:17:33,470.470] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:17:33] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:17:52,622.622] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:17:52,932.932] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:17:56,829.829] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:17:56,832.832] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:17:59,334.334] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:17:59,335.335] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:17:59,696.696] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.361 seconds.
[2024-10-12 11:17:59,696.696] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:17:59,710.710] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:17:59,710.710] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:17:59,711.711] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:17:59,712.712] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:17:59,712.712] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:17:59,712.712] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:17:59,713.713] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:17:59,714.714] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:17:59,714.714] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:17:59,717.717] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 11:17:59,717.717] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00029s] {'id_1_1': '7c8c4937-f194-43ec-bb33-cd66e89d4b7c', 'id_1_2': 'c79bc242-9df4-4263-8aa7-50493487a9e8', 'id_1_3': '5c4d53e7-c0e5-41b6-88f1-6572e14c7c15', 'id_1_4': 'a6dda528-35ca-400c-90d3-53f5674f88d4', 'id_1_5': '810c882b-b1be-4cbb-aa28-4f6efacf0e72'}
[2024-10-12 11:17:59,719.719] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:17:59,719.719] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:17:59] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:18:15,954.954] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:18:16,243.243] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:18:20,495.495] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:18:20,498.498] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:18:20,673.673] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:18:20,674.674] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:18:21,030.030] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.356 seconds.
[2024-10-12 11:18:21,030.030] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:18:21,046.046] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:18:21,046.046] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:18:21,047.047] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:18:21,047.047] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:18:21,048.048] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:18:21,048.048] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:18:21,049.049] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:18:21,050.050] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:18:21,051.051] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:18:21,053.053] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 11:18:21,053.053] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'id_1_1': '7c8c4937-f194-43ec-bb33-cd66e89d4b7c', 'id_1_2': 'c79bc242-9df4-4263-8aa7-50493487a9e8', 'id_1_3': '5c4d53e7-c0e5-41b6-88f1-6572e14c7c15', 'id_1_4': 'a6dda528-35ca-400c-90d3-53f5674f88d4', 'id_1_5': '810c882b-b1be-4cbb-aa28-4f6efacf0e72'}
[2024-10-12 11:18:21,055.055] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:18:21,056.056] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:18:21] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:19:11,706.706] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:19:12,052.052] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:19:16,143.143] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:19:16,145.145] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:19:19,965.965] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:19:19,966.966] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:19:20,299.299] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.334 seconds.
[2024-10-12 11:19:20,299.299] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:19:20,312.312] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:19:20,312.312] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:19:20,313.313] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:19:20,313.313] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:19:20,314.314] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:19:20,314.314] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:19:20,315.315] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:19:20,316.316] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:19:20,316.316] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:19:20,320.320] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 11:19:20,320.320] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'id_1_1': '7c8c4937-f194-43ec-bb33-cd66e89d4b7c', 'id_1_2': 'c79bc242-9df4-4263-8aa7-50493487a9e8', 'id_1_3': '5c4d53e7-c0e5-41b6-88f1-6572e14c7c15', 'id_1_4': 'a6dda528-35ca-400c-90d3-53f5674f88d4', 'id_1_5': '810c882b-b1be-4cbb-aa28-4f6efacf0e72'}
[2024-10-12 11:19:20,322.322] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:19:20,322.322] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:19:20] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:19:41,810.810] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:19:42,094.094] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:19:46,114.114] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:19:46,117.117] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:19:47,891.891] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:19:47,892.892] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:19:48,214.214] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.323 seconds.
[2024-10-12 11:19:48,215.215] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:19:48,228.228] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:19:48,228.228] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:19:48,229.229] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:19:48,229.229] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:19:48,229.229] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:19:48,229.229] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:19:48,230.230] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:19:48,231.231] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:19:48,231.231] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:19:48,234.234] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 11:19:48,234.234] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id_1_1': '7c8c4937-f194-43ec-bb33-cd66e89d4b7c', 'id_1_2': 'c79bc242-9df4-4263-8aa7-50493487a9e8', 'id_1_3': '5c4d53e7-c0e5-41b6-88f1-6572e14c7c15', 'id_1_4': 'a6dda528-35ca-400c-90d3-53f5674f88d4', 'id_1_5': '810c882b-b1be-4cbb-aa28-4f6efacf0e72'}
[2024-10-12 11:19:48,236.236] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:19:48,236.236] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:19:48] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:20:03,714.714] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:20:03,979.979] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:20:08,151.151] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:20:08,154.154] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:20:10,190.190] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:20:10,191.191] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:20:10,541.541] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.351 seconds.
[2024-10-12 11:20:10,541.541] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:20:10,555.555] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:20:10,555.555] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:20:10,556.556] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:20:10,556.556] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:20:10,557.557] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:20:10,557.557] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:20:10,558.558] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:20:10,560.560] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:20:10,560.560] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:20:10,564.564] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 11:20:10,564.564] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'id_1_1': '7c8c4937-f194-43ec-bb33-cd66e89d4b7c', 'id_1_2': 'c79bc242-9df4-4263-8aa7-50493487a9e8', 'id_1_3': '5c4d53e7-c0e5-41b6-88f1-6572e14c7c15', 'id_1_4': 'a6dda528-35ca-400c-90d3-53f5674f88d4', 'id_1_5': '810c882b-b1be-4cbb-aa28-4f6efacf0e72'}
[2024-10-12 11:20:10,566.566] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:20:10,566.566] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:20:10] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:20:38,362.362] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:20:38,722.722] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:20:43,158.158] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:20:43,161.161] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:20:44,632.632] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:20:44,913.913] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:20:49,075.075] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:20:49,078.078] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:20:52,779.779] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:20:53,115.115] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:20:57,090.090] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:20:57,092.092] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:20:58,779.779] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:20:58,780.780] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:20:59,134.134] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.354 seconds.
[2024-10-12 11:20:59,134.134] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:20:59,147.147] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:20:59,147.147] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:20:59,147.147] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:20:59,147.147] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:20:59,148.148] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:20:59,148.148] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:20:59,148.148] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:20:59,150.150] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:20:59,150.150] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:20:59,153.153] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 11:20:59,153.153] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'id_1_1': '7c8c4937-f194-43ec-bb33-cd66e89d4b7c', 'id_1_2': 'c79bc242-9df4-4263-8aa7-50493487a9e8', 'id_1_3': '5c4d53e7-c0e5-41b6-88f1-6572e14c7c15', 'id_1_4': 'a6dda528-35ca-400c-90d3-53f5674f88d4', 'id_1_5': '810c882b-b1be-4cbb-aa28-4f6efacf0e72'}
[2024-10-12 11:20:59,155.155] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:20:59,155.155] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:20:59] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:21:51,235.235] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:21:51,507.507] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:21:55,573.573] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:21:55,575.575] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:21:58,934.934] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:21:58,935.935] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:21:59,247.247] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.313 seconds.
[2024-10-12 11:21:59,247.247] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:21:59,260.260] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:21:59,260.260] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:21:59,261.261] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:21:59,261.261] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:21:59,262.262] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:21:59,262.262] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:21:59,262.262] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:21:59,263.263] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:21:59,264.264] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:21:59,266.266] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 11:21:59,266.266] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'id_1_1': '7c8c4937-f194-43ec-bb33-cd66e89d4b7c', 'id_1_2': 'c79bc242-9df4-4263-8aa7-50493487a9e8', 'id_1_3': '5c4d53e7-c0e5-41b6-88f1-6572e14c7c15', 'id_1_4': 'a6dda528-35ca-400c-90d3-53f5674f88d4', 'id_1_5': '810c882b-b1be-4cbb-aa28-4f6efacf0e72'}
[2024-10-12 11:21:59,268.268] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:21:59,268.268] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:21:59] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:22:48,819.819] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:22:49,135.135] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:22:53,458.458] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:22:53,461.461] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:23:08,292.292] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:23:08,294.294] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:23:08,792.792] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.499 seconds.
[2024-10-12 11:23:08,793.793] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:23:08,814.814] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:23:08,814.814] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:23:08,816.816] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:23:08,816.816] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:23:08,816.816] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:23:08,816.816] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:23:08,817.817] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:23:08,818.818] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:23:08,818.818] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:23:08,825.825] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 11:23:08,825.825] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00044s] {'id_1_1': 'bcee9903-ff10-43c2-9e8f-06c7d271955d', 'id_1_2': '23569dd3-2009-4ad5-ad84-e11ecc8aef5b', 'id_1_3': '0e171eb9-2b82-4ac2-8b0b-a18371c81d8c'}
[2024-10-12 11:23:08,828.828] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:23:08,829.829] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:23:08] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:23:26,124.124] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:23:26,125.125] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:23:26,125.125] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.31s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:23:26,127.127] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 11:23:26,127.127] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.3s ago] {}
[2024-10-12 11:23:26,128.128] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:23:26,129.129] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:23:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:23:31,075.075] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:23:31,077.077] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 11:23:31,077.077] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:23:31,082.082] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 11:23:31,082.082] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-12 11:23:31,086.086] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-12 11:23:31,087.087] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00034s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:23:31,090.090] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-12 11:23:31,090.090] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'coalesce_2': 0, 'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 11:23:31,092.092] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:23:31,092.092] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:23:31] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-12 11:23:36,757.757] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:23:36,758.758] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 11:23:36,758.758] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 11:23:36,761.761] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 11:23:36,761.761] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce'), 'param_1': 20, 'param_2': 20}
[2024-10-12 11:23:36,763.763] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-12 11:23:36,764.764] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 11:23:36,765.765] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:23:36,766.766] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:23:36] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/c4c940e9-42af-4150-9141-814b1d37efce/segments?current_page=2&page_size=20 HTTP/1.1" 200 -
[2024-10-12 11:23:43,556.556] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:23:43,556.556] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 11:23:43,556.556] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.798s ago] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 11:23:43,558.558] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID ORDER BY segment.position ASC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 11:23:43,558.558] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.797s ago] {'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce'), 'param_1': 20, 'param_2': 0}
[2024-10-12 11:23:43,560.560] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT segment.id AS id, segment.account_id AS account_id, segment.dataset_id AS dataset_id, segment.document_id AS document_id, segment.node_id AS node_id, segment.position AS position, segment.content AS content, segment.character_count AS character_count, segment.token_count AS token_count, segment.keywords AS keywords, segment.hash AS hash, segment.hit_count AS hit_count, segment.enabled AS enabled, segment.disabled_at AS disabled_at, segment.processing_started_at AS processing_started_at, segment.indexing_completed_at AS indexing_completed_at, segment.completed_at AS completed_at, segment.stopped_at AS stopped_at, segment.error AS error, segment.status AS status, segment.updated_at AS updated_at, segment.created_at AS created_at 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID) AS anon_1
[2024-10-12 11:23:43,561.561] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.797s ago] {'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 11:23:43,564.564] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:23:43,565.565] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:23:43] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/c4c940e9-42af-4150-9141-814b1d37efce/segments?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-12 11:24:00,632.632] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:24:00,633.633] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:24:00,633.633] base.py -> _exec_single_context line:1908 [INFO]: [cached since 51.81s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:24:00,635.635] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 11:24:00,635.635] base.py -> _exec_single_context line:1908 [INFO]: [cached since 51.81s ago] {}
[2024-10-12 11:24:00,636.636] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:24:00,637.637] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:24:00] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:24:03,091.091] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:24:03,091.091] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:24:03,092.092] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.27s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:24:03,093.093] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 11:24:03,093.093] base.py -> _exec_single_context line:1908 [INFO]: [cached since 54.27s ago] {}
[2024-10-12 11:24:03,094.094] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:24:03,095.095] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:24:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:24:17,144.144] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:24:17,144.144] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:24:17,145.145] base.py -> _exec_single_context line:1908 [INFO]: [cached since 68.33s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:24:17,146.146] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-12 11:24:17,146.146] base.py -> _exec_single_context line:1908 [INFO]: [cached since 68.32s ago] {'id_1_1': '83f44637-2ce2-42c7-83a0-56c64e74ea93'}
[2024-10-12 11:24:17,148.148] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:24:17,149.149] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:24:17] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:24:29,367.367] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:24:29,367.367] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:24:29,367.367] base.py -> _exec_single_context line:1908 [INFO]: [cached since 80.55s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:24:29,369.369] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-12 11:24:29,369.369] base.py -> _exec_single_context line:1908 [INFO]: [cached since 80.54s ago] {'id_1_1': 'c1865914-7008-4309-b2eb-e0a4ff35590b'}
[2024-10-12 11:24:29,371.371] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:24:29,371.371] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:24:29] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:24:47,888.888] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:24:47,889.889] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:24:47,889.889] base.py -> _exec_single_context line:1908 [INFO]: [cached since 99.07s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:24:47,890.890] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 11:24:47,890.890] base.py -> _exec_single_context line:1908 [INFO]: [cached since 99.06s ago] {'id_1_1': '5c8e4cd6-284f-4f1e-8028-572367f0ca20', 'id_1_2': '3e5d9c0c-fe1c-49bb-9a1a-73a5c6130f1f', 'id_1_3': '42ff6aea-e34c-45a7-a044-f7cd48476431'}
[2024-10-12 11:24:47,891.891] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:24:47,892.892] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:24:47] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:25:15,472.472] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:25:15,472.472] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:25:15,473.473] base.py -> _exec_single_context line:1908 [INFO]: [cached since 126.7s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:25:15,474.474] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 11:25:15,475.475] base.py -> _exec_single_context line:1908 [INFO]: [cached since 126.6s ago] {'id_1_1': '23569dd3-2009-4ad5-ad84-e11ecc8aef5b', 'id_1_2': '0e171eb9-2b82-4ac2-8b0b-a18371c81d8c', 'id_1_3': 'bcee9903-ff10-43c2-9e8f-06c7d271955d'}
[2024-10-12 11:25:15,476.476] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:25:15,477.477] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:25:15] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:25:21,946.946] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:25:21,947.947] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:25:21,947.947] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.1s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:25:21,948.948] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 11:25:21,948.948] base.py -> _exec_single_context line:1908 [INFO]: [cached since 133.1s ago] {}
[2024-10-12 11:25:21,949.949] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:25:21,950.950] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:25:21] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:25:30,910.910] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:25:30,910.910] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:25:30,911.911] base.py -> _exec_single_context line:1908 [INFO]: [cached since 142.1s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:25:30,912.912] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID)
[2024-10-12 11:25:30,913.913] base.py -> _exec_single_context line:1908 [INFO]: [cached since 142.1s ago] {'id_1_1': '3e5d9c0c-fe1c-49bb-9a1a-73a5c6130f1f', 'id_1_2': '42ff6aea-e34c-45a7-a044-f7cd48476431', 'id_1_3': '331fb168-c9b7-4b94-bbdd-62324945596a', 'id_1_4': '5c8e4cd6-284f-4f1e-8028-572367f0ca20', 'id_1_5': 'aa7cd1d3-772b-421b-aaea-39a7dc36f519', 'id_1_6': 'c1865914-7008-4309-b2eb-e0a4ff35590b', 'id_1_7': '8329c037-6952-4b86-9449-4df18990b095'}
[2024-10-12 11:25:30,915.915] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:25:30,916.916] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:25:30] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:41:33,927.927] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:41:34,235.235] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:41:38,407.407] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:41:38,409.409] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:42:15,481.481] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:42:15,772.772] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:42:19,942.942] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:42:19,945.945] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:42:37,446.446] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:42:37,767.767] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:42:41,786.786] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:42:41,789.789] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:42:42,047.047] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:42:42,341.341] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:42:48,293.293] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:42:48,296.296] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:48:30,801.801] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:48:31,099.099] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:48:35,499.499] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:48:35,501.501] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:49:28,563.563] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:49:28,837.837] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:49:32,827.827] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:49:32,830.830] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:49:34,213.213] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 11:49:34,554.554] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:49:38,718.718] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:49:38,720.720] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:49:52,938.938] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 11:49:52,939.939] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 11:49:53,441.441] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.504 seconds.
[2024-10-12 11:49:53,442.442] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 11:49:53,463.463] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 11:49:53,463.463] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:49:53,464.464] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 11:49:53,465.465] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:49:53,465.465] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 11:49:53,465.465] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 11:49:53,466.466] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 11:49:53,468.468] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 11:49:53,468.468] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00033s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 11:49:53,472.472] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 11:49:53,472.472] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'id_1_1': '3e5d9c0c-fe1c-49bb-9a1a-73a5c6130f1f', 'id_1_2': '42ff6aea-e34c-45a7-a044-f7cd48476431', 'id_1_3': '331fb168-c9b7-4b94-bbdd-62324945596a', 'id_1_4': '5c8e4cd6-284f-4f1e-8028-572367f0ca20'}
[2024-10-12 11:49:53,473.473] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 11:49:53,474.474] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 11:49:53] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 11:50:25,434.434] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 11:50:25,747.747] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:50:29,950.950] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:50:29,952.952] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:51:56,314.314] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:51:56,594.594] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:52:00,539.539] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:52:00,542.542] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:53:38,385.385] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:53:38,681.681] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:53:42,732.732] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:53:42,735.735] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:55:05,765.765] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:55:06,064.064] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:55:10,299.299] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:55:10,302.302] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:55:18,661.661] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:55:18,933.933] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:55:23,246.246] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:55:23,249.249] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:55:24,737.737] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:55:25,045.045] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:55:29,224.224] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:55:29,227.227] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:55:40,976.976] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:55:41,291.291] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:55:45,484.484] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:55:45,487.487] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:56:09,841.841] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:56:10,147.147] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:56:14,313.313] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:56:14,315.315] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:56:28,347.347] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:56:28,635.635] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:56:32,798.798] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:56:32,801.801] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:57:40,929.929] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:57:41,263.263] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:57:45,515.515] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:57:45,518.518] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:58:28,702.702] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:58:29,000.000] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:58:33,152.152] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:58:33,154.154] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 11:59:45,473.473] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 11:59:45,744.744] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 11:59:49,872.872] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 11:59:49,875.875] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:03:23,759.759] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:03:24,050.050] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:03:28,253.253] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:03:28,255.255] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:03:30,821.821] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:03:31,114.114] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:03:35,281.281] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:03:35,284.284] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:03:42,481.481] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:03:42,785.785] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:03:46,975.975] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:03:46,980.980] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:03:48,375.375] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:03:48,660.660] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:03:52,821.821] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:03:52,824.824] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:04:19,481.481] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:04:19,747.747] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:04:23,764.764] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:04:23,766.766] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:04:26,361.361] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:04:26,620.620] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:04:30,613.613] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:04:30,615.615] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:04:52,751.751] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:04:53,018.018] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:04:57,034.034] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:04:57,037.037] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:05:37,065.065] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:05:37,365.365] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:05:41,524.524] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:05:41,526.526] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:05:55,607.607] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:05:55,906.906] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:05:59,997.997] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:06:00,000.000] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:06:02,555.555] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:06:02,832.832] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:06:07,182.182] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:06:07,185.185] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:06:08,612.612] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:06:08,939.939] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:06:13,457.457] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:06:13,460.460] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:06:16,107.107] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:06:16,407.407] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:06:20,523.523] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:06:20,525.525] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:06:59,928.928] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 12:07:00,268.268] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:07:04,588.588] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:07:04,590.590] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:08:34,520.520] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:08:34,803.803] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:08:39,262.262] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:08:39,265.265] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:09:16,525.525] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:09:16,816.816] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:09:21,297.297] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:09:21,299.299] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:09:29,678.678] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:09:29,956.956] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:09:34,217.217] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:09:34,220.220] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:11:03,018.018] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:11:03,319.319] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:12:30,229.229] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:13:02,841.841] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:13:07,475.475] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:13:07,478.478] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:13:38,777.777] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:13:39,067.067] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:13:43,625.625] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:13:43,628.628] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:13:51,956.956] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:13:52,340.340] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:13:57,093.093] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:13:57,096.096] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:14:15,774.774] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:14:16,124.124] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:14:20,873.873] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:14:20,876.876] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:14:24,591.591] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:14:24,929.929] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:14:29,693.693] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:14:29,696.696] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:15:29,926.926] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:15:30,230.230] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:15:34,721.721] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:15:34,723.723] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:15:52,421.421] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:15:52,720.720] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:15:58,370.370] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:15:58,372.372] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:16:07,911.911] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:16:08,233.233] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:16:12,830.830] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:16:12,832.832] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:16:24,663.663] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:16:24,991.991] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:16:29,609.609] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:16:29,612.612] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:16:39,196.196] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:16:39,479.479] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:16:44,282.282] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:16:44,284.284] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:16:45,767.767] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:16:46,077.077] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:16:51,658.658] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:16:51,660.660] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:17:17,296.296] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:17:17,623.623] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:17:23,461.461] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:17:23,464.464] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:17:55,789.789] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:17:56,071.071] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:18:00,661.661] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:18:00,664.664] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:18:09,720.720] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:18:10,005.005] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:18:14,797.797] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:18:14,800.800] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:24:53,097.097] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:24:53,451.451] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:24:58,429.429] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:24:58,432.432] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:25:48,722.722] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:25:49,024.024] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:25:54,790.790] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:25:54,792.792] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:26:19,018.018] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:26:19,339.339] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:26:24,241.241] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:26:24,244.244] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:37:59,326.326] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:37:59,673.673] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:38:04,800.800] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:38:04,804.804] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:39:13,147.147] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:39:13,445.445] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:39:18,764.764] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:39:18,767.767] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:39:30,550.550] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:39:30,921.921] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:39:37,317.317] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:39:37,320.320] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:39:37,638.638] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:39:37,927.927] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:39:42,859.859] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:39:42,861.861] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:39:46,604.604] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:39:46,896.896] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:39:52,360.360] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:39:52,362.362] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:40:05,293.293] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 12:40:05,660.660] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:40:12,876.876] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:40:12,878.878] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:40:13,048.048] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 12:40:13,048.048] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:40:13,049.049] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 12:40:13,049.049] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:40:13,050.050] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 12:40:13,051.051] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:40:13,051.051] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:40:13,053.053] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:40:13,053.053] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:40:15,249.249] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: _HybridQuery.hybrid() got an unexpected keyword argument 'fetch_k'
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 56, in hit
    documents = self.retrieval_service.search_in_datasets(
  File "D:\Code\llmops\llmops-api\internal\service\retrieval_service.py", line 84, in search_in_datasets
    documents = hybrid_retriever.invoke(query)[:k]
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain\retrievers\ensemble.py", line 118, in invoke
    raise e
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain\retrievers\ensemble.py", line 115, in invoke
    result = self.rank_fusion(input, run_manager=run_manager, config=config)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain\retrievers\ensemble.py", line 222, in rank_fusion
    retriever_docs = [
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain\retrievers\ensemble.py", line 223, in <listcomp>
    retriever.invoke(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain_core\retrievers.py", line 252, in invoke
    raise e
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain_core\retrievers.py", line 245, in invoke
    result = self._get_relevant_documents(
  File "D:\Code\llmops\llmops-api\internal\core\retrievers\semantic_retriever.py", line 31, in _get_relevant_documents
    lc_documents, scores = zip(*self.vector_store.similarity_search_with_relevance_scores(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain_core\vectorstores\base.py", line 552, in similarity_search_with_relevance_scores
    docs_and_similarities = self._similarity_search_with_relevance_scores(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain_core\vectorstores\base.py", line 500, in _similarity_search_with_relevance_scores
    docs_and_scores = self.similarity_search_with_score(query, k, **kwargs)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain_weaviate\vectorstores.py", line 419, in similarity_search_with_score
    results = self._perform_search(query, k, return_score=True, **kwargs)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain_weaviate\vectorstores.py", line 279, in _perform_search
    result = collection.query.hybrid(
TypeError: _HybridQuery.hybrid() got an unexpected keyword argument 'fetch_k'
[2024-10-12 12:40:15,250.250] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:40:15,268.268] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:40:15] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 12:40:31,111.111] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:40:31,467.467] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:40:36,559.559] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:40:36,562.562] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:40:45,499.499] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 12:40:45,499.499] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:40:45,500.500] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 12:40:45,500.500] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:40:45,501.501] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 12:40:45,501.501] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:40:45,502.502] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:40:45,503.503] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:40:45,503.503] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:40:47,264.264] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 12:40:47,264.264] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 12:40:47,587.587] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.323 seconds.
[2024-10-12 12:40:47,587.587] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 12:40:47,588.588] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 12:40:47,588.588] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:40:47,591.591] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID)
[2024-10-12 12:40:47,591.591] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'id_1_1': '3e5d9c0c-fe1c-49bb-9a1a-73a5c6130f1f', 'id_1_2': '42ff6aea-e34c-45a7-a044-f7cd48476431', 'id_1_3': '331fb168-c9b7-4b94-bbdd-62324945596a', 'id_1_4': '5c8e4cd6-284f-4f1e-8028-572367f0ca20', 'id_1_5': 'aa7cd1d3-772b-421b-aaea-39a7dc36f519', 'id_1_6': 'c1865914-7008-4309-b2eb-e0a4ff35590b', 'id_1_7': '8329c037-6952-4b86-9449-4df18990b095'}
[2024-10-12 12:40:47,594.594] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:40:47,595.595] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:40:47] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 12:41:08,519.519] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:41:08,519.519] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:41:08,520.520] base.py -> _exec_single_context line:1908 [INFO]: [cached since 23.02s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:41:10,380.380] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 12:41:10,381.381] base.py -> _exec_single_context line:1908 [INFO]: [cached since 22.79s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:41:10,382.382] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 12:41:10,382.382] base.py -> _exec_single_context line:1908 [INFO]: [cached since 22.79s ago] {'id_1_1': '3e5d9c0c-fe1c-49bb-9a1a-73a5c6130f1f', 'id_1_2': '42ff6aea-e34c-45a7-a044-f7cd48476431'}
[2024-10-12 12:41:10,383.383] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:41:10,384.384] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:41:10] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 12:41:17,216.216] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:41:17,216.216] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:41:17,216.216] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.71s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:41:18,773.773] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:41:18,774.774] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:41:18] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 12:41:26,895.895] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:41:26,895.895] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:41:26,895.895] base.py -> _exec_single_context line:1908 [INFO]: [cached since 41.39s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:41:44,518.518] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 12:41:44,518.518] base.py -> _exec_single_context line:1908 [INFO]: [cached since 56.93s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:41:44,519.519] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 12:41:44,519.519] base.py -> _exec_single_context line:1908 [INFO]: [cached since 56.93s ago] {'id_1_1': '3e5d9c0c-fe1c-49bb-9a1a-73a5c6130f1f', 'id_1_2': '42ff6aea-e34c-45a7-a044-f7cd48476431'}
[2024-10-12 12:41:44,520.520] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:41:44,521.521] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:41:44] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 12:41:55,115.115] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:41:55,115.115] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:41:55,115.115] base.py -> _exec_single_context line:1908 [INFO]: [cached since 69.61s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:41:56,666.666] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 12:41:56,666.666] base.py -> _exec_single_context line:1908 [INFO]: [cached since 69.08s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:41:56,667.667] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 12:41:56,667.667] base.py -> _exec_single_context line:1908 [INFO]: [cached since 69.08s ago] {'id_1_1': '3e5d9c0c-fe1c-49bb-9a1a-73a5c6130f1f', 'id_1_2': '42ff6aea-e34c-45a7-a044-f7cd48476431'}
[2024-10-12 12:41:56,668.668] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:41:56,669.669] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:41:56] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 12:45:18,092.092] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:45:18,092.092] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:45:18,092.092] base.py -> _exec_single_context line:1908 [INFO]: [cached since 272.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:45:19,642.642] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 12:45:19,642.642] base.py -> _exec_single_context line:1908 [INFO]: [cached since 272.1s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:45:19,643.643] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 12:45:19,644.644] base.py -> _exec_single_context line:1908 [INFO]: [cached since 272.1s ago] {'id_1_1': '3e5d9c0c-fe1c-49bb-9a1a-73a5c6130f1f', 'id_1_2': '42ff6aea-e34c-45a7-a044-f7cd48476431'}
[2024-10-12 12:45:19,646.646] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:45:19,646.646] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:45:19] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 12:47:30,820.820] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:47:31,331.331] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:47:37,636.636] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:47:37,638.638] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:47:42,622.622] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:47:42,940.940] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:47:48,066.066] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:47:48,069.069] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:47:48,240.240] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 12:47:48,240.240] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:47:48,241.241] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 12:47:48,241.241] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:47:48,242.242] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 12:47:48,242.242] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:47:48,242.242] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:47:48,243.243] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:47:48,244.244] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:47:50,223.223] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:47:50,224.224] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 'account_id' is an invalid keyword argument for DatasetQuery
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 56, in hit
    documents = self.retrieval_service.search_in_datasets(
  File "D:\Code\llmops\llmops-api\internal\service\retrieval_service.py", line 87, in search_in_datasets
    self.create(
  File "D:\Code\llmops\llmops-api\internal\service\base_service.py", line 21, in create
    model_instance = model(**kwargs)
  File "<string>", line 4, in __init__
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    with util.safe_reraise():
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\state.py", line 562, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\decl_base.py", line 2139, in _declarative_constructor
    raise TypeError(
TypeError: 'account_id' is an invalid keyword argument for DatasetQuery
[2024-10-12 12:47:50,241.241] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:47:50] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 12:49:08,594.594] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:49:08,888.888] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:49:13,497.497] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:49:13,500.500] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:49:15,331.331] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 12:49:15,331.331] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:49:15,332.332] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 12:49:15,332.332] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:49:15,333.333] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 12:49:15,333.333] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:49:15,334.334] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:49:15,335.335] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:49:15,336.336] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:49:17,034.034] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:49:17,035.035] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 'account_id' is an invalid keyword argument for DatasetQuery
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 56, in hit
    documents = self.retrieval_service.search_in_datasets(
  File "D:\Code\llmops\llmops-api\internal\service\retrieval_service.py", line 88, in search_in_datasets
    self.create(
  File "D:\Code\llmops\llmops-api\internal\service\base_service.py", line 21, in create
    model_instance = model(**kwargs)
  File "<string>", line 4, in __init__
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    with util.safe_reraise():
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\state.py", line 562, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\decl_base.py", line 2139, in _declarative_constructor
    raise TypeError(
TypeError: 'account_id' is an invalid keyword argument for DatasetQuery
[2024-10-12 12:49:17,051.051] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:49:17] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 12:49:27,702.702] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:49:28,013.013] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:49:33,924.924] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:49:33,926.926] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:49:34,101.101] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 12:49:34,101.101] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:49:34,102.102] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 12:49:34,102.102] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:49:34,103.103] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 12:49:34,103.103] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:49:34,104.104] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:49:34,105.105] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:49:34,105.105] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:49:35,872.872] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:49:35,872.872] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 'account_id' is an invalid keyword argument for DatasetQuery
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 56, in hit
    documents = self.retrieval_service.search_in_datasets(
  File "D:\Code\llmops\llmops-api\internal\service\retrieval_service.py", line 88, in search_in_datasets
    self.create(
  File "D:\Code\llmops\llmops-api\internal\service\base_service.py", line 21, in create
    model_instance = model(**kwargs)
  File "<string>", line 4, in __init__
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\state.py", line 564, in _initialize_instance
    with util.safe_reraise():
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\state.py", line 562, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\decl_base.py", line 2139, in _declarative_constructor
    raise TypeError(
TypeError: 'account_id' is an invalid keyword argument for DatasetQuery
[2024-10-12 12:49:35,888.888] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:49:35] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 12:50:53,180.180] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:50:53,524.524] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:50:58,634.634] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:50:58,636.636] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:51:25,703.703] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:51:26,019.019] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:51:31,404.404] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:51:31,406.406] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:52:35,387.387] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:52:35,684.684] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:52:39,696.696] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:52:43,611.611] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:52:49,730.730] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:52:49,733.733] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:53:03,856.856] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:53:04,136.136] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:53:10,187.187] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:53:10,190.190] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:53:12,760.760] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:53:13,119.119] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:53:18,663.663] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:53:18,666.666] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:54:04,082.082] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:54:04,439.439] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:54:10,108.108] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:54:10,111.111] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:54:11,666.666] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:54:11,991.991] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:54:16,765.765] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:54:16,768.768] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:54:20,533.533] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:54:20,889.889] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:55:03,778.778] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:55:08,929.929] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:55:08,932.932] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:55:30,887.887] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:55:31,173.173] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:55:36,356.356] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:55:36,358.358] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:55:40,316.316] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:55:40,610.610] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:55:46,542.542] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:55:46,545.545] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:56:02,023.023] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:56:02,311.311] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:56:07,430.430] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:56:07,433.433] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:56:12,274.274] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:56:12,618.618] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:56:21,042.042] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:56:21,045.045] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:56:34,282.282] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 12:56:34,282.282] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:56:34,283.283] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 12:56:34,283.283] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:56:34,283.283] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 12:56:34,284.284] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:56:34,284.284] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:56:34,286.286] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:56:34,286.286] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:56:36,408.408] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 12:56:36,408.408] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '用户、编程、提示', 'source': <enum 'RetrievalSource'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 12:56:36,408.408] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:56:36,409.409] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: (psycopg2.ProgrammingError) can't adapt type 'EnumMeta'
[SQL: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at]
[parameters: {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '用户、编程、提示', 'source': <enum 'RetrievalSource'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
psycopg2.ProgrammingError: can't adapt type 'EnumMeta'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 56, in hit
    documents = self.retrieval_service.search_in_datasets(
  File "D:\Code\llmops\llmops-api\internal\service\retrieval_service.py", line 88, in search_in_datasets
    self.create(
  File "D:\Code\llmops\llmops-api\internal\service\base_service.py", line 20, in create
    with self.db.auto_commit():
  File "D:\Env\python\python310\lib\contextlib.py", line 142, in __exit__
    next(self.gen)
  File "D:\Code\llmops\llmops-api\pkg\sqlalchemy\sqlalchemy.py", line 23, in auto_commit
    raise e
  File "D:\Code\llmops\llmops-api\pkg\sqlalchemy\sqlalchemy.py", line 20, in auto_commit
    self.session.commit()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1972, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1257, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\session.py", line 1232, in _prepare_impl
    self.session.flush()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4296, in flush
    self._flush(objects)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4431, in _flush
    with util.safe_reraise():
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\session.py", line 4392, in _flush
    flush_context.execute()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1422, in execute
    return meth(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\sql\elements.py", line 514, in _execute_on_connection
    return connection._execute_clauseelement(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1644, in _execute_clauseelement
    ret = self._execute_context(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1850, in _execute_context
    return self._exec_single_context(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1990, in _exec_single_context
    self._handle_dbapi_exception(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\base.py", line 2357, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\base.py", line 1971, in _exec_single_context
    self.dialect.do_execute(
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\sqlalchemy\engine\default.py", line 919, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (psycopg2.ProgrammingError) can't adapt type 'EnumMeta'
[SQL: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at]
[parameters: {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '用户、编程、提示', 'source': <enum 'RetrievalSource'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[2024-10-12 12:56:36,455.455] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:56:36] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 12:57:12,220.220] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 12:57:12,527.527] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 12:57:17,801.801] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 12:57:17,804.804] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 12:57:29,297.297] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 12:57:29,298.298] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:57:29,299.299] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 12:57:29,299.299] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:57:29,299.299] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 12:57:29,300.300] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 12:57:29,300.300] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:57:29,302.302] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:57:29,302.302] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:57:30,798.798] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 12:57:30,798.798] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00033s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '用户、编程、提示', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 12:57:30,826.826] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:57:30,857.857] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:57:30,858.858] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 12:57:30,858.858] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.06005s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '用户、编程、提示', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 12:57:30,858.858] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:57:30,860.860] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:57:30,861.861] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 12:57:30,861.861] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'hit_count_1': 1, 'id_1_1': UUID('331fb168-c9b7-4b94-bbdd-62324945596a'), 'id_1_2': UUID('bfe178b6-24e5-440d-a62b-f2c9824a01c3')}
[2024-10-12 12:57:30,861.861] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:57:30,863.863] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:57:30] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 12:57:57,868.868] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:57:57,869.869] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 12:57:57,869.869] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:57:57,872.872] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 12:57:57,872.872] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-12 12:57:57,875.875] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-12 12:57:57,875.875] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:57:57,876.876] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-12 12:57:57,876.876] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'coalesce_2': 0, 'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 12:57:57,877.877] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:57:57,878.878] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:57:57] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-12 12:59:26,710.710] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:59:26,710.710] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 12:59:26,711.711] base.py -> _exec_single_context line:1908 [INFO]: [cached since 117.4s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:59:28,468.468] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 12:59:28,469.469] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 12:59:28,991.991] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.523 seconds.
[2024-10-12 12:59:28,992.992] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 12:59:28,994.994] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 12:59:28,994.994] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00037s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:59:28,998.998] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 12:59:28,998.998] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00063s] {}
[2024-10-12 12:59:29,001.001] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 12:59:29,001.001] base.py -> _exec_single_context line:1908 [INFO]: [cached since 118.2s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 12:59:29,002.002] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:59:29,005.005] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:59:29,006.006] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 12:59:29,006.006] base.py -> _exec_single_context line:1908 [INFO]: [cached since 118.2s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 12:59:29,007.007] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:59:29,009.009] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:59:29,009.009] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 12:59:29,009.009] base.py -> _exec_single_context line:1908 [INFO]: [cached since 118.2s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 12:59:29,010.010] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:59:29,011.011] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:59:29,011.011] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 12:59:29,011.011] base.py -> _exec_single_context line:1908 [INFO]: [cached since 118.2s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 12:59:29,012.012] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:59:29,013.013] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:59:29,014.014] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 12:59:29,014.014] base.py -> _exec_single_context line:1908 [INFO]: [cached since 118.2s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 12:59:29,015.015] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:59:29,016.016] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:59:29,017.017] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 12:59:29,017.017] base.py -> _exec_single_context line:1908 [INFO]: [cached since 118.2s ago] {'hit_count_1': 1, 'id_1_1': UUID('16b9fb57-60c8-4d27-81c7-f7e081056e9a'), 'id_1_2': UUID('331fb168-c9b7-4b94-bbdd-62324945596a'), 'id_1_3': UUID('1795d88c-0734-4d43-99c9-18219adf49b6'), 'id_1_4': UUID('9861621b-f85a-4fb0-9b6a-4cbc8e1d9621'), 'id_1_5': UUID('b3518485-214d-4d5a-a2ee-394941c8b3ca')}
[2024-10-12 12:59:29,018.018] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 12:59:29,021.021] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:59:29] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 12:59:43,029.029] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 12:59:43,030.030] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 12:59:43,030.030] base.py -> _exec_single_context line:1908 [INFO]: [cached since 105.2s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:59:43,032.032] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 12:59:43,032.032] base.py -> _exec_single_context line:1908 [INFO]: [cached since 105.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-12 12:59:43,033.033] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-12 12:59:43,034.034] base.py -> _exec_single_context line:1908 [INFO]: [cached since 105.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 12:59:43,035.035] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-12 12:59:43,035.035] base.py -> _exec_single_context line:1908 [INFO]: [cached since 105.2s ago] {'coalesce_2': 0, 'document_id_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 12:59:43,036.036] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 12:59:43,037.037] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 12:59:43] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-12 13:01:04,670.670] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:04,670.670] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 13:01:04,670.670] base.py -> _exec_single_context line:1908 [INFO]: [cached since 215.4s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:01:06,217.217] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 13:01:06,217.217] base.py -> _exec_single_context line:1908 [INFO]: [cached since 97.22s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:01:06,218.218] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 13:01:06,218.218] base.py -> _exec_single_context line:1908 [INFO]: [cached since 97.22s ago] {}
[2024-10-12 13:01:06,219.219] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:06,220.220] base.py -> _exec_single_context line:1908 [INFO]: [cached since 215.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:06,220.220] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:06,221.221] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:06,222.222] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:06,222.222] base.py -> _exec_single_context line:1908 [INFO]: [cached since 215.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:06,222.222] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:06,223.223] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:06,224.224] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:06,224.224] base.py -> _exec_single_context line:1908 [INFO]: [cached since 215.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:06,224.224] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:06,226.226] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:06,226.226] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:06,226.226] base.py -> _exec_single_context line:1908 [INFO]: [cached since 215.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:06,228.228] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:06,229.229] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:06,230.230] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:06,230.230] base.py -> _exec_single_context line:1908 [INFO]: [cached since 215.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:06,230.230] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:06,232.232] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:06,232.232] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 13:01:06,232.232] base.py -> _exec_single_context line:1908 [INFO]: [cached since 215.4s ago] {'hit_count_1': 1, 'id_1_1': UUID('16b9fb57-60c8-4d27-81c7-f7e081056e9a'), 'id_1_2': UUID('331fb168-c9b7-4b94-bbdd-62324945596a'), 'id_1_3': UUID('1795d88c-0734-4d43-99c9-18219adf49b6'), 'id_1_4': UUID('8329c037-6952-4b86-9449-4df18990b095'), 'id_1_5': UUID('b3518485-214d-4d5a-a2ee-394941c8b3ca')}
[2024-10-12 13:01:06,233.233] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:06,234.234] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:01:06] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 13:01:40,775.775] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 13:01:41,088.088] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:01:48,634.634] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:01:48,636.636] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:01:51,140.140] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 13:01:51,141.141] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:01:51,141.141] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 13:01:51,142.142] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:01:51,142.142] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 13:01:51,142.142] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:01:51,144.144] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:51,145.145] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 13:01:51,145.145] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:01:52,764.764] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 13:01:52,765.765] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 13:01:53,099.099] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.334 seconds.
[2024-10-12 13:01:53,099.099] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 13:01:53,100.100] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 13:01:53,100.100] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:01:53,102.102] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 13:01:53,102.102] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {}
[2024-10-12 13:01:53,104.104] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:53,104.104] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:53,105.105] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:53,109.109] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:53,109.109] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:53,109.109] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.00542s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:53,110.110] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:53,111.111] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:53,111.111] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:53,111.111] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007424s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:53,112.112] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:53,113.113] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:53,113.113] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:53,113.113] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009284s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:53,114.114] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:53,115.115] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:53,115.115] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:01:53,115.115] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01126s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:01:53,116.116] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:53,117.117] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:01:53,118.118] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID)
[2024-10-12 13:01:53,118.118] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'hit_count_1': 1, 'id_1_1': UUID('16b9fb57-60c8-4d27-81c7-f7e081056e9a'), 'id_1_2': UUID('331fb168-c9b7-4b94-bbdd-62324945596a'), 'id_1_3': UUID('1795d88c-0734-4d43-99c9-18219adf49b6'), 'id_1_4': UUID('9861621b-f85a-4fb0-9b6a-4cbc8e1d9621'), 'id_1_5': UUID('b3518485-214d-4d5a-a2ee-394941c8b3ca')}
[2024-10-12 13:01:53,119.119] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:01:53,121.121] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:01:53] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 13:02:36,061.061] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:02:36,063.063] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 13:02:36,063.063] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'pk_1': UUID('c0c00b41-1e03-4372-958d-e279186d7074')}
[2024-10-12 13:02:36,064.064] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\document_handler.py", line 83, in delete_document
    self.document_service.delete_document(dataset_id, document_id)
  File "D:\Code\llmops\llmops-api\internal\service\document_service.py", line 233, in delete_document
    raise NotFoundException("该文档不存在，请核实后重试")
internal.exception.exception.NotFoundException
[2024-10-12 13:02:36,065.065] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 13:02:36,065.065] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:02:36] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/c0c00b41-1e03-4372-958d-e279186d7074/delete HTTP/1.1" 200 -
[2024-10-12 13:02:47,244.244] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:02:47,244.244] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 13:02:47,244.244] base.py -> _exec_single_context line:1908 [INFO]: [cached since 11.18s ago] {'pk_1': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 13:02:47,246.246] base.py -> _exec_single_context line:1903 [INFO]: DELETE FROM document WHERE document.id = %(id)s::UUID
[2024-10-12 13:02:47,246.246] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'id': UUID('c4c940e9-42af-4150-9141-814b1d37efce')}
[2024-10-12 13:02:47,246.246] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:02:47,305.305] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:02:47] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents/c4c940e9-42af-4150-9141-814b1d37efce/delete HTTP/1.1" 200 -
[2024-10-12 13:03:20,580.580] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-12 13:03:20,908.908] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:03:25,769.769] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:03:25,772.772] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:03:35,499.499] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 13:03:35,499.499] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:03:35,500.500] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 13:03:35,500.500] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:03:35,500.500] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 13:03:35,501.501] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:03:35,501.501] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:03:35,503.503] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool.id AS api_tool_id, api_tool.account_id AS api_tool_account_id, api_tool.provider_id AS api_tool_provider_id, api_tool.name AS api_tool_name, api_tool.description AS api_tool_description, api_tool.url AS api_tool_url, api_tool.method AS api_tool_method, api_tool.parameters AS api_tool_parameters, api_tool.updated_at AS api_tool_updated_at, api_tool.created_at AS api_tool_created_at 
FROM api_tool 
WHERE api_tool.provider_id = %(provider_id_1)s::UUID AND api_tool.name = %(name_1)s
[2024-10-12 13:03:35,503.503] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'provider_id_1': 'd72bb9d7-8794-4caf-bd60-1f992c537065', 'name_1': 'YoudaoSuggest'}
[2024-10-12 13:03:35,676.676] base.py -> _exec_single_context line:1903 [INFO]: SELECT api_tool_provider.id AS api_tool_provider_id, api_tool_provider.account_id AS api_tool_provider_account_id, api_tool_provider.name AS api_tool_provider_name, api_tool_provider.icon AS api_tool_provider_icon, api_tool_provider.description AS api_tool_provider_description, api_tool_provider.openapi_schema AS api_tool_provider_openapi_schema, api_tool_provider.headers AS api_tool_provider_headers, api_tool_provider.updated_at AS api_tool_provider_updated_at, api_tool_provider.created_at AS api_tool_provider_created_at 
FROM api_tool_provider 
WHERE api_tool_provider.id = %(pk_1)s::UUID
[2024-10-12 13:03:35,676.676] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('d72bb9d7-8794-4caf-bd60-1f992c537065')}
[2024-10-12 13:03:36,099.099] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 13:03:36,100.100] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:03:36] "GET /ping HTTP/1.1" 200 -
[2024-10-12 13:03:42,373.373] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\app_handler.py', reloading
[2024-10-12 13:03:42,670.670] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:03:47,620.620] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:03:47,623.623] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:03:58,497.497] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 13:03:58,497.497] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:03:58,499.499] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 13:03:58,499.499] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:03:58,499.499] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 13:03:58,499.499] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 13:03:58,500.500] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:03:58,502.502] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO upload_file (account_id, name, key, size, extension, mime_type, hash) VALUES (%(account_id)s::UUID, %(name)s, %(key)s, %(size)s, %(extension)s, %(mime_type)s, %(hash)s) RETURNING upload_file.id, upload_file.updated_at, upload_file.created_at
[2024-10-12 13:03:58,502.502] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'name': '项目API文档-完整.md', 'key': '2024/10/12/fcd36f18-50cc-4d6a-9f84-1c971e6af7a4.md', 'size': 95011, 'extension': 'md', 'mime_type': 'text/markdown', 'hash': '052124024178610f7306f7d59427cc6a0e4b06085c8565343b19bca734652280'}
[2024-10-12 13:03:58,555.555] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:03:58,582.582] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:03:58,584.584] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-12 13:03:58,584.584] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 13:03:58,586.586] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 13:03:58,587.587] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:03:58] "POST /upload-files/file HTTP/1.1" 200 -
[2024-10-12 13:04:28,099.099] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:04:28,101.101] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 13:04:28,101.101] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:04:28,103.103] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.account_id = %(account_id_1)s::UUID AND upload_file.id IN (%(id_1_1)s::UUID)
[2024-10-12 13:04:28,104.104] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': '4cdddf4d-6642-4bb3-87be-63dc77408c7e'}
[2024-10-12 13:04:28,105.105] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO process_rule (account_id, dataset_id, mode, rule) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(mode)s, %(rule)s) RETURNING process_rule.id, process_rule.updated_at, process_rule.created_at
[2024-10-12 13:04:28,106.106] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00029s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'mode': 'automatic', 'rule': '{"pre_process_rules": [{"id": "remove_extra_space", "enabled": true}, {"id": "remove_url_and_email", "enabled": true}], "segment": {"separators": ["\ ... (15 characters truncated) ... "\\u3002|\\uff01|\\uff1f", "\\\\.\\\\s|\\\\!\\\\s|\\\\?\\\\s", "\\uff1b|;\\\\s", "\\uff0c|,\\\\s", " ", ""], "chunk_size": 500, "chunk_overlap": 50}}'}
[2024-10-12 13:04:28,195.195] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:04:28,198.198] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:04:28,201.201] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.position DESC 
 LIMIT %(param_1)s
[2024-10-12 13:04:28,201.201] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 1}
[2024-10-12 13:04:28,202.202] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(pk_1)s::UUID
[2024-10-12 13:04:28,202.202] base.py -> _exec_single_context line:1908 [INFO]: [cached since 29.62s ago] {'pk_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 13:04:28,204.204] base.py -> _exec_single_context line:1903 [INFO]: SELECT process_rule.id AS process_rule_id, process_rule.account_id AS process_rule_account_id, process_rule.dataset_id AS process_rule_dataset_id, process_rule.mode AS process_rule_mode, process_rule.rule AS process_rule_rule, process_rule.updated_at AS process_rule_updated_at, process_rule.created_at AS process_rule_created_at 
FROM process_rule 
WHERE process_rule.id = %(pk_1)s::UUID
[2024-10-12 13:04:28,204.204] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'pk_1': UUID('5e280b48-ce7d-4ba7-b09e-06c0880a5c4f')}
[2024-10-12 13:04:28,255.255] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO document (account_id, dataset_id, upload_file_id, process_rule_id, batch, name, position, processing_started_at, parsing_completed_at, splitting_completed_at, indexing_completed_at, completed_at, stopped_at, disabled_at) VALUES (%(account_id)s::UUID, %(dataset_id)s::UUID, %(upload_file_id)s::UUID, %(process_rule_id)s::UUID, %(batch)s, %(name)s, %(position)s, %(processing_started_at)s, %(parsing_completed_at)s, %(splitting_completed_at)s, %(indexing_completed_at)s, %(completed_at)s, %(stopped_at)s, %(disabled_at)s) RETURNING document.id, document.character_count, document.token_count, document.error, document.enabled, document.status, document.updated_at, document.created_at
[2024-10-12 13:04:28,255.255] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00037s] {'account_id': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'upload_file_id': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e'), 'process_rule_id': UUID('5e280b48-ce7d-4ba7-b09e-06c0880a5c4f'), 'batch': '20241012130428308453', 'name': '项目API文档-完整.md', 'position': 1, 'processing_started_at': None, 'parsing_completed_at': None, 'splitting_completed_at': None, 'indexing_completed_at': None, 'completed_at': None, 'stopped_at': None, 'disabled_at': None}
[2024-10-12 13:04:28,275.275] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:04:28,282.282] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:04:28,283.283] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 13:04:28,283.283] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 13:04:28,348.348] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 13:04:28,348.348] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:04:28] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents HTTP/1.1" 200 -
[2024-10-12 13:04:52,991.991] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:04:52,991.991] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 13:04:52,991.991] base.py -> _exec_single_context line:1908 [INFO]: [cached since 24.89s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:04:52,993.993] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 13:04:52,993.993] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-12 13:04:52,996.996] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-12 13:04:52,996.996] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:04:52,998.998] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-12 13:04:52,998.998] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'coalesce_2': 0, 'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 13:04:52,999.999] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 13:04:52,999.999] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:04:52] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-12 13:05:06,628.628] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:06,629.629] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 13:05:06,629.629] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:05:08,281.281] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 13:05:08,281.281] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 13:05:08,606.606] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.325 seconds.
[2024-10-12 13:05:08,606.606] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 13:05:08,607.607] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 13:05:08,608.608] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:05:08,610.610] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 13:05:08,611.611] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'id_1_1': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_2': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_3': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0'}
[2024-10-12 13:05:08,613.613] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,614.614] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,614.614] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,617.617] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,617.617] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,617.617] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.003652s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,618.618] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,619.619] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,619.619] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,619.619] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006169s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,620.620] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,621.621] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,622.622] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,622.622] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.008734s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,623.623] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,624.624] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,624.624] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,624.624] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.0107s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,624.624] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,626.626] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,626.626] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,626.626] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01267s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,627.627] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,628.628] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,628.628] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,628.628] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01481s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,629.629] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,630.630] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,630.630] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,630.630] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.0169s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,631.631] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,632.632] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,632.632] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,632.632] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01892s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,633.633] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,634.634] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,634.634] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:08,634.634] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.02101s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '能介绍下什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:08,636.636] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,638.638] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:08,638.638] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 13:05:08,638.638] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': UUID('c81d9e46-a567-40d7-8bdb-e9abad764ca9'), 'id_1_3': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_4': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_5': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_6': UUID('df2676ee-80e3-4f2a-8264-e964737999d7'), 'id_1_7': UUID('b3602036-ff74-4fe3-ab5c-4599ee6bb26d'), 'id_1_8': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_9': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_10': UUID('8905f4ba-9870-4d9d-b251-21c7dea924f8')}
[2024-10-12 13:05:08,638.638] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:08,640.640] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:05:08] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 13:05:17,598.598] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:17,598.598] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 13:05:17,598.598] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.5s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:05:17,599.599] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 13:05:17,600.600] base.py -> _exec_single_context line:1908 [INFO]: [cached since 24.61s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-12 13:05:17,601.601] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-12 13:05:17,601.601] base.py -> _exec_single_context line:1908 [INFO]: [cached since 24.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:05:17,602.602] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-12 13:05:17,602.602] base.py -> _exec_single_context line:1908 [INFO]: [cached since 24.6s ago] {'coalesce_2': 0, 'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 13:05:17,603.603] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 13:05:17,604.604] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:05:17] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-12 13:05:47,696.696] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:47,697.697] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 13:05:47,697.697] base.py -> _exec_single_context line:1908 [INFO]: [cached since 41.07s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:05:49,148.148] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 13:05:49,148.148] base.py -> _exec_single_context line:1908 [INFO]: [cached since 40.54s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:05:49,150.150] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 13:05:49,150.150] base.py -> _exec_single_context line:1908 [INFO]: [cached since 40.54s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f', 'id_1_3': '5e263884-57e1-4366-82f1-94b86724c4ea', 'id_1_4': '46a0e1e7-79c7-4c63-bdb2-08a97955a422'}
[2024-10-12 13:05:49,152.152] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:49,152.152] base.py -> _exec_single_context line:1908 [INFO]: [cached since 40.54s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:49,153.153] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:49,155.155] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:49,155.155] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:49,155.155] base.py -> _exec_single_context line:1908 [INFO]: [cached since 40.54s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:49,156.156] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:49,158.158] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:49,158.158] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:49,158.158] base.py -> _exec_single_context line:1908 [INFO]: [cached since 40.54s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:49,159.159] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:49,160.160] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:49,160.160] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 13:05:49,160.160] base.py -> _exec_single_context line:1908 [INFO]: [cached since 40.55s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 13:05:49,161.161] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:49,162.162] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:49,163.163] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 13:05:49,163.163] base.py -> _exec_single_context line:1908 [INFO]: [cached since 40.52s ago] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_3': UUID('7bec2cf6-db6c-4c37-91fa-b197f836c7f8'), 'id_1_4': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 13:05:49,164.164] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 13:05:49,166.166] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:05:49] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 13:05:56,234.234] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 13:05:56,234.234] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 13:05:56,234.234] base.py -> _exec_single_context line:1908 [INFO]: [cached since 88.13s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:05:56,235.235] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID ORDER BY document.created_at DESC 
 LIMIT %(param_1)s OFFSET %(param_2)s
[2024-10-12 13:05:56,235.235] base.py -> _exec_single_context line:1908 [INFO]: [cached since 63.24s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 20, 'param_2': 0}
[2024-10-12 13:05:56,236.236] base.py -> _exec_single_context line:1903 [INFO]: SELECT count(*) AS count_1 
FROM (SELECT document.id AS id, document.account_id AS account_id, document.dataset_id AS dataset_id, document.upload_file_id AS upload_file_id, document.process_rule_id AS process_rule_id, document.batch AS batch, document.name AS name, document.position AS position, document.character_count AS character_count, document.token_count AS token_count, document.processing_started_at AS processing_started_at, document.parsing_completed_at AS parsing_completed_at, document.splitting_completed_at AS splitting_completed_at, document.indexing_completed_at AS indexing_completed_at, document.completed_at AS completed_at, document.stopped_at AS stopped_at, document.error AS error, document.enabled AS enabled, document.disabled_at AS disabled_at, document.status AS status, document.updated_at AS updated_at, document.created_at AS created_at 
FROM document 
WHERE document.account_id = %(account_id_1)s::UUID AND document.dataset_id = %(dataset_id_1)s::UUID) AS anon_1
[2024-10-12 13:05:56,236.236] base.py -> _exec_single_context line:1908 [INFO]: [cached since 63.24s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 13:05:56,237.237] base.py -> _exec_single_context line:1903 [INFO]: SELECT coalesce(sum(segment.hit_count), %(coalesce_2)s) AS coalesce_1 
FROM segment 
WHERE segment.document_id = %(document_id_1)s::UUID
[2024-10-12 13:05:56,237.237] base.py -> _exec_single_context line:1908 [INFO]: [cached since 63.24s ago] {'coalesce_2': 0, 'document_id_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 13:05:56,238.238] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 13:05:56,238.238] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 13:05:56] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/documents?current_page=1&page_size=20 HTTP/1.1" 200 -
[2024-10-12 13:28:36,179.179] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 13:28:36,558.558] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:28:46,208.208] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:29:02,811.811] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:29:07,938.938] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:29:12,236.236] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:29:12,241.241] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:29:19,471.471] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\dataset_entity.py', reloading
[2024-10-12 13:29:19,769.769] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:29:24,361.361] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:29:24,364.364] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:30:37,800.800] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-12 13:30:37,801.801] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-12 13:30:37,802.802] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:30:41,912.912] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:30:41,915.915] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:40:31,547.547] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 13:40:31,814.814] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:40:35,832.832] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:40:35,835.835] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:41:48,244.244] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 13:41:48,525.525] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:41:52,586.586] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:41:52,589.589] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:42:07,739.739] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 13:42:08,048.048] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:42:12,029.029] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:42:12,031.031] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:46:45,092.092] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 13:46:45,361.361] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:46:49,153.153] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:46:49,155.155] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:47:34,303.303] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 13:47:34,601.601] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:47:38,602.602] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:47:38,605.605] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:47:44,608.608] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 13:47:44,951.951] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:47:48,799.799] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:47:48,802.802] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:48:08,520.520] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\__init__.py', reloading
[2024-10-12 13:48:08,798.798] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:48:12,719.719] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:48:12,722.722] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:48:46,223.223] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 13:48:46,516.516] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:48:50,409.409] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:48:50,412.412] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:48:58,661.661] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 13:48:58,957.957] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:49:02,840.840] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:49:02,843.843] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:49:56,949.949] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 13:49:57,226.226] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:50:01,225.225] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:50:01,228.228] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:50:20,948.948] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 13:50:21,257.257] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:50:25,238.238] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:50:25,241.241] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:53:03,653.653] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 13:53:03,988.988] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:53:08,364.364] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:53:08,367.367] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:55:04,419.419] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 13:55:04,752.752] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:55:08,686.686] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:55:08,689.689] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 13:59:12,411.411] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 13:59:12,746.746] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 13:59:16,866.866] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 13:59:16,869.869] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:00:22,549.549] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 14:00:22,886.886] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:00:26,807.807] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:00:26,810.810] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:02:55,246.246] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 14:02:55,539.539] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:02:59,637.637] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:02:59,639.639] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:03:05,646.646] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 14:03:05,920.920] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:03:09,924.924] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:03:09,927.927] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:06:01,683.683] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\__init__.py', reloading
[2024-10-12 14:06:01,984.984] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:06:05,806.806] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:06:05,809.809] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:27:01,177.177] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\full_text_retriever.py', reloading
[2024-10-12 14:27:01,473.473] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:27:05,755.755] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:27:05,758.758] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:38:16,801.801] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 844, in dispatch_request
    self.raise_routing_exception(req)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 453, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\werkzeug\routing\map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-12 14:38:16,832.832] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 14:38:16] "[35m[1mGET /datasets/:dataset_id/query HTTP/1.1[0m" 500 -
[2024-10-12 14:50:05,934.934] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\dataset_entity.py', reloading
[2024-10-12 14:50:06,259.259] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:50:10,248.248] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:50:10,251.251] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:50:53,988.988] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\entity\\dataset_entity.py', reloading
[2024-10-12 14:50:54,261.261] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:50:58,623.623] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:50:58,626.626] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:53:44,229.229] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 14:53:44,577.577] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:53:48,632.632] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:53:48,635.635] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:54:26,839.839] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 14:54:27,154.154] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:54:31,204.204] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:54:31,207.207] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:55:26,594.594] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 14:55:26,897.897] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:55:30,896.896] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:55:30,898.898] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:57:20,060.060] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 14:57:20,427.427] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:57:24,455.455] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:57:24,458.458] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 14:58:23,196.196] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 14:58:23,506.506] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 14:58:27,478.478] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 14:58:27,481.481] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:02:57,412.412] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:02:57,685.685] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:03:01,775.775] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:03:01,777.777] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:08:45,303.303] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:08:45,585.585] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:08:49,696.696] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:08:49,698.698] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:09:07,106.106] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:09:07,383.383] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:09:11,586.586] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:09:11,588.588] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:09:33,651.651] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:09:33,986.986] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:09:38,068.068] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:09:38,071.071] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:09:57,794.794] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:09:58,086.086] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:10:02,216.216] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:10:02,220.220] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:10:13,964.964] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\__init__.py', reloading
[2024-10-12 15:10:14,259.259] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:10:18,412.412] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:10:18,414.414] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:11:09,413.413] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 15:11:09,746.746] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:11:13,869.869] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:11:13,871.871] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:40:08,991.991] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 15:40:09,276.276] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:41:08,839.839] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:41:35,405.405] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:42:53,468.468] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:42:59,139.139] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:43:03,741.741] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:43:07,439.439] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:43:10,110.110] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:43:13,759.759] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:43:25,053.053] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:43:39,692.692] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:44:06,271.271] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:44:19,749.749] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:44:32,278.278] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:44:40,437.437] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:44:44,185.185] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:44:46,538.538] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:44:58,594.594] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:45:15,534.534] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:46:13,887.887] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:46:18,744.744] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:46:22,523.523] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:46:26,203.203] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:46:49,675.675] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:46:58,884.884] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:47:08,135.135] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:47:46,959.959] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:48:07,932.932] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:48:15,953.953] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:48:20,773.773] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:48:25,545.545] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:48:32,537.537] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:48:37,345.345] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:48:44,381.381] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:48:49,201.201] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:49:14,737.737] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:49:21,646.646] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:49:26,577.577] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:49:38,999.999] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:49:43,784.784] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:50:05,068.068] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:51:57,014.014] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:52:01,609.609] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:52:01,612.612] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:52:04,187.187] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:52:04,470.470] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:52:09,139.139] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:52:09,142.142] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:52:12,082.082] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 15:52:12,082.082] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:52:12,084.084] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 15:52:12,084.084] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:52:12,085.085] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 15:52:12,085.085] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:52:12,086.086] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:52:12,087.087] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:52:12,087.087] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:53:04,958.958] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:04,958.958] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:53:04,958.958] base.py -> _exec_single_context line:1908 [INFO]: [cached since 52.87s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:53:05,936.936] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 15:53:05,937.937] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 15:53:06,325.325] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.389 seconds.
[2024-10-12 15:53:06,326.326] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 15:53:06,328.328] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 15:53:06,328.328] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:53:06,331.331] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:53:06,331.331] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f', 'id_1_3': '5e263884-57e1-4366-82f1-94b86724c4ea', 'id_1_4': '46a0e1e7-79c7-4c63-bdb2-08a97955a422'}
[2024-10-12 15:53:06,333.333] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:53:06,333.333] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:53:06,334.334] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:06,338.338] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:06,338.338] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:53:06,338.338] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.00523s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:53:06,339.339] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:06,340.340] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:06,340.340] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:53:06,341.341] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007419s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:53:06,341.341] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:06,343.343] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:06,343.343] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:53:06,343.343] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009674s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:53:06,344.344] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:06,345.345] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:06,346.346] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:53:06,346.346] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_3': UUID('7bec2cf6-db6c-4c37-91fa-b197f836c7f8'), 'id_1_4': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:53:06,347.347] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:06,348.348] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:06,348.348] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:53:06,348.348] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01821s ago] {'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_3': UUID('7bec2cf6-db6c-4c37-91fa-b197f836c7f8'), 'id_1_4': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:53:06,353.353] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 15:53:06,353.353] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 15:53:06,355.355] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:53:06,355.355] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:53:06,356.356] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:53:06,356.356] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001155s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:53:06,357.357] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:53:06,357.357] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:53:06] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:53:26,155.155] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:26,155.155] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:53:26,155.155] base.py -> _exec_single_context line:1908 [INFO]: [cached since 74.07s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:53:26,872.872] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 15:53:26,872.872] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.54s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:53:26,873.873] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:53:26,873.873] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.54s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f', 'id_1_3': '5e263884-57e1-4366-82f1-94b86724c4ea', 'id_1_4': '46a0e1e7-79c7-4c63-bdb2-08a97955a422'}
[2024-10-12 15:53:26,875.875] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:53:26,875.875] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.54s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:53:26,876.876] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:26,879.879] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:26,879.879] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:53:26,880.880] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.55s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:53:26,881.881] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:26,882.882] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:26,882.882] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:53:26,882.882] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.55s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:53:26,883.883] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:26,884.884] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:26,884.884] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:53:26,884.884] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.55s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:53:26,885.885] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:26,887.887] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:26,887.887] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:53:26,887.887] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.54s ago] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_3': UUID('7bec2cf6-db6c-4c37-91fa-b197f836c7f8'), 'id_1_4': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:53:26,888.888] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:53:26,889.889] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:53:26,889.889] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:53:26,889.889] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.56s ago] {'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_3': UUID('7bec2cf6-db6c-4c37-91fa-b197f836c7f8'), 'id_1_4': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:53:26,891.891] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 15:53:26,891.891] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.54s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 15:53:26,891.891] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:53:26,891.891] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:53:26,893.893] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:53:26,893.893] base.py -> _exec_single_context line:1908 [INFO]: [cached since 20.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:53:26,894.894] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:53:26,895.895] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:53:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:53:51,136.136] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:53:51,463.463] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:53:56,186.186] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:53:56,188.188] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:55:35,670.670] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 15:55:35,670.670] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:55:35,671.671] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 15:55:35,671.671] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:55:35,672.672] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 15:55:35,672.672] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:55:35,673.673] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:35,675.675] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:55:35,675.675] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00029s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:55:36,673.673] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:55:36,674.674] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00038s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:55:36,675.675] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:36,678.678] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:36,678.678] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:55:36,679.679] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005155s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:55:36,680.680] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:36,682.682] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:36,682.682] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:55:36,682.682] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.008641s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:55:36,683.683] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:36,683.683] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:36,684.684] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:55:36,684.684] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01139s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:55:36,685.685] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:36,687.687] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:36,688.688] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:55:36,688.688] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': UUID('7bec2cf6-db6c-4c37-91fa-b197f836c7f8'), 'id_1_3': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:55:36,689.689] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:36,691.691] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:36,694.694] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:55:36,694.694] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': UUID('7bec2cf6-db6c-4c37-91fa-b197f836c7f8'), 'id_1_3': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:55:36,696.696] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:55:36,697.697] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:55:36] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:55:53,579.579] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:53,580.580] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:55:53,580.580] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.9s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:55:53,581.581] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 15:55:53,581.581] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 15:55:53,909.909] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.328 seconds.
[2024-10-12 15:55:53,909.909] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 15:55:53,910.910] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 15:55:53,910.910] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:55:53,912.912] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:55:53,912.912] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.22s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f', 'id_1_3': '5e263884-57e1-4366-82f1-94b86724c4ea', 'id_1_4': '46a0e1e7-79c7-4c63-bdb2-08a97955a422'}
[2024-10-12 15:55:53,914.914] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:55:53,914.914] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.24s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:55:53,915.915] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:53,917.917] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:53,918.918] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:55:53,918.918] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.24s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:55:53,918.918] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:53,920.920] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:53,920.920] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:55:53,920.920] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.25s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:55:53,921.921] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:53,921.921] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:53,921.921] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:55:53,921.921] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.25s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于应用的配置资料有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:55:53,922.922] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:53,923.923] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:53,924.924] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:55:53,924.924] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.24s ago] {'hit_count_1': 1, 'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f', 'id_1_3': '5e263884-57e1-4366-82f1-94b86724c4ea', 'id_1_4': '46a0e1e7-79c7-4c63-bdb2-08a97955a422'}
[2024-10-12 15:55:53,924.924] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:55:53,926.926] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:55:53,926.926] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:55:53,926.926] base.py -> _exec_single_context line:1908 [INFO]: [cached since 17.23s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f', 'id_1_3': '5e263884-57e1-4366-82f1-94b86724c4ea', 'id_1_4': '46a0e1e7-79c7-4c63-bdb2-08a97955a422'}
[2024-10-12 15:55:53,929.929] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 15:55:53,929.929] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 15:55:53,931.931] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:55:53,931.931] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:55:53,932.932] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:55:53,932.932] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.00123s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:55:53,933.933] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:55:53,933.933] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.002034s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:55:53,934.934] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:55:53,934.934] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.002954s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:55:53,935.935] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:55:53,936.936] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:55:53] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:56:02,875.875] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:02,875.875] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:56:02,875.875] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.2s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:56:02,877.877] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 15:56:02,877.877] base.py -> _exec_single_context line:1908 [INFO]: [cached since 8.967s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:56:02,878.878] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 15:56:02,878.878] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.18s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:56:02,880.880] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:56:02,880.880] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.21s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:56:02,880.880] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:02,884.884] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:02,884.884] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:56:02,884.884] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.21s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:56:02,885.885] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:02,886.886] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:02,886.886] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 15:56:02,886.886] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.2s ago] {'hit_count_1': 1, 'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:56:02,887.887] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:02,888.888] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:02,888.888] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 15:56:02,888.888] base.py -> _exec_single_context line:1908 [INFO]: [cached since 26.19s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:56:02,889.889] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 15:56:02,890.890] base.py -> _exec_single_context line:1908 [INFO]: [cached since 8.96s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 15:56:02,893.893] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:56:02,893.893] base.py -> _exec_single_context line:1908 [INFO]: [cached since 8.962s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:56:02,894.894] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:56:02,894.894] base.py -> _exec_single_context line:1908 [INFO]: [cached since 8.963s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:56:02,895.895] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:56:02,896.896] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:56:02] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:56:05,569.569] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:05,569.569] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:56:05,569.569] base.py -> _exec_single_context line:1908 [INFO]: [cached since 29.89s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:56:05,571.571] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 15:56:05,571.571] base.py -> _exec_single_context line:1908 [INFO]: [cached since 11.66s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:56:05,572.572] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 15:56:05,572.572] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.88s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:56:05,573.573] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:56:05,574.574] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.9s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:56:05,574.574] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:05,576.576] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:05,577.577] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:56:05,577.577] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.9s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:56:05,578.578] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:05,579.579] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:05,580.580] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 15:56:05,580.580] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.89s ago] {'hit_count_1': 1, 'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:56:05,580.580] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:05,581.581] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:05,582.582] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 15:56:05,582.582] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.89s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 15:56:05,582.582] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 15:56:05,582.582] base.py -> _exec_single_context line:1908 [INFO]: [cached since 11.65s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 15:56:05,583.583] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:56:05,583.583] base.py -> _exec_single_context line:1908 [INFO]: [cached since 11.65s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:56:05,584.584] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 15:56:05,584.584] base.py -> _exec_single_context line:1908 [INFO]: [cached since 11.65s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 15:56:05,585.585] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:56:05,586.586] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:56:05] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:56:11,335.335] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:11,335.335] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:56:11,335.335] base.py -> _exec_single_context line:1908 [INFO]: [cached since 35.66s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:56:12,034.034] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:56:12,034.034] base.py -> _exec_single_context line:1908 [INFO]: [cached since 35.36s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:56:12,035.035] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:12,037.037] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:12,037.037] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:56:12,037.037] base.py -> _exec_single_context line:1908 [INFO]: [cached since 35.36s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:56:12,038.038] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:12,040.040] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:12,040.040] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:56:12,040.040] base.py -> _exec_single_context line:1908 [INFO]: [cached since 35.37s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:56:12,041.041] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:12,042.042] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:12,042.042] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:56:12,043.043] base.py -> _exec_single_context line:1908 [INFO]: [cached since 35.37s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:56:12,044.044] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:12,045.045] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:12,046.046] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:56:12,046.046] base.py -> _exec_single_context line:1908 [INFO]: [cached since 35.36s ago] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:56:12,046.046] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:56:12,048.048] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:12,048.048] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:56:12,048.048] base.py -> _exec_single_context line:1908 [INFO]: [cached since 35.35s ago] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:56:12,049.049] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:56:12,049.049] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:56:12] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:56:50,516.516] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:56:50,824.824] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:56:55,360.360] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:56:55,362.362] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:56:59,662.662] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 15:56:59,663.663] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:56:59,663.663] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 15:56:59,663.663] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:56:59,664.664] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 15:56:59,664.664] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:56:59,665.665] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:56:59,666.666] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:56:59,666.666] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:57:00,451.451] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:57:00,451.451] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:57:00,452.452] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:00,465.465] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:00,465.465] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:57:00,466.466] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01541s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:57:00,466.466] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:00,468.468] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:00,468.468] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:57:00,468.468] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01757s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:57:00,469.469] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:00,470.470] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:00,470.470] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:57:00,470.470] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01975s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:57:00,471.471] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:00,473.473] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:00,473.473] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:57:00,473.473] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:57:00,474.474] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:00,478.478] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:00,479.479] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:57:00,479.479] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:57:00,482.482] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:57:00,482.482] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:57:00] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:57:13,262.262] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-12 15:57:13,262.262] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-12 15:57:13,263.263] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:57:17,781.781] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:57:17,783.783] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:57:17,941.941] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 15:57:17,941.941] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:57:17,941.941] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 15:57:17,941.941] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:57:17,941.941] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 15:57:17,941.941] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:57:17,942.942] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:17,943.943] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:57:17,943.943] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:57:18,834.834] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:57:18,834.834] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00029s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:57:18,837.837] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:18,839.839] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:18,840.840] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:57:18,840.840] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006455s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:57:18,841.841] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:18,843.843] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:18,843.843] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:57:18,843.843] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009464s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:57:18,844.844] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:18,845.845] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:18,845.845] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:57:18,845.845] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01161s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:57:18,846.846] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:18,849.849] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:18,849.849] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:57:18,849.849] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:57:18,850.850] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:57:18,852.852] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:57:18,853.853] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:57:18,853.853] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:57:18,855.855] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:57:18,856.856] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:57:18] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:57:55,118.118] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:57:55,423.423] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:57:59,910.910] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:57:59,912.912] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:58:18,713.713] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:58:19,022.022] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:58:23,601.601] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:58:23,605.605] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:58:25,869.869] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 15:58:25,869.869] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:58:25,870.870] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 15:58:25,870.870] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:58:25,870.870] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 15:58:25,870.870] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:58:25,878.878] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:58:25,880.880] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:58:25,880.880] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:58:26,684.684] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:58:26,684.684] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:58:26,685.685] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:58:26,688.688] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:58:26,688.688] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:58:26,688.688] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004144s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:58:26,689.689] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:58:26,690.690] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:58:26,690.690] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:58:26,690.690] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006165s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:58:26,691.691] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:58:26,692.692] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:58:26,692.692] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 15:58:26,692.692] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.008056s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 15:58:26,693.693] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:58:26,694.694] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:58:26,695.695] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:58:26,695.695] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:58:26,696.696] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 15:58:26,697.697] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:58:26,699.699] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 15:58:26,699.699] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 15:58:26,700.700] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:58:26,700.700] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:58:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 15:58:56,186.186] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 15:58:56,477.477] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 15:59:00,888.888] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 15:59:00,890.890] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 15:59:05,600.600] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 15:59:05,600.600] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:59:05,601.601] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 15:59:05,601.601] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:59:05,602.602] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 15:59:05,602.602] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 15:59:05,603.603] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 15:59:05,604.604] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 15:59:05,604.604] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 15:59:06,457.457] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 'Document' object is not subscriptable
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 53, in hit
    hit_result = self.dataset_service.hit(dataset_id, req)
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 130, in hit
    lc_documents = self.retrieval_service.search_in_kwargs(
  File "D:\Code\llmops\llmops-api\internal\service\retrieval_service.py", line 84, in search_in_kwargs
    print("片段id列表:", [lc_document.metadata["segment_id"] for lc_document in lc_documents])
  File "D:\Code\llmops\llmops-api\internal\service\retrieval_service.py", line 84, in <listcomp>
    print("片段id列表:", [lc_document.metadata["segment_id"] for lc_document in lc_documents])
TypeError: 'Document' object is not subscriptable
[2024-10-12 15:59:06,458.458] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 15:59:06,471.471] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 15:59:06] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 15:59:57,754.754] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 15:59:58,053.053] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:00:02,577.577] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:00:02,579.579] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:00:05,142.142] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:00:05,142.142] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:00:05,143.143] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:00:05,143.143] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:00:05,143.143] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:00:05,143.143] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:00:05,144.144] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:05,146.146] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:00:05,146.146] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:00:06,062.062] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:00:06,062.062] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:00:06,063.063] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:06,067.067] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:06,068.068] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:00:06,068.068] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005637s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:00:06,069.069] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:06,070.070] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:06,071.071] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:00:06,071.071] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.008696s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:00:06,072.072] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:06,073.073] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:06,073.073] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:00:06,073.073] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01083s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:00:06,074.074] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:06,075.075] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:06,075.075] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:00:06,076.076] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:00:06,076.076] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:06,078.078] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:06,079.079] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:00:06,079.079] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:00:06,080.080] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:00:06,081.081] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:00:06] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:00:11,089.089] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 16:00:11,409.409] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:00:15,937.937] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:00:15,939.939] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:00:34,662.662] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\retrieval_service.py', reloading
[2024-10-12 16:00:34,936.936] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:00:39,589.589] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:00:39,591.591] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:00:42,422.422] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:00:42,422.422] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:00:42,441.441] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:00:42,441.441] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:00:42,442.442] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:00:42,442.442] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:00:42,443.443] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:42,444.444] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:00:42,445.445] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:00:43,326.326] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:00:43,326.326] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:00:43,327.327] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:43,330.330] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:43,330.330] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:00:43,330.330] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004439s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:00:43,331.331] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:43,332.332] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:43,332.332] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:00:43,332.332] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006534s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:00:43,334.334] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:43,336.336] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:43,336.336] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:00:43,336.336] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01028s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:00:43,337.337] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:43,339.339] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:43,339.339] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:00:43,339.339] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:00:43,340.340] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:00:43,342.342] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:00:43,343.343] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:00:43,343.343] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:00:43,344.344] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:00:43,344.344] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:00:43] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:01:32,117.117] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 16:01:32,422.422] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:01:36,899.899] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:01:36,902.902] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:01:39,628.628] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:01:39,628.628] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:01:39,629.629] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:01:39,629.629] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:01:39,630.630] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:01:39,630.630] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:01:39,630.630] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:01:39,632.632] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:01:39,632.632] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:01:40,511.511] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:01:40,511.511] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:01:40,513.513] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:01:40,515.515] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:01:40,516.516] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:01:40,516.516] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004817s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:01:40,517.517] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:01:40,518.518] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:01:40,518.518] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:01:40,518.518] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007125s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:01:40,519.519] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:01:40,520.520] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:01:40,520.520] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:01:40,520.520] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009259s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:01:40,520.520] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:01:40,522.522] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:01:40,522.522] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:01:40,523.523] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:01:40,524.524] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:01:40,526.526] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:01:40,527.527] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:01:40,527.527] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00038s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:01:40,529.529] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:01:40,530.530] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:01:40] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:03:20,713.713] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:03:21,064.064] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:03:25,861.861] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:03:25,864.864] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:03:26,035.035] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:03:26,035.035] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:03:26,036.036] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:03:26,036.036] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:03:26,036.036] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:03:26,037.037] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:03:26,037.037] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:03:26,039.039] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:03:26,039.039] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:03:26,963.963] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:03:26,963.963] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:03:26,965.965] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:03:26,966.966] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:03:26,967.967] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:03:26,967.967] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004236s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:03:26,967.967] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:03:26,968.968] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:03:26,969.969] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:03:26,969.969] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006165s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:03:26,969.969] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:03:26,970.970] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:03:26,970.970] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:03:26,970.970] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007892s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:03:26,971.971] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:03:26,972.972] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:03:26,973.973] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:03:26,973.973] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:03:26,974.974] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:03:26,975.975] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:03:26,977.977] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:03:26,977.977] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:03:26,979.979] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:03:26,979.979] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:03:26] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:03:45,952.952] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:03:46,227.227] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:03:50,970.970] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:03:50,972.972] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:04:07,396.396] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:04:07,667.667] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:04:12,040.040] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:04:12,042.042] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:04:14,049.049] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:04:14,049.049] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:04:14,049.049] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:04:14,049.049] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:04:14,050.050] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:04:14,050.050] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:04:14,050.050] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:14,052.052] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:04:14,052.052] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:04:14,948.948] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:04:14,948.948] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:04:14,950.950] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:14,953.953] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:14,953.953] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:04:14,953.953] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005177s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:04:14,954.954] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:14,955.955] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:14,956.956] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:04:14,956.956] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007419s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:04:14,956.956] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:14,958.958] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:14,958.958] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:04:14,958.958] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009524s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:04:14,959.959] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:14,959.959] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:14,960.960] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:04:14,960.960] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:04:14,961.961] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:14,963.963] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:14,965.965] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:04:14,965.965] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00034s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:04:14,967.967] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e')
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 53, in hit
    hit_result = self.dataset_service.hit(dataset_id, req)
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 145, in hit
    sorted_segments = [
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 146, in <listcomp>
    segment_dict[lc_document.metadata["segment_id"]]
KeyError: UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e')
[2024-10-12 16:04:14,968.968] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:04:14,978.978] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:04:14] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 16:04:36,478.478] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:04:36,796.796] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:04:41,498.498] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:04:41,501.501] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:04:43,519.519] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:04:43,519.519] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:04:43,519.519] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:04:43,519.519] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:04:43,520.520] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:04:43,520.520] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:04:43,521.521] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:43,522.522] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:04:43,522.522] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:04:44,370.370] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:04:44,370.370] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:04:44,371.371] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:44,373.373] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:44,373.373] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:04:44,373.373] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004507s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:04:44,374.374] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:44,376.376] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:44,376.376] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:04:44,376.376] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006986s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:04:44,377.377] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:44,378.378] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:44,378.378] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:04:44,378.378] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009111s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:04:44,379.379] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:44,380.380] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:44,381.381] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:04:44,381.381] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:04:44,383.383] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:04:44,384.384] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:04:44,385.385] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:04:44,385.385] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:04:44,389.389] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:04:44,389.389] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:04:44,390.390] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:04:44,391.391] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:04:44,391.391] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 53, in hit
    hit_result = self.dataset_service.hit(dataset_id, req)
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 165, in hit
    "score": lc_document_dict[str(segment.id)].metadata["score"],
KeyError: 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'
[2024-10-12 16:04:44,392.392] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:04:44,401.401] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:04:44] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 16:05:30,190.190] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:05:30,476.476] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:05:34,951.951] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:05:34,953.953] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:05:38,584.584] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:05:38,585.585] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:05:38,585.585] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:05:38,586.586] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:05:38,586.586] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:05:38,586.586] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:05:38,587.587] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:05:38,589.589] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:05:38,589.589] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:05:39,404.404] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:05:39,404.404] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00033s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:05:39,406.406] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:05:39,410.410] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:05:39,410.410] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:05:39,410.410] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007007s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:05:39,411.411] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:05:39,413.413] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:05:39,413.413] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:05:39,413.413] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009793s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:05:39,414.414] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:05:39,415.415] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:05:39,415.415] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:05:39,415.415] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01198s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:05:39,416.416] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:05:39,418.418] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:05:39,419.419] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:05:39,419.419] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:05:39,419.419] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:05:39,422.422] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:05:39,423.423] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:05:39,423.423] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:05:39,426.426] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:05:39,427.427] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:05:39,428.428] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:05:39,428.428] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00012s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:05:39,429.429] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 53, in hit
    hit_result = self.dataset_service.hit(dataset_id, req)
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 165, in hit
    "score": lc_document_dict[str(segment.id)].metadata["score"],
KeyError: 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'
[2024-10-12 16:05:39,431.431] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:05:39,440.440] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:05:39] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 16:05:57,292.292] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:05:57,620.620] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:06:02,272.272] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:06:02,277.277] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:06:04,769.769] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:06:04,769.769] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:06:04,771.771] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:06:04,771.771] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:06:04,772.772] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:06:04,772.772] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:06:04,773.773] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:06:04,774.774] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:06:04,774.774] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:06:05,572.572] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:06:05,572.572] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:06:05,573.573] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:06:05,576.576] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:06:05,576.576] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:06:05,576.576] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004209s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:06:05,577.577] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:06:05,578.578] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:06:05,578.578] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:06:05,578.578] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006105s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:06:05,579.579] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:06:05,580.580] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:06:05,580.580] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:06:05,580.580] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007959s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:06:05,581.581] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:06:05,582.582] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:06:05,583.583] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:06:05,583.583] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:06:05,584.584] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:06:05,586.586] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:06:05,586.586] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:06:05,586.586] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00018s] {'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:06:05,589.589] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:06:05,589.589] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:06:05,591.591] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:06:05,591.591] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:06:05,592.592] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:06:05,592.592] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001067s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:06:05,593.593] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:06:05,593.593] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001822s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:06:05,594.594] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:06:05,594.594] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.002548s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:06:05,595.595] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:06:05,595.595] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:06:05] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:06:22,783.783] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:06:23,090.090] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:06:27,585.585] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:06:27,588.588] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:26:18,023.023] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-12 16:26:18,023.023] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-12 16:26:18,024.024] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:26:22,466.466] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:26:22,469.469] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:26:33,264.264] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:26:33,264.264] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:26:33,265.265] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:26:33,265.265] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:26:33,266.266] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:26:33,266.266] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:26:33,267.267] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:26:33,269.269] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:26:33,269.269] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00032s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:26:33,272.272] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:26:33,272.272] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:26:34,349.349] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:26:34,350.350] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00035s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:26:34,351.351] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:26:34,355.355] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:26:34,355.355] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:26:34,355.355] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005535s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:26:34,358.358] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:26:34,360.360] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:26:34,360.360] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:26:34,360.360] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01047s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:26:34,361.361] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:26:34,362.362] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:26:34,362.362] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:26:34,362.362] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01276s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:26:34,364.364] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:26:34,365.365] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:26:34,367.367] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:26:34,367.367] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:26:34,368.368] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:26:34,369.369] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:26:34,371.371] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:26:34,371.371] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00025s] {'id_1_1': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_2': '25e9fe45-24f2-4f5c-a2f7-86e15bf5f920', 'id_1_3': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_4': 'e2408665-8364-4efa-9aa0-99e4cf3815ee'}
[2024-10-12 16:26:34,373.373] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 'set' object is not subscriptable
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 53, in hit
    hit_result = self.dataset_service.hit(dataset_id, req)
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 151, in hit
    sorted_segments = [
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 152, in <listcomp>
    segment_dict[str(lc_document.metadata["segment_id"])]
TypeError: 'set' object is not subscriptable
[2024-10-12 16:26:34,375.375] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:26:34,396.396] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:26:34] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 16:28:22,681.681] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:28:23,018.018] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:28:27,127.127] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:28:27,130.130] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:28:48,246.246] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:28:48,246.246] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:28:48,248.248] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:28:48,248.248] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:28:48,248.248] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:28:48,248.248] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:28:48,249.249] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:28:48,251.251] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:28:48,251.251] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00041s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:28:48,253.253] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:28:48,253.253] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:28:49,123.123] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:28:49,123.123] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:28:49,124.124] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:28:49,169.169] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:28:49,170.170] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:28:49,170.170] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.04817s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:28:49,172.172] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:28:49,173.173] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:28:49,173.173] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:28:49,173.173] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.05105s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:28:49,174.174] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:28:49,175.175] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:28:49,176.176] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:28:49,176.176] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.05335s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:28:49,177.177] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:28:49,178.178] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:28:49,180.180] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:28:49,180.180] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:28:49,181.181] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:28:49,182.182] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:28:49,184.184] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:28:49,184.184] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00026s] {'id_1_1': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_2': '25e9fe45-24f2-4f5c-a2f7-86e15bf5f920', 'id_1_3': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_4': 'e2408665-8364-4efa-9aa0-99e4cf3815ee'}
[2024-10-12 16:28:49,189.189] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:28:49,189.189] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00031s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:28:49,190.190] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:28:49,190.190] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00020s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:28:49,191.191] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 'set' object is not subscriptable
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 53, in hit
    hit_result = self.dataset_service.hit(dataset_id, req)
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 171, in hit
    "score": lc_document_dict[str(segment.id)].metadata["score"],
TypeError: 'set' object is not subscriptable
[2024-10-12 16:28:49,193.193] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:28:49,214.214] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:28:49] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 16:29:04,052.052] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:29:04,376.376] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:29:08,716.716] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:29:08,719.719] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:30:08,664.664] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:30:08,952.952] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:30:15,001.001] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:30:15,004.004] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:30:49,738.738] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:30:50,007.007] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:30:54,444.444] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:30:54,446.446] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:31:57,223.223] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:31:57,223.223] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:31:57,224.224] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:31:57,224.224] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:31:57,224.224] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:31:57,224.224] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:31:57,225.225] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:31:57,226.226] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:31:57,226.226] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:31:57,228.228] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:31:57,228.228] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:31:58,118.118] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:31:58,118.118] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:31:58,119.119] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:31:58,121.121] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:31:58,121.121] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:31:58,122.122] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.00382s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:31:58,122.122] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:31:58,123.123] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:31:58,123.123] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:31:58,123.123] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.00573s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:31:58,124.124] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:31:58,125.125] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:31:58,125.125] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:31:58,125.125] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007404s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:31:58,126.126] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:31:58,127.127] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:31:58,128.128] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:31:58,128.128] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:31:58,129.129] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:31:58,130.130] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:31:58,132.132] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:31:58,132.132] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'id_1_1': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_2': '25e9fe45-24f2-4f5c-a2f7-86e15bf5f920', 'id_1_3': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_4': 'e2408665-8364-4efa-9aa0-99e4cf3815ee'}
[2024-10-12 16:31:58,136.136] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:31:58,136.136] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:31:58,138.138] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:31:58,138.138] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:31:58,139.139] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:31:58,139.139] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001065s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:31:58,140.140] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:31:58,140.140] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001898s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:31:58,140.140] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:31:58,140.140] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.002838s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:31:58,141.141] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:31:58,141.141] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:31:58] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:32:07,847.847] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:07,848.848] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:32:07,848.848] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.62s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:07,850.850] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:32:07,850.850] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.62s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:08,508.508] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:32:08,509.509] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:32:08,510.510] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:08,511.511] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:08,511.511] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:32:08,511.511] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:32:08,512.512] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:08,513.513] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:08,514.514] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:32:08,514.514] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:32:08,515.515] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:08,517.517] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:08,517.517] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:32:08,517.517] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:32:08,518.518] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:08,519.519] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:08,519.519] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:32:08,520.520] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'hit_count_1': 1, 'id_1_1': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_2': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_3': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_4': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 16:32:08,520.520] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:08,522.522] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:08,522.522] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID)
[2024-10-12 16:32:08,522.522] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'id_1_1': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_2': '25e9fe45-24f2-4f5c-a2f7-86e15bf5f920', 'id_1_3': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_4': 'e2408665-8364-4efa-9aa0-99e4cf3815ee'}
[2024-10-12 16:32:08,523.523] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:32:08,524.524] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:32:08,525.525] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:32:08,525.525] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:32:08,526.526] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:32:08,526.526] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:32:08,527.527] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:32:08,527.527] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:32:08,528.528] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:32:08,528.528] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.39s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:32:08,529.529] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:32:08,530.530] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:32:08] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:32:29,171.171] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:29,172.172] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:32:29,172.172] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.95s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:29,173.173] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:32:29,174.174] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.95s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:29,175.175] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 16:32:29,175.175] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 16:32:29,682.682] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.507 seconds.
[2024-10-12 16:32:29,682.682] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 16:32:29,683.683] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 16:32:29,683.683] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00029s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:29,685.685] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 16:32:29,685.685] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.55s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 16:32:29,687.687] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:32:29,687.687] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.57s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:32:29,688.688] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:29,690.690] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:29,691.691] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:32:29,691.691] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.57s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '配置', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:32:29,692.692] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:29,693.693] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:29,693.693] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 16:32:29,693.693] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.57s ago] {'hit_count_1': 1, 'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 16:32:29,694.694] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:29,696.696] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:29,697.697] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 16:32:29,697.697] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.56s ago] {'id_1_1': '1f3baf18-60e2-4b5b-9b87-e41c8e440bbe', 'id_1_2': '379479fc-8a13-43c5-ac7c-47c13f0fc78f'}
[2024-10-12 16:32:29,698.698] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:32:29,698.698] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.56s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:32:29,699.699] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:32:29,699.699] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.56s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:32:29,700.700] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:32:29,701.701] base.py -> _exec_single_context line:1908 [INFO]: [cached since 31.56s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:32:29,702.702] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:32:29,702.702] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:32:29] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:32:47,813.813] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:47,814.814] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:32:47,814.814] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.59s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:47,815.815] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:32:47,816.816] base.py -> _exec_single_context line:1908 [INFO]: [cached since 50.59s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:47,817.817] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 16:32:47,817.817] base.py -> _exec_single_context line:1908 [INFO]: [cached since 18.13s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:47,819.819] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 16:32:47,819.819] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.69s ago] {}
[2024-10-12 16:32:47,820.820] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 16:32:47,821.821] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.69s ago] {'hit_count_1': 1}
[2024-10-12 16:32:47,821.821] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:47,822.822] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:47,822.822] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 16:32:47,822.822] base.py -> _exec_single_context line:1908 [INFO]: [cached since 49.69s ago] {}
[2024-10-12 16:32:47,825.825] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:32:47,825.825] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:32:47] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:32:54,918.918] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:54,919.919] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:32:54,919.919] base.py -> _exec_single_context line:1908 [INFO]: [cached since 57.69s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:54,920.920] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:32:54,921.921] base.py -> _exec_single_context line:1908 [INFO]: [cached since 57.69s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:54,922.922] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 16:32:54,922.922] base.py -> _exec_single_context line:1908 [INFO]: [cached since 25.24s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:32:54,923.923] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-12 16:32:54,924.924] base.py -> _exec_single_context line:1908 [INFO]: [cached since 56.79s ago] {'id_1_1': 'c167c7e7-4674-41af-b35c-a602dd9e9320'}
[2024-10-12 16:32:54,925.925] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:32:54,925.925] base.py -> _exec_single_context line:1908 [INFO]: [cached since 56.81s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': 'AI', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:32:54,926.926] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:54,927.927] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:54,928.928] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-12 16:32:54,928.928] base.py -> _exec_single_context line:1908 [INFO]: [cached since 56.8s ago] {'hit_count_1': 1, 'id_1_1': 'c167c7e7-4674-41af-b35c-a602dd9e9320'}
[2024-10-12 16:32:54,929.929] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:32:54,932.932] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:32:54,932.932] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID)
[2024-10-12 16:32:54,932.932] base.py -> _exec_single_context line:1908 [INFO]: [cached since 56.8s ago] {'id_1_1': 'c167c7e7-4674-41af-b35c-a602dd9e9320'}
[2024-10-12 16:32:54,933.933] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:32:54,933.933] base.py -> _exec_single_context line:1908 [INFO]: [cached since 56.8s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:32:54,934.934] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:32:54,934.934] base.py -> _exec_single_context line:1908 [INFO]: [cached since 56.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:32:54,935.935] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:32:54,936.936] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:32:54] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:33:23,005.005] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,005.005] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:33:23,005.005] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.78s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:33:23,007.007] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 16:33:23,007.007] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.78s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:33:23,634.634] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 16:33:23,635.635] base.py -> _exec_single_context line:1908 [INFO]: [cached since 53.95s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:33:23,636.636] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 16:33:23,637.637] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.5s ago] {'id_1_1': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_2': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_3': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0'}
[2024-10-12 16:33:23,639.639] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,639.639] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.52s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,640.640] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,643.643] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,643.643] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,643.643] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.53s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,644.644] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,645.645] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,646.646] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,646.646] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.53s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,646.646] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,647.647] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,647.647] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,647.647] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.53s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,648.648] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,649.649] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,650.650] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,650.650] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.53s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,650.650] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,652.652] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,652.652] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,652.652] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.53s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,653.653] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,654.654] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,655.655] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,655.655] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,655.655] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,658.658] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,658.658] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,658.658] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,659.659] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,660.660] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,661.661] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,661.661] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,661.661] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,663.663] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,663.663] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 16:33:23,663.663] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.55s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 16:33:23,664.664] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,666.666] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,666.666] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 16:33:23,666.666] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': UUID('c81d9e46-a567-40d7-8bdb-e9abad764ca9'), 'id_1_3': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_4': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_5': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_6': UUID('df2676ee-80e3-4f2a-8264-e964737999d7'), 'id_1_7': UUID('b3602036-ff74-4fe3-ab5c-4599ee6bb26d'), 'id_1_8': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_9': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_10': UUID('4adb6c36-fb5d-4818-87d4-dc7983a74812')}
[2024-10-12 16:33:23,667.667] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 16:33:23,669.669] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:33:23,669.669] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 16:33:23,669.669] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1_1': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_2': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_3': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_4': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_5': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_6': 'df2676ee-80e3-4f2a-8264-e964737999d7', 'id_1_7': 'b3602036-ff74-4fe3-ab5c-4599ee6bb26d', 'id_1_8': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_9': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_10': '4adb6c36-fb5d-4818-87d4-dc7983a74812'}
[2024-10-12 16:33:23,671.671] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 16:33:23,671.671] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 16:33:23,671.671] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,672.672] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.53s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,672.672] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,673.673] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,674.674] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,674.674] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,675.675] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,675.675] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,676.676] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,676.676] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,677.677] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,677.677] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,678.678] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,678.678] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,679.679] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,679.679] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,680.680] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,681.681] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,681.681] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 16:33:23,682.682] base.py -> _exec_single_context line:1908 [INFO]: [cached since 85.54s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 16:33:23,684.684] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:33:23,685.685] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:33:23] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 16:35:19,688.688] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 16:35:20,012.012] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:35:24,281.281] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:35:24,285.285] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:35:47,507.507] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 16:35:47,788.788] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:35:52,139.139] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:35:52,142.142] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:37:02,378.378] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 16:37:02,665.665] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:37:07,061.061] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:37:07,063.063] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:37:19,973.973] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 16:37:20,284.284] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:37:24,605.605] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:37:24,608.608] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:37:31,869.869] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 16:37:32,133.133] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:37:43,123.123] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:37:47,592.592] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:37:47,594.594] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:39:15,097.097] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\schema\\dataset_schema.py', reloading
[2024-10-12 16:39:15,381.381] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:39:19,648.648] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:39:19,651.651] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:39:44,021.021] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\handler\\dataset_handler.py', reloading
[2024-10-12 16:39:44,329.329] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:39:48,561.561] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:39:48,563.563] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:40:30,162.162] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\router\\router.py', reloading
[2024-10-12 16:40:30,464.464] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:40:34,750.750] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:40:34,752.752] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:42:19,645.645] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:42:19,911.911] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:42:24,105.105] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:42:24,107.107] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:42:32,447.447] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 844, in dispatch_request
    self.raise_routing_exception(req)
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 453, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\werkzeug\routing\map.py", line 624, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-12 16:42:32,473.473] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:42:32] "[35m[1mGET /datasets/:dataset_id/queries HTTP/1.1[0m" 500 -
[2024-10-12 16:42:45,324.324] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:42:45,324.324] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:42:45,325.325] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:42:45,325.325] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:42:45,326.326] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:42:45,326.326] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:42:45,327.327] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:42:45,328.328] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:42:45,328.328] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:42:45,331.331] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset_query.id AS dataset_query_id, dataset_query.dataset_id AS dataset_query_dataset_id, dataset_query.query AS dataset_query_query, dataset_query.source AS dataset_query_source, dataset_query.source_app_id AS dataset_query_source_app_id, dataset_query.created_by AS dataset_query_created_by, dataset_query.updated_at AS dataset_query_updated_at, dataset_query.created_at AS dataset_query_created_at 
FROM dataset_query 
WHERE dataset_query.dataset_id = %(dataset_id_1)s::UUID ORDER BY dataset_query.created_at DESC
[2024-10-12 16:42:45,332.332] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00027s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:42:45,340.340] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:42:45,341.341] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:42:45] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/queries HTTP/1.1" 200 -
[2024-10-12 16:43:35,632.632] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\dataset_service.py', reloading
[2024-10-12 16:43:35,954.954] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 16:43:40,336.336] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 16:43:40,338.338] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 16:43:56,861.861] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 16:43:56,861.861] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:43:56,862.862] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 16:43:56,863.863] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:43:56,863.863] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 16:43:56,863.863] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 16:43:56,864.864] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 16:43:56,866.866] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 16:43:56,866.866] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 16:43:56,868.868] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset_query.id AS dataset_query_id, dataset_query.dataset_id AS dataset_query_dataset_id, dataset_query.query AS dataset_query_query, dataset_query.source AS dataset_query_source, dataset_query.source_app_id AS dataset_query_source_app_id, dataset_query.created_by AS dataset_query_created_by, dataset_query.updated_at AS dataset_query_updated_at, dataset_query.created_at AS dataset_query_created_at 
FROM dataset_query 
WHERE dataset_query.dataset_id = %(dataset_id_1)s::UUID ORDER BY dataset_query.created_at DESC 
 LIMIT %(param_1)s
[2024-10-12 16:43:56,869.869] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00024s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 10}
[2024-10-12 16:43:56,871.871] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 16:43:56,871.871] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 16:43:56] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/queries HTTP/1.1" 200 -
[2024-10-12 19:51:01,393.393] base.py -> get_connection line:842 [INFO]: Connection <connection object at 0x00000190E145C6A0; dsn: 'user=postgres password=xxx dbname=llmops host=192.168.2.120 port=5432 client_encoding=utf8', closed: 0> exceeded timeout; recycling
[2024-10-12 19:51:40,128.128] _internal.py -> _log line:96 [INFO]: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-12 19:51:40,128.128] _internal.py -> _log line:96 [INFO]: [33mPress CTRL+C to quit[0m
[2024-10-12 19:51:40,129.129] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 19:51:49,690.690] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 19:51:49,693.693] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 19:51:50,942.942] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 19:51:50,942.942] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 19:51:50,943.943] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 19:51:50,943.943] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 19:51:50,944.944] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 19:51:50,944.944] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 19:51:50,944.944] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:50,945.945] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 19:51:50,945.945] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:51:50,947.947] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset_query.id AS dataset_query_id, dataset_query.dataset_id AS dataset_query_dataset_id, dataset_query.query AS dataset_query_query, dataset_query.source AS dataset_query_source, dataset_query.source_app_id AS dataset_query_source_app_id, dataset_query.created_by AS dataset_query_created_by, dataset_query.updated_at AS dataset_query_updated_at, dataset_query.created_at AS dataset_query_created_at 
FROM dataset_query 
WHERE dataset_query.dataset_id = %(dataset_id_1)s::UUID ORDER BY dataset_query.created_at DESC 
 LIMIT %(param_1)s
[2024-10-12 19:51:50,947.947] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00013s] {'dataset_id_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'param_1': 10}
[2024-10-12 19:51:50,949.949] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 19:51:50,949.949] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 19:51:50] "GET /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/queries HTTP/1.1" 200 -
[2024-10-12 19:51:53,016.016] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:53,016.016] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 19:51:53,016.016] base.py -> _exec_single_context line:1908 [INFO]: [cached since 2.071s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:51:53,018.018] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 19:51:53,018.018] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:51:55,264.264] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 19:51:55,264.264] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 19:51:55,568.568] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.304 seconds.
[2024-10-12 19:51:55,568.568] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 19:51:55,569.569] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 19:51:55,569.569] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00019s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:51:55,572.572] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 19:51:55,572.572] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00022s] {'id_1_1': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_2': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_3': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0'}
[2024-10-12 19:51:55,574.574] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,574.574] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00015s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,581.581] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,583.583] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,584.584] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,584.584] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.009285s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,585.585] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,586.586] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,587.587] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,587.587] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01219s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,587.587] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,589.589] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,589.589] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,589.589] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01429s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,590.590] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,591.591] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,591.591] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,591.591] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01622s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,591.591] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,592.592] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,592.592] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,592.592] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01835s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,593.593] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,594.594] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,594.594] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,594.594] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.02024s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,595.595] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,596.596] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,596.596] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,597.597] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.0227s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,597.597] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,599.599] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,599.599] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,599.599] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.02527s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,600.600] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,601.601] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,602.602] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:55,602.602] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.02777s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:55,603.603] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,604.604] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,605.605] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 19:51:55,605.605] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': UUID('c81d9e46-a567-40d7-8bdb-e9abad764ca9'), 'id_1_3': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_4': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_5': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_6': UUID('df2676ee-80e3-4f2a-8264-e964737999d7'), 'id_1_7': UUID('b3602036-ff74-4fe3-ab5c-4599ee6bb26d'), 'id_1_8': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_9': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_10': UUID('4adb6c36-fb5d-4818-87d4-dc7983a74812')}
[2024-10-12 19:51:55,606.606] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:55,609.609] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:55,609.609] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 19:51:55,609.609] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.03739s ago] {'id_1_1': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_2': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_3': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_4': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_5': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_6': 'df2676ee-80e3-4f2a-8264-e964737999d7', 'id_1_7': 'b3602036-ff74-4fe3-ab5c-4599ee6bb26d', 'id_1_8': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_9': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_10': '4adb6c36-fb5d-4818-87d4-dc7983a74812'}
[2024-10-12 19:51:55,612.612] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 19:51:55,612.612] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 19:51:55,614.614] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,614.614] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,615.615] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,615.615] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001563s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,616.616] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,616.616] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.002478s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,617.617] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,617.617] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.003337s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,618.618] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,618.618] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004228s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,619.619] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,619.619] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005002s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,619.619] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,619.619] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005714s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,620.620] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,620.620] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006531s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,621.621] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,621.621] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007277s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,622.622] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:55,622.622] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.007989s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:55,623.623] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 19:51:55,624.624] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 19:51:55] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 19:51:57,387.387] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:57,387.387] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 19:51:57,387.387] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.443s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:51:57,388.388] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 19:51:57,388.388] base.py -> _exec_single_context line:1908 [INFO]: [cached since 4.371s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:51:58,618.618] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 19:51:58,618.618] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.049s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:51:58,621.621] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 19:51:58,621.621] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.049s ago] {'id_1_1': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_2': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_3': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0'}
[2024-10-12 19:51:58,622.622] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,622.622] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.048s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,623.623] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,626.626] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,626.626] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,626.626] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.051s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,627.627] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,628.628] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,628.628] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,628.628] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.053s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,629.629] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,630.630] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,630.630] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,630.630] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.055s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,630.630] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,632.632] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,632.632] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,633.633] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.058s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,634.634] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,634.634] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,634.634] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,634.634] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.06s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,635.635] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,636.636] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,636.636] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,636.636] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.062s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,637.637] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,638.638] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,639.639] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,639.639] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.065s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,639.639] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,640.640] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,641.641] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,641.641] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.067s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,641.641] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,643.643] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,643.643] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:51:58,643.643] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.069s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:51:58,643.643] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,645.645] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,645.645] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 19:51:58,645.645] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.04s ago] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': UUID('c81d9e46-a567-40d7-8bdb-e9abad764ca9'), 'id_1_3': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_4': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_5': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_6': UUID('df2676ee-80e3-4f2a-8264-e964737999d7'), 'id_1_7': UUID('b3602036-ff74-4fe3-ab5c-4599ee6bb26d'), 'id_1_8': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_9': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_10': UUID('4adb6c36-fb5d-4818-87d4-dc7983a74812')}
[2024-10-12 19:51:58,646.646] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:51:58,647.647] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:51:58,648.648] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 19:51:58,648.648] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.076s ago] {'id_1_1': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_2': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_3': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_4': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_5': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_6': 'df2676ee-80e3-4f2a-8264-e964737999d7', 'id_1_7': 'b3602036-ff74-4fe3-ab5c-4599ee6bb26d', 'id_1_8': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_9': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_10': '4adb6c36-fb5d-4818-87d4-dc7983a74812'}
[2024-10-12 19:51:58,650.650] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 19:51:58,650.650] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.038s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 19:51:58,651.651] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,651.651] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.037s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,651.651] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,652.652] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.038s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,652.652] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,652.652] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.039s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,653.653] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,653.653] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.04s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,654.654] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,654.654] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.04s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,654.654] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,654.654] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.041s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,655.655] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,655.655] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.041s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,656.656] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,656.656] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.042s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,656.656] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,656.656] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.043s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,657.657] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:51:58,657.657] base.py -> _exec_single_context line:1908 [INFO]: [cached since 3.043s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:51:58,658.658] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 19:51:58,659.659] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 19:51:58] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 19:52:04,707.707] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:04,707.707] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 19:52:04,708.708] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.76s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:52:04,709.709] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 19:52:04,709.709] base.py -> _exec_single_context line:1908 [INFO]: [cached since 11.69s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:52:06,373.373] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 19:52:06,373.373] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 19:52:06,375.375] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID)
[2024-10-12 19:52:06,375.375] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'id_1_1': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_2': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_3': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0'}
[2024-10-12 19:52:06,377.377] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,377.377] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,378.378] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,381.381] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,382.382] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,382.382] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.81s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,383.383] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,384.384] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,385.385] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,385.385] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.81s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,386.386] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,387.387] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,387.387] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,387.387] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.81s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,388.388] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,390.390] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,390.390] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,390.390] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.82s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,391.391] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,392.392] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,392.392] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,392.392] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.82s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,393.393] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,394.394] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,394.394] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,394.394] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.82s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,395.395] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,396.396] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,396.396] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,396.396] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.82s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,397.397] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,398.398] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,399.399] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,399.399] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.82s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,399.399] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,400.400] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,401.401] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 19:52:06,401.401] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.83s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 19:52:06,401.401] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,402.402] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,403.403] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 19:52:06,403.403] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': UUID('c81d9e46-a567-40d7-8bdb-e9abad764ca9'), 'id_1_3': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_4': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_5': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_6': UUID('df2676ee-80e3-4f2a-8264-e964737999d7'), 'id_1_7': UUID('b3602036-ff74-4fe3-ab5c-4599ee6bb26d'), 'id_1_8': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_9': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_10': UUID('4adb6c36-fb5d-4818-87d4-dc7983a74812')}
[2024-10-12 19:52:06,403.403] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 19:52:06,404.404] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 19:52:06,405.405] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 19:52:06,405.405] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.83s ago] {'id_1_1': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_2': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_3': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_4': '109a7bb3-92d8-4e1b-ae88-611ef4ba2cb0', 'id_1_5': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_6': 'df2676ee-80e3-4f2a-8264-e964737999d7', 'id_1_7': 'b3602036-ff74-4fe3-ab5c-4599ee6bb26d', 'id_1_8': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_9': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_10': '4adb6c36-fb5d-4818-87d4-dc7983a74812'}
[2024-10-12 19:52:06,406.406] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 19:52:06,406.406] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.79s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 19:52:06,407.407] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,407.407] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.79s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,407.407] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,407.407] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.79s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,408.408] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,408.408] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.79s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,409.409] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,409.409] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,409.409] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,409.409] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,410.410] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,410.410] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,411.411] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,411.411] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,411.411] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,411.411] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,412.412] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,413.413] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,413.413] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 19:52:06,413.413] base.py -> _exec_single_context line:1908 [INFO]: [cached since 10.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 19:52:06,414.414] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 19:52:06,415.415] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 19:52:06] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:03:07,598.598] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:07,598.598] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:03:07,598.598] base.py -> _exec_single_context line:1908 [INFO]: [cached since 676.7s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:03:07,599.599] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:03:07,600.600] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674.6s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:03:09,549.549] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,549.549] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,550.550] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,553.553] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,554.554] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,554.554] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,555.555] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,557.557] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,557.557] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,557.557] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,558.558] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,560.560] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,561.561] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,561.561] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,562.562] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,563.563] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,564.564] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,564.564] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,565.565] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,567.567] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,567.567] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,567.567] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,568.568] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,570.570] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,570.570] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,570.570] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,571.571] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,608.608] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,608.608] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,608.608] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,609.609] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,610.610] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,610.610] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,611.611] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,611.611] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,612.612] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,613.613] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:03:09,613.613] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '你能告诉我什么是LLMOps么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:03:09,613.613] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,614.614] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,615.615] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:03:09,615.615] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'hit_count_1': 1, 'id_1_1': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac'), 'id_1_2': UUID('c81d9e46-a567-40d7-8bdb-e9abad764ca9'), 'id_1_3': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_4': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_5': UUID('df2676ee-80e3-4f2a-8264-e964737999d7'), 'id_1_6': UUID('b3602036-ff74-4fe3-ab5c-4599ee6bb26d'), 'id_1_7': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_8': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_9': UUID('4adb6c36-fb5d-4818-87d4-dc7983a74812'), 'id_1_10': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920')}
[2024-10-12 20:03:09,616.616] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:03:09,618.618] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:03:09,618.618] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:03:09,618.618] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1_1': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac', 'id_1_2': 'c81d9e46-a567-40d7-8bdb-e9abad764ca9', 'id_1_3': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_4': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_5': 'df2676ee-80e3-4f2a-8264-e964737999d7', 'id_1_6': 'b3602036-ff74-4fe3-ab5c-4599ee6bb26d', 'id_1_7': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_8': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_9': '4adb6c36-fb5d-4818-87d4-dc7983a74812', 'id_1_10': '25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'}
[2024-10-12 20:03:09,619.619] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 20:03:09,620.620] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 20:03:09,620.620] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,623.623] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,623.623] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,623.623] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,624.624] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,624.624] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,625.625] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,625.625] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,625.625] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,625.625] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,626.626] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,626.626] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,627.627] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,627.627] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,628.628] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,628.628] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,629.629] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,629.629] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,629.629] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:03:09,630.630] base.py -> _exec_single_context line:1908 [INFO]: [cached since 674s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:03:09,631.631] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:03:09,631.631] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:03:09] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:03:48,273.273] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\service\\vector_database_service.py', reloading
[2024-10-12 20:03:48,566.566] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 20:04:13,789.789] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 20:04:13,795.795] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 20:10:00,860.860] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 20:10:00,860.860] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 20:10:00,861.861] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 20:10:00,861.861] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 20:10:00,862.862] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 20:10:00,862.862] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 20:10:00,862.862] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:00,864.864] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:10:00,864.864] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00014s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:00,866.866] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:10:00,866.866] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:03,448.448] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,448.448] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,448.448] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,450.450] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,450.450] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,450.450] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.003069s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,451.451] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,452.452] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,452.452] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,452.452] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005121s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,453.453] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,454.454] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,454.454] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,454.454] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006877s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,455.455] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,456.456] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,456.456] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,456.456] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.008629s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,456.456] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,457.457] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,458.458] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,458.458] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01059s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,459.459] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,460.460] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,460.460] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,460.460] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.0131s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,461.461] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,462.462] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,462.462] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,462.462] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01481s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,463.463] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,464.464] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,464.464] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,464.464] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.0165s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,465.465] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,465.465] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,466.466] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:03,466.466] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.01815s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:03,466.466] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,468.468] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,469.469] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:10:03,469.469] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00028s] {'hit_count_1': 1, 'id_1_1': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_2': UUID('4bb0d451-b34b-4b97-8ddd-3afbe47236f1'), 'id_1_3': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_4': UUID('5fbcb8b3-3d1e-40a8-9320-ac814f8a22ea'), 'id_1_5': UUID('8905f4ba-9870-4d9d-b251-21c7dea924f8'), 'id_1_6': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_7': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_8': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_9': UUID('9a74cac7-b8a2-4897-8146-e9ed6fc67fcf'), 'id_1_10': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac')}
[2024-10-12 20:10:03,471.471] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:03,473.473] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:03,474.474] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:10:03,474.474] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00016s] {'id_1_1': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_2': '4bb0d451-b34b-4b97-8ddd-3afbe47236f1', 'id_1_3': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_4': '5fbcb8b3-3d1e-40a8-9320-ac814f8a22ea', 'id_1_5': '8905f4ba-9870-4d9d-b251-21c7dea924f8', 'id_1_6': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_7': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_8': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_9': '9a74cac7-b8a2-4897-8146-e9ed6fc67fcf', 'id_1_10': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac'}
[2024-10-12 20:10:03,479.479] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 20:10:03,479.479] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 20:10:03,480.480] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,481.481] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00023s] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,481.481] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,481.481] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001081s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,482.482] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,482.482] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.001716s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,483.483] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,483.483] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.002392s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,483.483] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,484.484] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.003147s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,484.484] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,484.484] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.003756s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,484.484] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,484.484] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.004459s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,485.485] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,485.485] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.005157s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,485.485] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,485.485] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.00576s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,486.486] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:03,486.486] base.py -> _exec_single_context line:1908 [INFO]: [cached since 0.006415s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:03,487.487] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:10:03,488.488] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:10:03] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:10:07,709.709] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:07,709.709] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:10:07,709.709] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.845s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:07,710.710] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:10:07,710.710] base.py -> _exec_single_context line:1908 [INFO]: [cached since 6.845s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:09,052.052] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,052.052] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.605s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,053.053] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,058.058] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,058.058] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,059.059] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.611s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,059.059] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,061.061] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,061.061] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,061.061] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.613s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,062.062] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,063.063] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,063.063] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,063.063] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.615s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,064.064] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,065.065] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,065.065] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,065.065] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.617s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,066.066] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,067.067] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,067.067] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,067.067] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.619s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,068.068] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,070.070] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,070.070] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,070.070] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.622s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,071.071] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,072.072] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,072.072] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,072.072] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.624s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,072.072] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,074.074] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,074.074] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,074.074] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.627s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,075.075] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,077.077] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,077.077] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:09,077.077] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.63s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:09,078.078] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,079.079] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,079.079] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:10:09,079.079] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.611s ago] {'hit_count_1': 1, 'id_1_1': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_2': UUID('4bb0d451-b34b-4b97-8ddd-3afbe47236f1'), 'id_1_3': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_4': UUID('5fbcb8b3-3d1e-40a8-9320-ac814f8a22ea'), 'id_1_5': UUID('8905f4ba-9870-4d9d-b251-21c7dea924f8'), 'id_1_6': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_7': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_8': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_9': UUID('9a74cac7-b8a2-4897-8146-e9ed6fc67fcf'), 'id_1_10': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac')}
[2024-10-12 20:10:09,080.080] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:09,081.081] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:09,082.082] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:10:09,082.082] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.608s ago] {'id_1_1': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_2': '4bb0d451-b34b-4b97-8ddd-3afbe47236f1', 'id_1_3': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_4': '5fbcb8b3-3d1e-40a8-9320-ac814f8a22ea', 'id_1_5': '8905f4ba-9870-4d9d-b251-21c7dea924f8', 'id_1_6': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_7': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_8': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_9': '9a74cac7-b8a2-4897-8146-e9ed6fc67fcf', 'id_1_10': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac'}
[2024-10-12 20:10:09,083.083] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 20:10:09,083.083] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.605s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 20:10:09,084.084] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,084.084] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.604s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,084.084] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,084.084] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.604s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,085.085] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,085.085] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.605s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,086.086] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,086.086] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.606s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,086.086] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,086.086] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.606s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,087.087] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,087.087] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.607s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,088.088] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,088.088] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.608s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,088.088] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,088.088] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.608s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,089.089] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,089.089] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.609s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,090.090] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:09,090.090] base.py -> _exec_single_context line:1908 [INFO]: [cached since 5.61s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:09,092.092] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:10:09,092.092] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:10:09] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:10:17,050.050] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:17,050.050] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:10:17,050.050] base.py -> _exec_single_context line:1908 [INFO]: [cached since 16.19s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:17,051.051] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:10:17,051.051] base.py -> _exec_single_context line:1908 [INFO]: [cached since 16.19s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:17,052.052] __init__.py -> initialize line:113 [DEBUG]: Building prefix dict from the default dictionary ...
[2024-10-12 20:10:17,052.052] __init__.py -> initialize line:132 [DEBUG]: Loading model from cache C:\Users\Administrator\AppData\Local\Temp\jieba.cache
[2024-10-12 20:10:17,358.358] __init__.py -> initialize line:164 [DEBUG]: Loading model cost 0.306 seconds.
[2024-10-12 20:10:17,358.358] __init__.py -> initialize line:166 [DEBUG]: Prefix dict has been built successfully.
[2024-10-12 20:10:17,359.359] base.py -> _exec_single_context line:1903 [INFO]: SELECT keyword_table.keyword_table AS keyword_table_keyword_table 
FROM keyword_table 
WHERE keyword_table.dataset_id IN (%(dataset_id_1_1)s::UUID)
[2024-10-12 20:10:17,359.359] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00017s] {'dataset_id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:17,360.360] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 20:10:17,360.360] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.89s ago] {'id_1_1': '30678e70-5c20-4d00-b913-986f8e09aa3e', 'id_1_2': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac'}
[2024-10-12 20:10:17,362.362] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:17,362.362] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.91s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:17,362.362] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:17,364.364] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:17,365.365] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:17,365.365] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.92s ago] {'dataset_id': 'f3f28f75-8e60-4eba-b6df-4d1b390bbd89', 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:17,365.365] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:17,366.366] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:17,366.366] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 20:10:17,367.367] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.9s ago] {'hit_count_1': 1, 'id_1_1': '30678e70-5c20-4d00-b913-986f8e09aa3e', 'id_1_2': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac'}
[2024-10-12 20:10:17,367.367] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:17,368.368] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:17,368.368] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID)
[2024-10-12 20:10:17,368.368] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.89s ago] {'id_1_1': '30678e70-5c20-4d00-b913-986f8e09aa3e', 'id_1_2': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac'}
[2024-10-12 20:10:17,369.369] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 20:10:17,369.369] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.89s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 20:10:17,370.370] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:17,370.370] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.89s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:17,370.370] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:17,371.371] base.py -> _exec_single_context line:1908 [INFO]: [cached since 13.89s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:17,371.371] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:10:17,372.372] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:10:17] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:10:28,998.998] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:28,998.998] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:10:28,998.998] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.13s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:28,999.999] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:10:28,999.999] base.py -> _exec_single_context line:1908 [INFO]: [cached since 28.13s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:10:30,833.833] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,833.833] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,833.833] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,835.835] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,836.836] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,836.836] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,836.836] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,837.837] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,838.838] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,838.838] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,839.839] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,840.840] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,840.840] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,840.840] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,841.841] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,842.842] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,842.842] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,843.843] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,843.843] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,844.844] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,844.844] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,844.844] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,845.845] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,846.846] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,846.846] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,847.847] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,848.848] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,849.849] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,849.849] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,849.849] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,849.849] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,850.850] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,851.851] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,851.851] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.4s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,851.851] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,853.853] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,853.853] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:10:30,853.853] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.41s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:10:30,854.854] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,856.856] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,857.857] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:10:30,857.857] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'hit_count_1': 1, 'id_1_1': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_2': UUID('4bb0d451-b34b-4b97-8ddd-3afbe47236f1'), 'id_1_3': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_4': UUID('5fbcb8b3-3d1e-40a8-9320-ac814f8a22ea'), 'id_1_5': UUID('8905f4ba-9870-4d9d-b251-21c7dea924f8'), 'id_1_6': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_7': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_8': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_9': UUID('9a74cac7-b8a2-4897-8146-e9ed6fc67fcf'), 'id_1_10': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac')}
[2024-10-12 20:10:30,857.857] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:10:30,859.859] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:10:30,859.859] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:10:30,859.859] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'id_1_1': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_2': '4bb0d451-b34b-4b97-8ddd-3afbe47236f1', 'id_1_3': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_4': '5fbcb8b3-3d1e-40a8-9320-ac814f8a22ea', 'id_1_5': '8905f4ba-9870-4d9d-b251-21c7dea924f8', 'id_1_6': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_7': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_8': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_9': '9a74cac7-b8a2-4897-8146-e9ed6fc67fcf', 'id_1_10': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac'}
[2024-10-12 20:10:30,860.860] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 20:10:30,861.861] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.38s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 20:10:30,861.861] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,861.861] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.38s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,861.861] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,861.861] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.38s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,862.862] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,862.862] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.38s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,863.863] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,863.863] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.38s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,863.863] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,863.863] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.38s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,864.864] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,864.864] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.38s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,865.865] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,865.865] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,866.866] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,867.867] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,868.868] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,868.868] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,868.868] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:10:30,868.868] base.py -> _exec_single_context line:1908 [INFO]: [cached since 27.39s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:10:30,870.870] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:10:30,870.870] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:10:30] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:11:25,425.425] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:25,425.425] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:11:25,425.425] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.56s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:11:25,426.426] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:11:25,426.426] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.56s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:11:27,469.469] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,469.469] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.02s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,470.470] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,487.487] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,488.488] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,488.488] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,489.489] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,490.490] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,490.490] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,490.490] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,491.491] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,492.492] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,492.492] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,492.492] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,493.493] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,495.495] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,495.495] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,495.495] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.05s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,496.496] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,497.497] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,497.497] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,497.497] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.05s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,497.497] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,499.499] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,499.499] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,499.499] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.05s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,500.500] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,501.501] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,502.502] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,502.502] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.05s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,503.503] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,504.504] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,504.504] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,504.504] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.06s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,505.505] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,506.506] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,506.506] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:27,506.506] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.06s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '关于Flask的项目有哪些呢？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:27,507.507] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,509.509] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,509.509] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:11:27,509.509] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'hit_count_1': 1, 'id_1_1': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_2': UUID('4bb0d451-b34b-4b97-8ddd-3afbe47236f1'), 'id_1_3': UUID('fe46f411-6c59-4906-8998-4b44926df69e'), 'id_1_4': UUID('5fbcb8b3-3d1e-40a8-9320-ac814f8a22ea'), 'id_1_5': UUID('8905f4ba-9870-4d9d-b251-21c7dea924f8'), 'id_1_6': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_7': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_8': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_9': UUID('9a74cac7-b8a2-4897-8146-e9ed6fc67fcf'), 'id_1_10': UUID('3dacd1a6-8e2e-46c2-8495-c660f64e49ac')}
[2024-10-12 20:11:27,509.509] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:27,510.510] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:27,510.510] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:11:27,510.510] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'id_1_1': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_2': '4bb0d451-b34b-4b97-8ddd-3afbe47236f1', 'id_1_3': 'fe46f411-6c59-4906-8998-4b44926df69e', 'id_1_4': '5fbcb8b3-3d1e-40a8-9320-ac814f8a22ea', 'id_1_5': '8905f4ba-9870-4d9d-b251-21c7dea924f8', 'id_1_6': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_7': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_8': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_9': '9a74cac7-b8a2-4897-8146-e9ed6fc67fcf', 'id_1_10': '3dacd1a6-8e2e-46c2-8495-c660f64e49ac'}
[2024-10-12 20:11:27,511.511] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 20:11:27,512.512] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.03s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 20:11:27,512.512] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,512.512] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.03s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,513.513] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,513.513] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.03s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,514.514] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,514.514] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.03s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,514.514] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,515.515] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.03s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,515.515] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,515.515] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,516.516] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,516.516] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,517.517] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,517.517] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,518.518] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,518.518] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,519.519] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,519.519] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,520.520] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:27,521.521] base.py -> _exec_single_context line:1908 [INFO]: [cached since 84.04s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:27,522.522] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:11:27,523.523] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:11:27] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:11:42,385.385] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:42,385.385] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:11:42,386.386] base.py -> _exec_single_context line:1908 [INFO]: [cached since 101.5s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:11:42,387.387] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:11:42,387.387] base.py -> _exec_single_context line:1908 [INFO]: [cached since 101.5s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:11:44,267.267] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,267.267] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,268.268] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,276.276] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,276.276] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,276.276] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,277.277] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,278.278] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,278.278] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,278.278] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,279.279] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,280.280] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,280.280] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,280.280] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,281.281] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,282.282] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,282.282] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,282.282] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,283.283] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,284.284] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,285.285] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,285.285] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,286.286] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,287.287] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,287.287] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,287.287] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,287.287] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,288.288] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,289.289] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,289.289] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,289.289] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,290.290] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,291.291] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,291.291] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,291.291] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,292.292] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,293.293] base.py -> _exec_single_context line:1903 [INFO]: INSERT INTO dataset_query (dataset_id, query, source, source_app_id, created_by) VALUES (%(dataset_id)s::UUID, %(query)s, %(source)s, %(source_app_id)s::UUID, %(created_by)s::UUID) RETURNING dataset_query.id, dataset_query.updated_at, dataset_query.created_at
[2024-10-12 20:11:44,293.293] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'dataset_id': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89'), 'query': '想学习flask，有什么建议么？', 'source': <RetrievalSource.HIT_TESTING: 'hit_testing'>, 'source_app_id': None, 'created_by': '46db30d1-3199-4e79-a0cd-abf12fa6858f'}
[2024-10-12 20:11:44,293.293] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,294.294] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,295.295] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:11:44,295.295] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'hit_count_1': 1, 'id_1_1': UUID('4bb0d451-b34b-4b97-8ddd-3afbe47236f1'), 'id_1_2': UUID('e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa'), 'id_1_3': UUID('3472fa81-8d88-4cb4-bd9b-7d28f9a7f9eb'), 'id_1_4': UUID('b3f3d69d-6ea6-43c4-bba4-b1c63b08474e'), 'id_1_5': UUID('fa5a8ee4-591a-4965-b82b-0ff6dca67be4'), 'id_1_6': UUID('4adb6c36-fb5d-4818-87d4-dc7983a74812'), 'id_1_7': UUID('25e9fe45-24f2-4f5c-a2f7-86e15bf5f920'), 'id_1_8': UUID('07bb092a-200a-4745-b47d-40ec367b796a'), 'id_1_9': UUID('df2676ee-80e3-4f2a-8264-e964737999d7'), 'id_1_10': UUID('e2408665-8364-4efa-9aa0-99e4cf3815ee')}
[2024-10-12 20:11:44,295.295] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:11:44,297.297] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:11:44,297.297] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (%(id_1_1)s::UUID, %(id_1_2)s::UUID, %(id_1_3)s::UUID, %(id_1_4)s::UUID, %(id_1_5)s::UUID, %(id_1_6)s::UUID, %(id_1_7)s::UUID, %(id_1_8)s::UUID, %(id_1_9)s::UUID, %(id_1_10)s::UUID)
[2024-10-12 20:11:44,297.297] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1_1': '4bb0d451-b34b-4b97-8ddd-3afbe47236f1', 'id_1_2': 'e8d2ffa0-5ff3-4673-976f-5a14d5ba55fa', 'id_1_3': '3472fa81-8d88-4cb4-bd9b-7d28f9a7f9eb', 'id_1_4': 'b3f3d69d-6ea6-43c4-bba4-b1c63b08474e', 'id_1_5': 'fa5a8ee4-591a-4965-b82b-0ff6dca67be4', 'id_1_6': '4adb6c36-fb5d-4818-87d4-dc7983a74812', 'id_1_7': '25e9fe45-24f2-4f5c-a2f7-86e15bf5f920', 'id_1_8': '07bb092a-200a-4745-b47d-40ec367b796a', 'id_1_9': 'df2676ee-80e3-4f2a-8264-e964737999d7', 'id_1_10': 'e2408665-8364-4efa-9aa0-99e4cf3815ee'}
[2024-10-12 20:11:44,299.299] base.py -> _exec_single_context line:1903 [INFO]: SELECT document.id AS document_id, document.account_id AS document_account_id, document.dataset_id AS document_dataset_id, document.upload_file_id AS document_upload_file_id, document.process_rule_id AS document_process_rule_id, document.batch AS document_batch, document.name AS document_name, document.position AS document_position, document.character_count AS document_character_count, document.token_count AS document_token_count, document.processing_started_at AS document_processing_started_at, document.parsing_completed_at AS document_parsing_completed_at, document.splitting_completed_at AS document_splitting_completed_at, document.indexing_completed_at AS document_indexing_completed_at, document.completed_at AS document_completed_at, document.stopped_at AS document_stopped_at, document.error AS document_error, document.enabled AS document_enabled, document.disabled_at AS document_disabled_at, document.status AS document_status, document.updated_at AS document_updated_at, document.created_at AS document_created_at 
FROM document 
WHERE document.id = %(pk_1)s::UUID
[2024-10-12 20:11:44,299.299] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'pk_1': UUID('d4b902e3-a013-4780-93fa-6fc300ab6bf8')}
[2024-10-12 20:11:44,300.300] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,300.300] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,300.300] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,300.300] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,301.301] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,301.301] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,302.302] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,303.303] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,303.303] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,303.303] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,304.304] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,304.304] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,305.305] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,305.305] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,305.305] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,305.305] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,305.305] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,305.305] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,306.306] base.py -> _exec_single_context line:1903 [INFO]: SELECT upload_file.id AS upload_file_id, upload_file.account_id AS upload_file_account_id, upload_file.name AS upload_file_name, upload_file.key AS upload_file_key, upload_file.size AS upload_file_size, upload_file.extension AS upload_file_extension, upload_file.mime_type AS upload_file_mime_type, upload_file.hash AS upload_file_hash, upload_file.updated_at AS upload_file_updated_at, upload_file.created_at AS upload_file_created_at 
FROM upload_file 
WHERE upload_file.id = %(id_1)s::UUID
[2024-10-12 20:11:44,306.306] base.py -> _exec_single_context line:1908 [INFO]: [cached since 100.8s ago] {'id_1': UUID('4cdddf4d-6642-4bb3-87be-63dc77408c7e')}
[2024-10-12 20:11:44,307.307] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:11:44,307.307] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:11:44] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:12:04,820.820] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:12:04,820.820] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:12:04,821.821] base.py -> _exec_single_context line:1908 [INFO]: [cached since 124s ago] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:12:04,822.822] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:12:04,822.822] base.py -> _exec_single_context line:1908 [INFO]: [cached since 124s ago] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:12:06,564.564] base.py -> similarity_search_with_relevance_scores line:572 [WARNING]: No relevant docs were retrieved using the relevance score threshold 0.9
[2024-10-12 20:12:06,565.565] http.py -> _register_error_handler line:66 [ERROR]: An error occurred: not enough values to unpack (expected 2, got 0)
Traceback (most recent call last):
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 870, in full_dispatch_request
    rv = self.dispatch_request()
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\flask\app.py", line 855, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "D:\Code\llmops\llmops-api\internal\handler\dataset_handler.py", line 54, in hit
    hit_result = self.dataset_service.hit(dataset_id, req)
  File "D:\Code\llmops\llmops-api\internal\service\dataset_service.py", line 155, in hit
    lc_documents = self.retrieval_service.search_in_datasets(
  File "D:\Code\llmops\llmops-api\internal\service\retrieval_service.py", line 80, in search_in_datasets
    lc_documents = semantic_retriever.invoke(query)[:k]
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain_core\retrievers.py", line 252, in invoke
    raise e
  File "D:\Code\llmops\llmops-api\venv\lib\site-packages\langchain_core\retrievers.py", line 245, in invoke
    result = self._get_relevant_documents(
  File "D:\Code\llmops\llmops-api\internal\core\retrievers\semantic_retriever.py", line 33, in _get_relevant_documents
    lc_documents, scores = zip(*self.vector_store.similarity_search_with_relevance_scores(
ValueError: not enough values to unpack (expected 2, got 0)
[2024-10-12 20:12:06,566.566] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:12:06,578.578] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:12:06] "[35m[1mPOST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1[0m" 500 -
[2024-10-12 20:22:31,734.734] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 20:22:32,021.021] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 20:22:46,098.098] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 20:22:46,101.101] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 20:22:48,629.629] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 20:22:48,956.956] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 20:23:06,489.489] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 20:23:06,491.491] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
[2024-10-12 20:23:16,607.607] base.py -> _exec_single_context line:1903 [INFO]: select pg_catalog.version()
[2024-10-12 20:23:16,607.607] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 20:23:16,608.608] base.py -> _exec_single_context line:1903 [INFO]: select current_schema()
[2024-10-12 20:23:16,608.608] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 20:23:16,609.609] base.py -> _exec_single_context line:1903 [INFO]: show standard_conforming_strings
[2024-10-12 20:23:16,609.609] base.py -> _exec_single_context line:1908 [INFO]: [raw sql] {}
[2024-10-12 20:23:16,610.610] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:23:16,612.612] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id = %(pk_1)s::UUID
[2024-10-12 20:23:16,612.612] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00021s] {'pk_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:23:16,614.614] base.py -> _exec_single_context line:1903 [INFO]: SELECT dataset.id AS dataset_id, dataset.account_id AS dataset_account_id, dataset.name AS dataset_name, dataset.icon AS dataset_icon, dataset.description AS dataset_description, dataset.updated_at AS dataset_updated_at, dataset.created_at AS dataset_created_at 
FROM dataset 
WHERE dataset.id IN (%(id_1_1)s::UUID) AND dataset.account_id = %(account_id_1)s::UUID
[2024-10-12 20:23:16,614.614] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00042s] {'account_id_1': '46db30d1-3199-4e79-a0cd-abf12fa6858f', 'id_1_1': UUID('f3f28f75-8e60-4eba-b6df-4d1b390bbd89')}
[2024-10-12 20:23:18,824.824] base.py -> similarity_search_with_relevance_scores line:572 [WARNING]: No relevant docs were retrieved using the relevance score threshold 0.9
[2024-10-12 20:23:18,826.826] base.py -> _exec_single_context line:1903 [INFO]: UPDATE segment SET hit_count=(segment.hit_count + %(hit_count_1)s) WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 20:23:18,826.826] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00033s] {'hit_count_1': 1}
[2024-10-12 20:23:18,827.827] base.py -> _commit_impl line:1146 [INFO]: COMMIT
[2024-10-12 20:23:18,828.828] base.py -> _begin_impl line:1103 [INFO]: BEGIN (implicit)
[2024-10-12 20:23:18,831.831] base.py -> _exec_single_context line:1903 [INFO]: SELECT segment.id AS segment_id, segment.account_id AS segment_account_id, segment.dataset_id AS segment_dataset_id, segment.document_id AS segment_document_id, segment.node_id AS segment_node_id, segment.position AS segment_position, segment.content AS segment_content, segment.character_count AS segment_character_count, segment.token_count AS segment_token_count, segment.keywords AS segment_keywords, segment.hash AS segment_hash, segment.hit_count AS segment_hit_count, segment.enabled AS segment_enabled, segment.disabled_at AS segment_disabled_at, segment.processing_started_at AS segment_processing_started_at, segment.indexing_completed_at AS segment_indexing_completed_at, segment.completed_at AS segment_completed_at, segment.stopped_at AS segment_stopped_at, segment.error AS segment_error, segment.status AS segment_status, segment.updated_at AS segment_updated_at, segment.created_at AS segment_created_at 
FROM segment 
WHERE segment.id IN (NULL) AND (1 != 1)
[2024-10-12 20:23:18,831.831] base.py -> _exec_single_context line:1908 [INFO]: [generated in 0.00030s] {}
[2024-10-12 20:23:18,832.832] base.py -> _rollback_impl line:1129 [INFO]: ROLLBACK
[2024-10-12 20:23:18,833.833] _internal.py -> _log line:96 [INFO]: 127.0.0.1 - - [12/Oct/2024 20:23:18] "POST /datasets/f3f28f75-8e60-4eba-b6df-4d1b390bbd89/hit HTTP/1.1" 200 -
[2024-10-12 20:23:32,227.227] _internal.py -> _log line:96 [INFO]:  * Detected change in 'D:\\Code\\llmops\\llmops-api\\internal\\core\\retrievers\\semantic_retriever.py', reloading
[2024-10-12 20:23:32,549.549] _internal.py -> _log line:96 [INFO]:  * Restarting with stat
[2024-10-12 20:23:43,478.478] _internal.py -> _log line:96 [WARNING]:  * Debugger is active!
[2024-10-12 20:23:43,482.482] _internal.py -> _log line:96 [INFO]:  * Debugger PIN: 102-324-223
